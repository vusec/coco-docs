<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class PointerUnion: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageAE56DA4A37A44819"><span>class PointerUnion</span></a></li></ul></nav><main class="content"><h1>class PointerUnion</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">template &lt;typename... PTs&gt;
class PointerUnion { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>A discriminated union of two or more pointer types, with the discriminator in the low bit of the pointer. This implementation is extremely efficient in space due to leveraging the low bits of the pointer, while exposing a natural and type-safe API. Common use patterns would be something like this: PointerUnion &lt;int *, float*&gt; P; P = (int*)0; printf(&quot;%d %d&quot;, P.is &lt;int *&gt;(), P.is &lt;float *&gt;());  // prints &quot;1 0&quot; X = P.get &lt;int *&gt;();     // ok. Y = P.get &lt;float *&gt;();   // runtime assertion failure. Z = P.get &lt;double *&gt;();  // compile time failure. P = (float*)0; Y = P.get &lt;float *&gt;();   // ok. X = P.get &lt;int *&gt;();     // runtime assertion failure.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L156">llvm/include/llvm/ADT/PointerUnion.h:156</a></p><h2>Templates</h2><dl><dt class="is-family-code"><b> PTs</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#B7D51E0C96BC7BC1"><b>PointerUnion&lt;PTs...&gt;</b></a>()</li><li class="is-family-code">public  <a href="#F34A1F8D497FA444"><b>PointerUnion&lt;PTs...&gt;</b></a>(std::nullptr_t)</li><li class="is-family-code">public template &lt;typename T&gt;T  <a href="#D7F268C96969C889"><b>dyn_cast</b></a>() const</li><li class="is-family-code">public template &lt;typename T&gt;T  <a href="#5F87816DCCFECCB4"><b>get</b></a>() const</li><li class="is-family-code">public const llvm::PointerUnion::First *  <a href="#A04C4BA1127F883C"><b>getAddrOfPtr1</b></a>() const</li><li class="is-family-code">public llvm::PointerUnion::First *  <a href="#4A1516291744E151"><b>getAddrOfPtr1</b></a>()</li><li class="is-family-code">public static inline PointerUnion&lt;PTs...&gt;  <a href="#7229563D0CCBF6DE"><b>getFromOpaqueValue</b></a>(void * VP)</li><li class="is-family-code">public void *  <a href="#ED64DF1C2889E577"><b>getOpaqueValue</b></a>() const</li><li class="is-family-code">public template &lt;typename T&gt;int  <a href="#97ED11CC5CDF8C1A"><b>is</b></a>() const</li><li class="is-family-code">public bool  <a href="#3674403ABEC796CA"><b>isNull</b></a>() const</li><li class="is-family-code">public bool  <a href="#AA3F2DD308449B08"><b>operator bool</b></a>() const</li></ul><h2>Methods</h2><h3 id="B7D51E0C96BC7BC1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B7D51E0C96BC7BC1">¶</a><code class="hdoc-function-code language-cpp">PointerUnion&lt;PTs...&gt;()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L172">llvm/include/llvm/ADT/PointerUnion.h:172</a></p><h3 id="F34A1F8D497FA444"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F34A1F8D497FA444">¶</a><code class="hdoc-function-code language-cpp">PointerUnion&lt;PTs...&gt;(<a href="https://en.cppreference.com/w/cpp/types/nullptr_t">std::nullptr_t</a>)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L174">llvm/include/llvm/ADT/PointerUnion.h:174</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/types/nullptr_t">std::nullptr_t</a><b> </b></dt></dl><h3 id="D7F268C96969C889"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D7F268C96969C889">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename T&gt;
T dyn_cast() const</code></pre></h3><h4>Description</h4><p>Returns the current pointer if it is of the specified pointer type, otherwises returns null.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L201">llvm/include/llvm/ADT/PointerUnion.h:201</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> T</b></dt></dl><h3 id="5F87816DCCFECCB4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5F87816DCCFECCB4">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename T&gt;
T get() const</code></pre></h3><h4>Description</h4><p>Returns the value of the specified pointer type. If the specified pointer type is incorrect, assert.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L194">llvm/include/llvm/ADT/PointerUnion.h:194</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> T</b></dt></dl><h3 id="A04C4BA1127F883C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A04C4BA1127F883C">¶</a><code class="hdoc-function-code language-cpp">const llvm::PointerUnion::First* getAddrOfPtr1()
    const</code></pre></h3><h4>Description</h4><p>If the union is set to the first pointer type get an address pointing to it.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L209">llvm/include/llvm/ADT/PointerUnion.h:209</a></p><h3 id="4A1516291744E151"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4A1516291744E151">¶</a><code class="hdoc-function-code language-cpp">llvm::PointerUnion::First* getAddrOfPtr1()</code></pre></h3><h4>Description</h4><p>If the union is set to the first pointer type get an address pointing to it.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L215">llvm/include/llvm/ADT/PointerUnion.h:215</a></p><h3 id="7229563D0CCBF6DE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7229563D0CCBF6DE">¶</a><code class="hdoc-function-code language-cpp">static inline <a href="rAE56DA4A37A44819.html">PointerUnion</a>&lt;PTs...&gt;
getFromOpaqueValue(void* VP)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L235">llvm/include/llvm/ADT/PointerUnion.h:235</a></p><h4>Parameters</h4><dl><dt class="is-family-code">void*<b> VP</b></dt></dl><h3 id="ED64DF1C2889E577"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ED64DF1C2889E577">¶</a><code class="hdoc-function-code language-cpp">void* getOpaqueValue() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L234">llvm/include/llvm/ADT/PointerUnion.h:234</a></p><h3 id="97ED11CC5CDF8C1A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#97ED11CC5CDF8C1A">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename T&gt;
int is() const</code></pre></h3><h4>Description</h4><p>Test if the Union currently holds the type matching T.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L184">llvm/include/llvm/ADT/PointerUnion.h:184</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> T</b></dt></dl><h3 id="3674403ABEC796CA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3674403ABEC796CA">¶</a><code class="hdoc-function-code language-cpp">bool isNull() const</code></pre></h3><h4>Description</h4><p>Test if the pointer held in the union is null, regardless of which type it is.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L179">llvm/include/llvm/ADT/PointerUnion.h:179</a></p><h3 id="AA3F2DD308449B08"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AA3F2DD308449B08">¶</a><code class="hdoc-function-code language-cpp">bool operator bool() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PointerUnion.h#L181">llvm/include/llvm/ADT/PointerUnion.h:181</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>