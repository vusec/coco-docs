<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class SimpleLoopUnswitchPass: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page9E4CA4CA3FD9F3A4"><span>class SimpleLoopUnswitchPass</span></a></li></ul></nav><main class="content"><h1>class SimpleLoopUnswitchPass</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class SimpleLoopUnswitchPass : public PassInfoMixin { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>This pass transforms loops that contain branches or switches on loop- invariant conditions to have multiple loops. For example, it turns the left into the right code: for (...)                  if (lic) A                          for (...) if (lic)                     A; B; C B                      else C                          for (...) A; C This can increase the size of the code exponentially (doubling it every time a loop is unswitched) so we only unswitch if the resultant code will be smaller than a threshold. This pass expects LICM to be run before it to hoist invariant conditions out of the loop, to make the unswitching opportunity obvious. There is a taxonomy of unswitching that we use to classify different forms of this transformaiton: - Trival unswitching: this is when the condition can be unswitched without cloning any code from inside the loop. A non-trivial unswitch requires code duplication. - Full unswitching: this is when the branch or switch is completely moved from inside the loop to outside the loop. Partial unswitching removes the branch from the clone of the loop but must leave a (somewhat simplified) branch in the original loop. While theoretically partial unswitching can be done for switches, the requirements are extreme - we need the loop invariant input to the switch to be sufficient to collapse to a single successor in each clone. This pass always does trivial, full unswitching for both branches and switches. For branches, it also always does trivial, partial unswitching. If enabled (via the constructor&apos;s `NonTrivial` parameter), this pass will additionally do non-trivial, full unswitching for branches and switches, and will do non-trivial, partial unswitching for branches. Because partial unswitching of switches is extremely unlikely to be possible in practice and significantly complicates the implementation, this pass does not currently implement that in any mode.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/Scalar/SimpleLoopUnswitch.h#L62">llvm/include/llvm/Transforms/Scalar/SimpleLoopUnswitch.h:62</a></p><p>Inherits from: PassInfoMixin</p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#467FBBEC3B1FF3A1"><b>SimpleLoopUnswitchPass</b></a>(bool NonTrivial = false)</li><li class="is-family-code">public llvm::PreservedAnalyses  <a href="#22AE01C4DFE610CC"><b>run</b></a>(llvm::Loop &amp; L, llvm::LoopAnalysisManager &amp; AM, llvm::LoopStandardAnalysisResults &amp; AR, llvm::LPMUpdater &amp; U)</li></ul><h2>Methods</h2><h3 id="467FBBEC3B1FF3A1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#467FBBEC3B1FF3A1">¶</a><code class="hdoc-function-code language-cpp">SimpleLoopUnswitchPass(bool NonTrivial = false)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/Scalar/SimpleLoopUnswitch.h#L66">llvm/include/llvm/Transforms/Scalar/SimpleLoopUnswitch.h:66</a></p><h4>Parameters</h4><dl><dt class="is-family-code">bool<b> NonTrivial</b> = false</dt></dl><h3 id="22AE01C4DFE610CC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#22AE01C4DFE610CC">¶</a><code class="hdoc-function-code language-cpp"><a href="r9EDCE8A1E6A8CDD6.html">llvm::PreservedAnalyses</a> run(
    <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp; L,
    <a href="rB9A0ED74935D969B.html">llvm::LoopAnalysisManager</a>&amp; AM,
    <a href="rC2A5C49BC2BF575E.html">llvm::LoopStandardAnalysisResults</a>&amp; AR,
    <a href="rEAC1CFEC45716255.html">llvm::LPMUpdater</a>&amp; U)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/Scalar/SimpleLoopUnswitch.h#L68">llvm/include/llvm/Transforms/Scalar/SimpleLoopUnswitch.h:68</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp;<b> L</b></dt><dt class="is-family-code"><a href="rB9A0ED74935D969B.html">llvm::LoopAnalysisManager</a>&amp;<b> AM</b></dt><dt class="is-family-code"><a href="rC2A5C49BC2BF575E.html">llvm::LoopStandardAnalysisResults</a>&amp;<b> AR</b></dt><dt class="is-family-code"><a href="rEAC1CFEC45716255.html">llvm::LPMUpdater</a>&amp;<b> U</b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>