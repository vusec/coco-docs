<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct VectorizerValueMap: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageD5BBB72A7DF912DE"><span>struct VectorizerValueMap</span></a></li></ul></nav><main class="content"><h1>struct VectorizerValueMap</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct VectorizerValueMap { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>This is a helper struct for maintaining vectorization state. It&apos;s used for mapping values from the original loop to their corresponding values in the new loop. Two mappings are maintained: one for vectorized values and one for scalarized values. Vectorized values are represented with UF vector values in the new loop, and scalarized values are represented with UF x VF scalar values in the new loop. UF and VF are the unroll and vectorization factors, respectively. Entries can be added to either map with setVectorValue and setScalarValue, which assert that an entry was not already added before. If an entry is to replace an existing one, call resetVectorValue and resetScalarValue. This is currently needed to modify the mapped values during &quot;fix-up&quot; operations that occur once the first phase of widening is complete. These operations include type truncation and the second phase of recurrence widening. Entries from either map can be retrieved using the getVectorValue and getScalarValue functions, which assert that the desired value exists.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L109">llvm/lib/Transforms/Vectorize/VPlan.h:109</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#6B38B6BFE1B3F8B9"><b>VectorizerValueMap</b></a>(unsigned int UF, unsigned int VF)</li><li class="is-family-code">public llvm::Value *  <a href="#84753F1362373639"><b>getScalarValue</b></a>(llvm::Value * Key, const llvm::VPIteration &amp; Instance)</li><li class="is-family-code">public llvm::Value *  <a href="#31E36E1F0E973586"><b>getVectorValue</b></a>(llvm::Value * Key, unsigned int Part)</li><li class="is-family-code">public bool  <a href="#368338E5AB72BE46"><b>hasAnyScalarValue</b></a>(llvm::Value * Key) const</li><li class="is-family-code">public bool  <a href="#77F0083E62249C81"><b>hasAnyVectorValue</b></a>(llvm::Value * Key) const</li><li class="is-family-code">public bool  <a href="#88D53CBF94E76638"><b>hasScalarValue</b></a>(llvm::Value * Key, const llvm::VPIteration &amp; Instance) const</li><li class="is-family-code">public bool  <a href="#5A95E66E10AB2F2C"><b>hasVectorValue</b></a>(llvm::Value * Key, unsigned int Part) const</li><li class="is-family-code">public void  <a href="#E0F93137A1B6718B"><b>resetScalarValue</b></a>(llvm::Value * Key, const llvm::VPIteration &amp; Instance, llvm::Value * Scalar)</li><li class="is-family-code">public void  <a href="#5B3E3D5B06881AA7"><b>resetVectorValue</b></a>(llvm::Value * Key, unsigned int Part, llvm::Value * Vector)</li><li class="is-family-code">public void  <a href="#CA701F8B0E07EF13"><b>setScalarValue</b></a>(llvm::Value * Key, const llvm::VPIteration &amp; Instance, llvm::Value * Scalar)</li><li class="is-family-code">public void  <a href="#40BBAFC324042BF7"><b>setVectorValue</b></a>(llvm::Value * Key, unsigned int Part, llvm::Value * Vector)</li></ul><h2>Methods</h2><h3 id="6B38B6BFE1B3F8B9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6B38B6BFE1B3F8B9">¶</a><code class="hdoc-function-code language-cpp">VectorizerValueMap(unsigned int UF,
                   unsigned int VF)</code></pre></h3><h4>Description</h4><p>Construct an empty map with the given unroll and vectorization factors.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L129">llvm/lib/Transforms/Vectorize/VPlan.h:129</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> UF</b></dt><dt class="is-family-code">unsigned int<b> VF</b></dt></dl><h3 id="84753F1362373639"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#84753F1362373639">¶</a><code class="hdoc-function-code language-cpp"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>* getScalarValue(
    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
    const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp; Instance)</code></pre></h3><h4>Description</h4><p>Retrieve the existing scalar value that corresponds to \p Key and\p Instance.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L173">llvm/lib/Transforms/Vectorize/VPlan.h:173</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp;<b> Instance</b></dt></dl><h3 id="31E36E1F0E973586"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#31E36E1F0E973586">¶</a><code class="hdoc-function-code language-cpp"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>* getVectorValue(<a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
                            unsigned int Part)</code></pre></h3><h4>Description</h4><p>Retrieve the existing vector value that corresponds to \p Key and\p Part.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L166">llvm/lib/Transforms/Vectorize/VPlan.h:166</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">unsigned int<b> Part</b></dt></dl><h3 id="368338E5AB72BE46"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#368338E5AB72BE46">¶</a><code class="hdoc-function-code language-cpp">bool hasAnyScalarValue(<a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L147">llvm/lib/Transforms/Vectorize/VPlan.h:147</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt></dl><h4>Returns</h4><p>True if the map has any scalar entry for \p Key.</p><h3 id="77F0083E62249C81"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#77F0083E62249C81">¶</a><code class="hdoc-function-code language-cpp">bool hasAnyVectorValue(<a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L132">llvm/lib/Transforms/Vectorize/VPlan.h:132</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt></dl><h4>Returns</h4><p>True if the map has any vector entry for \p Key.</p><h3 id="88D53CBF94E76638"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#88D53CBF94E76638">¶</a><code class="hdoc-function-code language-cpp">bool hasScalarValue(
    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
    const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp; Instance) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L152">llvm/lib/Transforms/Vectorize/VPlan.h:152</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp;<b> Instance</b></dt></dl><h4>Returns</h4><p>True if the map has a scalar entry for \p Key and \p Instance.</p><h3 id="5A95E66E10AB2F2C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5A95E66E10AB2F2C">¶</a><code class="hdoc-function-code language-cpp">bool hasVectorValue(<a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
                    unsigned int Part) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L137">llvm/lib/Transforms/Vectorize/VPlan.h:137</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">unsigned int<b> Part</b></dt></dl><h4>Returns</h4><p>True if the map has a vector entry for \p Key and \p Part.</p><h3 id="E0F93137A1B6718B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E0F93137A1B6718B">¶</a><code class="hdoc-function-code language-cpp">void resetScalarValue(
    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
    const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp; Instance,
    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Scalar)</code></pre></h3><h4>Description</h4><p>Reset the scalar value associated with \p Key for \p Part and \p Lane. This function can be used to update values that have already been scalarized. This is the case for &quot;fix-up&quot; operations including scalar phi nodes for scalarized and predicated instructions.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L217">llvm/lib/Transforms/Vectorize/VPlan.h:217</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp;<b> Instance</b></dt><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Scalar</b></dt></dl><h3 id="5B3E3D5B06881AA7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5B3E3D5B06881AA7">¶</a><code class="hdoc-function-code language-cpp">void resetVectorValue(<a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
                      unsigned int Part,
                      <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Vector)</code></pre></h3><h4>Description</h4><p>Reset the vector value associated with \p Key for the given \p Part. This function can be used to update values that have already been vectorized. This is the case for &quot;fix-up&quot; operations including type truncation and the second phase of recurrence vectorization.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L208">llvm/lib/Transforms/Vectorize/VPlan.h:208</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">unsigned int<b> Part</b></dt><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Vector</b></dt></dl><h3 id="CA701F8B0E07EF13"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#CA701F8B0E07EF13">¶</a><code class="hdoc-function-code language-cpp">void setScalarValue(
    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
    const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp; Instance,
    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Scalar)</code></pre></h3><h4>Description</h4><p>Set a scalar value associated with \p Key and \p Instance. Assumes such a value is not already set.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L191">llvm/lib/Transforms/Vectorize/VPlan.h:191</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">const <a href="r4C6F81A3088B6500.html">llvm::VPIteration</a>&amp;<b> Instance</b></dt><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Scalar</b></dt></dl><h3 id="40BBAFC324042BF7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#40BBAFC324042BF7">¶</a><code class="hdoc-function-code language-cpp">void setVectorValue(<a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Key,
                    unsigned int Part,
                    <a href="r4EC65655F3BC4E59.html">llvm::Value</a>* Vector)</code></pre></h3><h4>Description</h4><p>Set a vector value associated with \p Key and \p Part. Assumes such a value is not already set. If it is, use resetVectorValue() instead.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/VPlan.h#L180">llvm/lib/Transforms/Vectorize/VPlan.h:180</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Key</b></dt><dt class="is-family-code">unsigned int<b> Part</b></dt><dt class="is-family-code"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>*<b> Vector</b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>