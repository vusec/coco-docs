<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class LoopSafetyInfo: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page3C697DF30676864B"><span>class LoopSafetyInfo</span></a></li></ul></nav><main class="content"><h1>class LoopSafetyInfo</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class LoopSafetyInfo { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Captures loop safety information. It keep information for loop blocks may throw exception or otherwise exit abnormaly on any iteration of the loop which might actually execute at runtime.  The primary way to consume this infromation is via isGuaranteedToExecute below, but some callers bailout or fallback to alternate reasoning if a loop contains any implicit control flow. NOTE: LoopSafetyInfo contains cached information regarding loops and their particular blocks. This information is only dropped on invocation of computeLoopSafetyInfo. If the loop or any of its block is deleted, or if any thrower instructions have been added or removed from them, or if the control flow has changed, or in case of other meaningful modifications, the LoopSafetyInfo needs to be recomputed. If a meaningful modifications to the loop were made and the info wasn&apos;t recomputed properly, the behavior of all methods except for computeLoopSafetyInfo is undefined.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L59">llvm/include/llvm/Analysis/MustExecute.h:59</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#3D4F0A80E6EEFAD9"><b>LoopSafetyInfo</b></a>()</li><li class="is-family-code">public bool  <a href="#E2CAD2460DC15FAB"><b>allLoopPathsLeadToBlock</b></a>(const llvm::Loop * CurLoop, const llvm::BasicBlock * BB, const llvm::DominatorTree * DT) const</li><li class="is-family-code">public virtual bool  <a href="#78D201550FADD472"><b>anyBlockMayThrow</b></a>() const</li><li class="is-family-code">public virtual bool  <a href="#6E3CF5155C6888C0"><b>blockMayThrow</b></a>(const llvm::BasicBlock * BB) const</li><li class="is-family-code">protected void  <a href="#B6E5926DB2FBE86E"><b>computeBlockColors</b></a>(const llvm::Loop * CurLoop)</li><li class="is-family-code">public virtual void  <a href="#77CC2F1F53ED91E9"><b>computeLoopSafetyInfo</b></a>(const llvm::Loop * CurLoop)</li><li class="is-family-code">public void  <a href="#8DBFC576C7A17B04"><b>copyColors</b></a>(llvm::BasicBlock * New, llvm::BasicBlock * Old)</li><li class="is-family-code">public const DenseMap&lt;llvm::BasicBlock *, llvm::ColorVector&gt; &amp;  <a href="#89376AC41909B6A3"><b>getBlockColors</b></a>() const</li><li class="is-family-code">public virtual bool  <a href="#98AB93D5026A63AD"><b>isGuaranteedToExecute</b></a>(const llvm::Instruction &amp; Inst, const llvm::DominatorTree * DT, const llvm::Loop * CurLoop) const</li><li class="is-family-code">public virtual  <a href="#F4F4B543BFEA646A"><b>~LoopSafetyInfo</b></a>()</li></ul><h2>Methods</h2><h3 id="3D4F0A80E6EEFAD9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3D4F0A80E6EEFAD9">¶</a><code class="hdoc-function-code language-cpp">LoopSafetyInfo()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L100">llvm/include/llvm/Analysis/MustExecute.h:100</a></p><h3 id="E2CAD2460DC15FAB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E2CAD2460DC15FAB">¶</a><code class="hdoc-function-code language-cpp">bool allLoopPathsLeadToBlock(
    const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>* CurLoop,
    const <a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>* BB,
    const <a href="r597D5CB55B73E338.html">llvm::DominatorTree</a>* DT) const</code></pre></h3><h4>Description</h4><p>Return true if we must reach the block \p BB under assumption that the loop \p CurLoop is entered.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L84">llvm/include/llvm/Analysis/MustExecute.h:84</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>*<b> CurLoop</b></dt><dt class="is-family-code">const <a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>*<b> BB</b></dt><dt class="is-family-code">const <a href="r597D5CB55B73E338.html">llvm::DominatorTree</a>*<b> DT</b></dt></dl><h3 id="78D201550FADD472"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#78D201550FADD472">¶</a><code class="hdoc-function-code language-cpp">virtual bool anyBlockMayThrow() const</code></pre></h3><h4>Description</h4><p>Returns true iff any block of the loop for which this info is contains an instruction that may throw or otherwise exit abnormally.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L80">llvm/include/llvm/Analysis/MustExecute.h:80</a></p><h3 id="6E3CF5155C6888C0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6E3CF5155C6888C0">¶</a><code class="hdoc-function-code language-cpp">virtual bool blockMayThrow(
    const <a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>* BB) const</code></pre></h3><h4>Description</h4><p>Returns true iff the block \p BB potentially may throw exception. It can be false-positive in cases when we want to avoid complex analysis.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L76">llvm/include/llvm/Analysis/MustExecute.h:76</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>*<b> BB</b></dt></dl><h3 id="B6E5926DB2FBE86E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B6E5926DB2FBE86E">¶</a><code class="hdoc-function-code language-cpp">void computeBlockColors(const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>* CurLoop)</code></pre></h3><h4>Description</h4><p>Computes block colors.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L65">llvm/include/llvm/Analysis/MustExecute.h:65</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>*<b> CurLoop</b></dt></dl><h3 id="77CC2F1F53ED91E9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#77CC2F1F53ED91E9">¶</a><code class="hdoc-function-code language-cpp">virtual void computeLoopSafetyInfo(
    const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>* CurLoop)</code></pre></h3><h4>Description</h4><p>Computes safety information for a loop checks loop body  &amp; header for the possibility of may throw exception, it takes LoopSafetyInfo and loop as argument. Updates safety information in LoopSafetyInfo argument. Note: This is defined to clear and reinitialize an already initialized LoopSafetyInfo.  Some callers rely on this fact.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L92">llvm/include/llvm/Analysis/MustExecute.h:92</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>*<b> CurLoop</b></dt></dl><h3 id="8DBFC576C7A17B04"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8DBFC576C7A17B04">¶</a><code class="hdoc-function-code language-cpp">void copyColors(<a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>* New,
                <a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>* Old)</code></pre></h3><h4>Description</h4><p>Copy colors of block \p Old into the block \p New.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L72">llvm/include/llvm/Analysis/MustExecute.h:72</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>*<b> New</b></dt><dt class="is-family-code"><a href="r5F23A6FBCC3A87BD.html">llvm::BasicBlock</a>*<b> Old</b></dt></dl><h3 id="89376AC41909B6A3"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#89376AC41909B6A3">¶</a><code class="hdoc-function-code language-cpp">const <a href="rC2880C7E8E458B54.html">DenseMap</a>&lt;llvm::BasicBlock*,
               llvm::ColorVector&gt;&amp;
getBlockColors() const</code></pre></h3><h4>Description</h4><p>Returns block colors map that is used to update funclet operand bundles.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L69">llvm/include/llvm/Analysis/MustExecute.h:69</a></p><h3 id="98AB93D5026A63AD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#98AB93D5026A63AD">¶</a><code class="hdoc-function-code language-cpp">virtual bool isGuaranteedToExecute(
    const <a href="rE266D8602316BABC.html">llvm::Instruction</a>&amp; Inst,
    const <a href="r597D5CB55B73E338.html">llvm::DominatorTree</a>* DT,
    const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>* CurLoop) const</code></pre></h3><h4>Description</h4><p>Returns true if the instruction in a loop is guaranteed to execute at least once (under the assumption that the loop is entered).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L96">llvm/include/llvm/Analysis/MustExecute.h:96</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE266D8602316BABC.html">llvm::Instruction</a>&amp;<b> Inst</b></dt><dt class="is-family-code">const <a href="r597D5CB55B73E338.html">llvm::DominatorTree</a>*<b> DT</b></dt><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>*<b> CurLoop</b></dt></dl><h3 id="F4F4B543BFEA646A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F4F4B543BFEA646A">¶</a><code class="hdoc-function-code language-cpp">virtual ~LoopSafetyInfo()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/MustExecute.h#L102">llvm/include/llvm/Analysis/MustExecute.h:102</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>