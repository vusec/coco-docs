<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class IndexedReference: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page378743E9F55915B9"><span>class IndexedReference</span></a></li></ul></nav><main class="content"><h1>class IndexedReference</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class IndexedReference { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Represents a memory reference as a base pointer and a set of indexing operations. For example given the array reference A[i][2j+1][3k+2] in a 3-dim loop nest: for(i=0;i &lt;n ;++i) for(j=0;j &lt;m ;++j) for(k=0;k &lt;o ;++k) ... A[i][2j+1][3k+2] ... We expect: BasePointer -&gt; A Subscripts -&gt; [{0,+,1} &lt; %for.i&gt;][{1,+,2} &lt; %for.j&gt;][{2,+,3} &lt; %for.k&gt;] Sizes -&gt; [m][o][4]</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L44">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:44</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#E13ECC1EB9336F6F"><b>IndexedReference</b></a>(llvm::Instruction &amp; StoreOrLoadInst, const llvm::LoopInfo &amp; LI, llvm::ScalarEvolution &amp; SE)</li><li class="is-family-code">public llvm::CacheCostTy  <a href="#E8F292A1473FA661"><b>computeRefCost</b></a>(const llvm::Loop &amp; L, unsigned int CLS) const</li><li class="is-family-code">public const llvm::SCEV *  <a href="#E3C4AC87A81773F9"><b>getBasePointer</b></a>() const</li><li class="is-family-code">public const llvm::SCEV *  <a href="#2AF109AEE7E65EAB"><b>getFirstSubscript</b></a>() const</li><li class="is-family-code">public const llvm::SCEV *  <a href="#2135CC588EBCF072"><b>getLastSubscript</b></a>() const</li><li class="is-family-code">public size_t  <a href="#215E29F64BA2331F"><b>getNumSubscripts</b></a>() const</li><li class="is-family-code">public const llvm::SCEV *  <a href="#9ADD15F68F52D0F6"><b>getSubscript</b></a>(unsigned int SubNum) const</li><li class="is-family-code">public Optional&lt;bool&gt;  <a href="#9AEFF21CC6D0C9AB"><b>hasSpacialReuse</b></a>(const llvm::IndexedReference &amp; Other, unsigned int CLS, llvm::AliasAnalysis &amp; AA) const</li><li class="is-family-code">public Optional&lt;bool&gt;  <a href="#B4A4819C487C13D0"><b>hasTemporalReuse</b></a>(const llvm::IndexedReference &amp; Other, unsigned int MaxDistance, const llvm::Loop &amp; L, llvm::DependenceInfo &amp; DI, llvm::AliasAnalysis &amp; AA) const</li><li class="is-family-code">public bool  <a href="#E4D6079746B65412"><b>isValid</b></a>() const</li></ul><h2>Methods</h2><h3 id="E13ECC1EB9336F6F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E13ECC1EB9336F6F">¶</a><code class="hdoc-function-code language-cpp">IndexedReference(
    <a href="rE266D8602316BABC.html">llvm::Instruction</a>&amp; StoreOrLoadInst,
    const <a href="r289205FCE270195C.html">llvm::LoopInfo</a>&amp; LI,
    <a href="r0D901B7ED6429B0A.html">llvm::ScalarEvolution</a>&amp; SE)</code></pre></h3><h4>Description</h4><p>Construct an indexed reference given a \p StoreOrLoadInst instruction.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L49">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:49</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rE266D8602316BABC.html">llvm::Instruction</a>&amp;<b> StoreOrLoadInst</b></dt><dt class="is-family-code">const <a href="r289205FCE270195C.html">llvm::LoopInfo</a>&amp;<b> LI</b></dt><dt class="is-family-code"><a href="r0D901B7ED6429B0A.html">llvm::ScalarEvolution</a>&amp;<b> SE</b></dt></dl><h3 id="E8F292A1473FA661"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E8F292A1473FA661">¶</a><code class="hdoc-function-code language-cpp">llvm::CacheCostTy computeRefCost(
    const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp; L,
    unsigned int CLS) const</code></pre></h3><h4>Description</h4><p>Compute the cost of the reference w.r.t. the given loop \p L when it is considered in the innermost position in the loop nest. The cost is defined as: - equal to one if the reference is loop invariant, or - equal to &apos;(TripCount * stride) / cache_line_size&apos; if: + the reference stride is less than the cache line size, and + the coefficient of this loop&apos;s index variable used in all other subscripts is zero - or otherwise equal to &apos;TripCount&apos;.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L92">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:92</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp;<b> L</b></dt><dt class="is-family-code">unsigned int<b> CLS</b></dt></dl><h3 id="E3C4AC87A81773F9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E3C4AC87A81773F9">¶</a><code class="hdoc-function-code language-cpp">const <a href="rAD2E74A85F7E4EBF.html">llvm::SCEV</a>* getBasePointer() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L53">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:53</a></p><h3 id="2AF109AEE7E65EAB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2AF109AEE7E65EAB">¶</a><code class="hdoc-function-code language-cpp">const <a href="rAD2E74A85F7E4EBF.html">llvm::SCEV</a>* getFirstSubscript() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L59">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:59</a></p><h3 id="2135CC588EBCF072"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2135CC588EBCF072">¶</a><code class="hdoc-function-code language-cpp">const <a href="rAD2E74A85F7E4EBF.html">llvm::SCEV</a>* getLastSubscript() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L63">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:63</a></p><h3 id="215E29F64BA2331F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#215E29F64BA2331F">¶</a><code class="hdoc-function-code language-cpp">size_t getNumSubscripts() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L54">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:54</a></p><h3 id="9ADD15F68F52D0F6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9ADD15F68F52D0F6">¶</a><code class="hdoc-function-code language-cpp">const <a href="rAD2E74A85F7E4EBF.html">llvm::SCEV</a>* getSubscript(
    unsigned int SubNum) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L55">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:55</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> SubNum</b></dt></dl><h3 id="9AEFF21CC6D0C9AB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9AEFF21CC6D0C9AB">¶</a><code class="hdoc-function-code language-cpp"><a href="r6607998C23E31109.html">Optional</a>&lt;bool&gt; hasSpacialReuse(
    const <a href="r378743E9F55915B9.html">llvm::IndexedReference</a>&amp; Other,
    unsigned int CLS,
    <a href="rCA1ED98E6FDF5F7E.html">llvm::AliasAnalysis</a>&amp; AA) const</code></pre></h3><h4>Description</h4><p>Return true/false if the current object and the indexed reference \p Other are/aren&apos;t in the same cache line of size \p CLS. Two references are in the same chace line iff the distance between them in the innermost dimension is less than the cache line size. Return None if unsure.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L72">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:72</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r378743E9F55915B9.html">llvm::IndexedReference</a>&amp;<b> Other</b></dt><dt class="is-family-code">unsigned int<b> CLS</b></dt><dt class="is-family-code"><a href="rCA1ED98E6FDF5F7E.html">llvm::AliasAnalysis</a>&amp;<b> AA</b></dt></dl><h3 id="B4A4819C487C13D0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B4A4819C487C13D0">¶</a><code class="hdoc-function-code language-cpp"><a href="r6607998C23E31109.html">Optional</a>&lt;bool&gt; hasTemporalReuse(
    const <a href="r378743E9F55915B9.html">llvm::IndexedReference</a>&amp; Other,
    unsigned int MaxDistance,
    const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp; L,
    <a href="r19CE4C23612D93C2.html">llvm::DependenceInfo</a>&amp; DI,
    <a href="rCA1ED98E6FDF5F7E.html">llvm::AliasAnalysis</a>&amp; AA) const</code></pre></h3><h4>Description</h4><p>Return true if the current object and the indexed reference \p Other have distance smaller than \p MaxDistance in the dimension associated with the given loop \p L. Return false if the distance is not smaller than \p MaxDistance and None if unsure.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L79">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:79</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r378743E9F55915B9.html">llvm::IndexedReference</a>&amp;<b> Other</b></dt><dt class="is-family-code">unsigned int<b> MaxDistance</b></dt><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp;<b> L</b></dt><dt class="is-family-code"><a href="r19CE4C23612D93C2.html">llvm::DependenceInfo</a>&amp;<b> DI</b></dt><dt class="is-family-code"><a href="rCA1ED98E6FDF5F7E.html">llvm::AliasAnalysis</a>&amp;<b> AA</b></dt></dl><h3 id="E4D6079746B65412"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E4D6079746B65412">¶</a><code class="hdoc-function-code language-cpp">bool isValid() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopCacheAnalysis.h#L52">llvm/include/llvm/Analysis/LoopCacheAnalysis.h:52</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>