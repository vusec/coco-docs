<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class LTO: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#AE3E6D317D639486"><span>namespace lto</span></a></li><li class="is-active"><a aria-current="pageFAC7CBEBD0795424"><span>class LTO</span></a></li></ul></nav><main class="content"><h1>class LTO</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class LTO { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>This class implements a resolution-based interface to LLVM&apos;s LTO functionality. It supports regular LTO, parallel LTO code generation and ThinLTO. You can use it from a linker in the following way: - Set hooks and code generation options (see lto::Config struct defined in Config.h), and use the lto::Config object to create an lto::LTO object. - Create lto::InputFile objects using lto::InputFile::create(), then use the symbols() function to enumerate its symbols and compute a resolution for each symbol (see SymbolResolution below). - After the linker has visited each input file (and each regular object file) and computed a resolution for each symbol, take each lto::InputFile and pass it and an array of symbol resolutions to the add() function. - Call the getMaxTasks() function to get an upper bound on the number of native object files that LTO may add to the link. - Call the run() function. This function will use the supplied AddStream and Cache functions to add up to getMaxTasks() native object files to the link.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L268">llvm/include/llvm/LTO/LTO.h:268</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#447DF53F1FE7E6B8"><b>LTO</b></a>(llvm::lto::Config Conf, llvm::lto::ThinBackend Backend = nullptr, unsigned int ParallelCodeGenParallelismLevel = 1)</li><li class="is-family-code">public llvm::Error  <a href="#AE3B491466350A58"><b>add</b></a>(std::unique_ptr&lt;InputFile&gt; Obj, ArrayRef&lt;llvm::lto::SymbolResolution&gt; Res)</li><li class="is-family-code">public unsigned int  <a href="#3D69AE8A6D40AA99"><b>getMaxTasks</b></a>() const</li><li class="is-family-code">public static ArrayRef&lt;const char *&gt;  <a href="#679FEDD5FD63AF8F"><b>getRuntimeLibcallSymbols</b></a>()</li><li class="is-family-code">public llvm::Error  <a href="#715D879E3254746A"><b>run</b></a>(llvm::lto::AddStreamFn AddStream, llvm::lto::NativeObjectCache Cache = nullptr)</li><li class="is-family-code">public  <a href="#FE271083BE357272"><b>~LTO</b></a>()</li></ul><h2>Methods</h2><h3 id="447DF53F1FE7E6B8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#447DF53F1FE7E6B8">¶</a><code class="hdoc-function-code language-cpp">LTO(<a href="rE0826064EBAB92B1.html">llvm::lto::Config</a> Conf,
    llvm::lto::ThinBackend Backend = nullptr,
    unsigned int ParallelCodeGenParallelismLevel =
        1)</code></pre></h3><h4>Description</h4><p>Create an LTO object. A default constructed LTO object has a reasonable production configuration, but you can customize it by passing arguments to this constructor. FIXME: We do currently require the DiagHandler field to be set in Conf. Until that is fixed, a Config argument is required.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L277">llvm/include/llvm/LTO/LTO.h:277</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rE0826064EBAB92B1.html">llvm::lto::Config</a><b> Conf</b></dt><dt class="is-family-code">llvm::lto::ThinBackend<b> Backend</b> = nullptr</dt><dt class="is-family-code">unsigned int<b> ParallelCodeGenParallelismLevel</b> = 1</dt></dl><h3 id="AE3B491466350A58"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AE3B491466350A58">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> add(
    <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;InputFile&gt; Obj,
    <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::lto::SymbolResolution&gt; Res)</code></pre></h3><h4>Description</h4><p>Add an input file to the LTO link, using the provided symbol resolutions. The symbol resolutions must appear in the enumeration order given by InputFile::symbols().</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L284">llvm/include/llvm/LTO/LTO.h:284</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;InputFile&gt;<b> Obj</b></dt><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::lto::SymbolResolution&gt;<b> Res</b></dt></dl><h3 id="3D69AE8A6D40AA99"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3D69AE8A6D40AA99">¶</a><code class="hdoc-function-code language-cpp">unsigned int getMaxTasks() const</code></pre></h3><h4>Description</h4><p>Returns an upper bound on the number of tasks that the client may expect. This may only be called after all IR object files have been added. For a full description of tasks see LTOBackend.h.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L289">llvm/include/llvm/LTO/LTO.h:289</a></p><h3 id="679FEDD5FD63AF8F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#679FEDD5FD63AF8F">¶</a><code class="hdoc-function-code language-cpp">static <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const char*&gt;
getRuntimeLibcallSymbols()</code></pre></h3><h4>Description</h4><p>Static method that returns a list of libcall symbols that can be generated by LTO but might not be visible from bitcode symbol table.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L303">llvm/include/llvm/LTO/LTO.h:303</a></p><h3 id="715D879E3254746A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#715D879E3254746A">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> run(
    llvm::lto::AddStreamFn AddStream,
    llvm::lto::NativeObjectCache Cache = nullptr)</code></pre></h3><h4>Description</h4><p>Runs the LTO pipeline. This function calls the supplied AddStream function to add native object files to the link. The Cache parameter is optional. If supplied, it will be used to cache native object files and add them to the link. The client will receive at most one callback (via either AddStream or Cache) for each task identifier.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L299">llvm/include/llvm/LTO/LTO.h:299</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::lto::AddStreamFn<b> AddStream</b></dt><dt class="is-family-code">llvm::lto::NativeObjectCache<b> Cache</b> = nullptr</dt></dl><h3 id="FE271083BE357272"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FE271083BE357272">¶</a><code class="hdoc-function-code language-cpp">~LTO()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/LTO.h#L279">llvm/include/llvm/LTO/LTO.h:279</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>