<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class InstrProfReader: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page2F83DE79DD137DC2"><span>class InstrProfReader</span></a></li></ul></nav><main class="content"><h1>class InstrProfReader</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class InstrProfReader { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Base class and interface for reading profiling data of any known instrprof format. Provides an iterator over NamedInstrProfRecords.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L61">llvm/include/llvm/ProfileData/InstrProfReader.h:61</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Symtab">protected  <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;InstrProfSymtab&gt; <b>Symtab</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#FCDDF6D30EBD4A97"><b>InstrProfReader</b></a>()</li><li class="is-family-code">public void  <a href="#3DB674E16441154D"><b>accumulateCounts</b></a>(llvm::CountSumOrPercent &amp; Sum, bool IsCS)</li><li class="is-family-code">public llvm::InstrProfIterator  <a href="#AFB730E7629133D9"><b>begin</b></a>()</li><li class="is-family-code">public static Expected&lt;std::unique_ptr&lt;InstrProfReader&gt;&gt;  <a href="#5AA3366390CDC983"><b>create</b></a>(std::unique_ptr&lt;MemoryBuffer&gt; Buffer)</li><li class="is-family-code">public static Expected&lt;std::unique_ptr&lt;InstrProfReader&gt;&gt;  <a href="#66A6F8101EC65824"><b>create</b></a>(const llvm::Twine &amp; Path)</li><li class="is-family-code">public llvm::InstrProfIterator  <a href="#D1E2363EF87CF37D"><b>end</b></a>()</li><li class="is-family-code">protected llvm::Error  <a href="#4D45053FAC81622A"><b>error</b></a>(llvm::instrprof_error Err)</li><li class="is-family-code">protected llvm::Error  <a href="#C05C3165C6C9621B"><b>error</b></a>(llvm::Error &amp;&amp; E)</li><li class="is-family-code">public llvm::Error  <a href="#E6C8AC4CF17DAA38"><b>getError</b></a>()</li><li class="is-family-code">public virtual llvm::InstrProfSymtab &amp;  <a href="#1C24655DB7159665"><b>getSymtab</b></a>()</li><li class="is-family-code">public virtual bool  <a href="#1F3D6994D48B91F6"><b>hasCSIRLevelProfile</b></a>() const</li><li class="is-family-code">public bool  <a href="#044EECC741803A51"><b>hasError</b></a>()</li><li class="is-family-code">public bool  <a href="#1F96C08DECDAE1A9"><b>isEOF</b></a>()</li><li class="is-family-code">public virtual bool  <a href="#2CDEC20E71CC81C6"><b>isIRLevelProfile</b></a>() const</li><li class="is-family-code">public virtual llvm::Error  <a href="#6FBAA6EB64F0213D"><b>readHeader</b></a>()</li><li class="is-family-code">public virtual llvm::Error  <a href="#1F0F2F537E75A761"><b>readNextRecord</b></a>(llvm::NamedInstrProfRecord &amp; Record)</li><li class="is-family-code">protected llvm::Error  <a href="#32D95EAA5FE08F51"><b>success</b></a>()</li><li class="is-family-code">public virtual  <a href="#E157520D3ADB8B25"><b>~InstrProfReader</b></a>()</li></ul><h2>Methods</h2><h3 id="FCDDF6D30EBD4A97"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FCDDF6D30EBD4A97">¶</a><code class="hdoc-function-code language-cpp">InstrProfReader()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L65">llvm/include/llvm/ProfileData/InstrProfReader.h:65</a></p><h3 id="3DB674E16441154D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3DB674E16441154D">¶</a><code class="hdoc-function-code language-cpp">void accumulateCounts(
    <a href="rA8BE69616A9675BB.html">llvm::CountSumOrPercent</a>&amp; Sum,
    bool IsCS)</code></pre></h3><h4>Description</h4><p>Compute the sum of counts and return in Sum.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L95">llvm/include/llvm/ProfileData/InstrProfReader.h:95</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rA8BE69616A9675BB.html">llvm::CountSumOrPercent</a>&amp;<b> Sum</b></dt><dt class="is-family-code">bool<b> IsCS</b></dt></dl><h3 id="AFB730E7629133D9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AFB730E7629133D9">¶</a><code class="hdoc-function-code language-cpp"><a href="r6CA916F1FA3618CF.html">llvm::InstrProfIterator</a> begin()</code></pre></h3><h4>Description</h4><p>Iterator over profile data.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L75">llvm/include/llvm/ProfileData/InstrProfReader.h:75</a></p><h3 id="5AA3366390CDC983"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5AA3366390CDC983">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">Expected</a>&lt;<a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;InstrProfReader&gt;&gt;
create(std::unique_ptr&lt;MemoryBuffer&gt; Buffer)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L132">llvm/include/llvm/ProfileData/InstrProfReader.h:132</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;MemoryBuffer&gt;<b> Buffer</b></dt></dl><h3 id="66A6F8101EC65824"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#66A6F8101EC65824">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">Expected</a>&lt;std::unique_ptr&lt;InstrProfReader&gt;&gt;
create(const <a href="rA5E25CD0DF0DA048.html">llvm::Twine</a>&amp; Path)</code></pre></h3><h4>Description</h4><p>Factory method to create an appropriately typed reader for the given instrprof file.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L129">llvm/include/llvm/ProfileData/InstrProfReader.h:129</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rA5E25CD0DF0DA048.html">llvm::Twine</a>&amp;<b> Path</b></dt></dl><h3 id="D1E2363EF87CF37D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D1E2363EF87CF37D">¶</a><code class="hdoc-function-code language-cpp"><a href="r6CA916F1FA3618CF.html">llvm::InstrProfIterator</a> end()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L76">llvm/include/llvm/ProfileData/InstrProfReader.h:76</a></p><h3 id="4D45053FAC81622A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4D45053FAC81622A">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> error(llvm::instrprof_error Err)</code></pre></h3><h4>Description</h4><p>Set the current error and return same.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L101">llvm/include/llvm/ProfileData/InstrProfReader.h:101</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::instrprof_error<b> Err</b></dt></dl><h3 id="C05C3165C6C9621B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C05C3165C6C9621B">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> error(<a href="r40593E26768E0096.html">llvm::Error</a>&amp;&amp; E)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L108">llvm/include/llvm/ProfileData/InstrProfReader.h:108</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r40593E26768E0096.html">llvm::Error</a>&amp;&amp;<b> E</b></dt></dl><h3 id="E6C8AC4CF17DAA38"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E6C8AC4CF17DAA38">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> getError()</code></pre></h3><h4>Description</h4><p>Get the current error.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L121">llvm/include/llvm/ProfileData/InstrProfReader.h:121</a></p><h3 id="1C24655DB7159665"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1C24655DB7159665">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r7F060A25C2E13954.html">llvm::InstrProfSymtab</a>&amp; getSymtab()</code></pre></h3><h4>Description</h4><p>Return the PGO symtab. There are three different readers: Raw, Text, and Indexed profile readers. The first two types of readers are used only by llvm-profdata tool, while the indexed profile reader is also used by llvm-cov tool and the compiler ( backend or frontend). Since creating PGO symtab can create significant runtime and memory overhead (as it touches data for the whole program), InstrProfSymtab for the indexed profile reader should be created on demand and it is recommended to be only used for dumping purpose with llvm-proftool, not with the compiler.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L92">llvm/include/llvm/ProfileData/InstrProfReader.h:92</a></p><h3 id="1F3D6994D48B91F6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1F3D6994D48B91F6">¶</a><code class="hdoc-function-code language-cpp">virtual bool hasCSIRLevelProfile() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L80">llvm/include/llvm/ProfileData/InstrProfReader.h:80</a></p><h3 id="044EECC741803A51"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#044EECC741803A51">¶</a><code class="hdoc-function-code language-cpp">bool hasError()</code></pre></h3><h4>Description</h4><p>Return true if the reader encountered an error reading profiling data.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L118">llvm/include/llvm/ProfileData/InstrProfReader.h:118</a></p><h3 id="1F96C08DECDAE1A9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1F96C08DECDAE1A9">¶</a><code class="hdoc-function-code language-cpp">bool isEOF()</code></pre></h3><h4>Description</h4><p>Return true if the reader has finished reading the profile data.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L115">llvm/include/llvm/ProfileData/InstrProfReader.h:115</a></p><h3 id="2CDEC20E71CC81C6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2CDEC20E71CC81C6">¶</a><code class="hdoc-function-code language-cpp">virtual bool isIRLevelProfile() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L78">llvm/include/llvm/ProfileData/InstrProfReader.h:78</a></p><h3 id="6FBAA6EB64F0213D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6FBAA6EB64F0213D">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r40593E26768E0096.html">llvm::Error</a> readHeader()</code></pre></h3><h4>Description</h4><p>Read the header.  Required before reading first record.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L69">llvm/include/llvm/ProfileData/InstrProfReader.h:69</a></p><h3 id="1F0F2F537E75A761"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1F0F2F537E75A761">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r40593E26768E0096.html">llvm::Error</a> readNextRecord(
    <a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp; Record)</code></pre></h3><h4>Description</h4><p>Read a single record.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L72">llvm/include/llvm/ProfileData/InstrProfReader.h:72</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;<b> Record</b></dt></dl><h3 id="32D95EAA5FE08F51"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#32D95EAA5FE08F51">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> success()</code></pre></h3><h4>Description</h4><p>Clear the current error and return a successful one.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L111">llvm/include/llvm/ProfileData/InstrProfReader.h:111</a></p><h3 id="E157520D3ADB8B25"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E157520D3ADB8B25">¶</a><code class="hdoc-function-code language-cpp">virtual ~InstrProfReader()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L66">llvm/include/llvm/ProfileData/InstrProfReader.h:66</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>