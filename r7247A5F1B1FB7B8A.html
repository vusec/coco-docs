<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class BitcodeWriter: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page7247A5F1B1FB7B8A"><span>class BitcodeWriter</span></a></li></ul></nav><main class="content"><h1>class BitcodeWriter</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class BitcodeWriter { /* full declaration omitted */ };</code></pre><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L32">llvm/include/llvm/Bitcode/BitcodeWriter.h:32</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#9BC8D68136A32C2A"><b>BitcodeWriter</b></a>(SmallVectorImpl&lt;char&gt; &amp; Buffer)</li><li class="is-family-code">public void  <a href="#AFD774A476B5419E"><b>copyStrtab</b></a>(llvm::StringRef Strtab)</li><li class="is-family-code">public void  <a href="#3C3BA01467300BC9"><b>writeIndex</b></a>(const llvm::ModuleSummaryIndex * Index, const std::map&lt;std::string, GVSummaryMapTy&gt; * ModuleToSummariesForIndex)</li><li class="is-family-code">public void  <a href="#8239355EF67F520D"><b>writeModule</b></a>(const llvm::Module &amp; M, bool ShouldPreserveUseListOrder = false, const llvm::ModuleSummaryIndex * Index = nullptr, bool GenerateHash = false, llvm::ModuleHash * ModHash = nullptr)</li><li class="is-family-code">public void  <a href="#BFEC2A9FEAF76800"><b>writeStrtab</b></a>()</li><li class="is-family-code">public void  <a href="#A16ACD76F67334CC"><b>writeSymtab</b></a>()</li><li class="is-family-code">public void  <a href="#4727CFE96C1FCEE9"><b>writeThinLinkBitcode</b></a>(const llvm::Module &amp; M, const llvm::ModuleSummaryIndex &amp; Index, const llvm::ModuleHash &amp; ModHash)</li><li class="is-family-code">public  <a href="#04B7BE1CCB97E68C"><b>~BitcodeWriter</b></a>()</li></ul><h2>Methods</h2><h3 id="9BC8D68136A32C2A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9BC8D68136A32C2A">¶</a><code class="hdoc-function-code language-cpp">BitcodeWriter(<a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;char&gt;&amp; Buffer)</code></pre></h3><h4>Description</h4><p>Create a BitcodeWriter that writes to Buffer.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L50">llvm/include/llvm/Bitcode/BitcodeWriter.h:50</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;char&gt;&amp;<b> Buffer</b></dt></dl><h3 id="AFD774A476B5419E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AFD774A476B5419E">¶</a><code class="hdoc-function-code language-cpp">void copyStrtab(<a href="rECFCAF624C04523A.html">llvm::StringRef</a> Strtab)</code></pre></h3><h4>Description</h4><p>Copy the string table for another module into this bitcode file. This should be called after copying the module itself into the bitcode file.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L69">llvm/include/llvm/Bitcode/BitcodeWriter.h:69</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Strtab</b></dt></dl><h3 id="3C3BA01467300BC9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3C3BA01467300BC9">¶</a><code class="hdoc-function-code language-cpp">void writeIndex(
    const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>* Index,
    const <a href="https://en.cppreference.com/w/cpp/container/map">std::map</a>&lt;std::string, GVSummaryMapTy&gt;*
        ModuleToSummariesForIndex)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L103">llvm/include/llvm/Bitcode/BitcodeWriter.h:103</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>*<b> Index</b></dt><dt class="is-family-code">const <a href="https://en.cppreference.com/w/cpp/container/map">std::map</a>&lt;std::string, GVSummaryMapTy&gt;*<b> ModuleToSummariesForIndex</b></dt></dl><h3 id="8239355EF67F520D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8239355EF67F520D">¶</a><code class="hdoc-function-code language-cpp">void writeModule(
    const <a href="r1428BC327E1751C3.html">llvm::Module</a>&amp; M,
    bool ShouldPreserveUseListOrder = false,
    const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>* Index =
        nullptr,
    bool GenerateHash = false,
    llvm::ModuleHash* ModHash = nullptr)</code></pre></h3><h4>Description</h4><p>Write the specified module to the buffer specified at construction time. If \c ShouldPreserveUseListOrder, encode the use-list order for each \a Value in \c M. These will be reconstructed exactly when \a M is deserialized. If \c Index is supplied, the bitcode will contain the summary index (currently for use in ThinLTO optimization). \p GenerateHash enables hashing the Module and including the hash in the bitcode (currently for use in ThinLTO incremental build). If \p ModHash is non-null, when GenerateHash is true, the resulting hash is written into ModHash. When GenerateHash is false, that value is used as the hash instead of computing from the generated bitcode. Can be used to produce the same module hash for a minimized bitcode used just for the thin link as in the regular full bitcode that will be used in the backend.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L89">llvm/include/llvm/Bitcode/BitcodeWriter.h:89</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r1428BC327E1751C3.html">llvm::Module</a>&amp;<b> M</b></dt><dt class="is-family-code">bool<b> ShouldPreserveUseListOrder</b> = false</dt><dt class="is-family-code">const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>*<b> Index</b> = nullptr</dt><dt class="is-family-code">bool<b> GenerateHash</b> = false</dt><dt class="is-family-code">llvm::ModuleHash*<b> ModHash</b> = nullptr</dt></dl><h3 id="BFEC2A9FEAF76800"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BFEC2A9FEAF76800">¶</a><code class="hdoc-function-code language-cpp">void writeStrtab()</code></pre></h3><h4>Description</h4><p>Write the bitcode file&apos;s string table. This must be called exactly once after all modules and the optional symbol table have been written.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L65">llvm/include/llvm/Bitcode/BitcodeWriter.h:65</a></p><h3 id="A16ACD76F67334CC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A16ACD76F67334CC">¶</a><code class="hdoc-function-code language-cpp">void writeSymtab()</code></pre></h3><h4>Description</h4><p>Attempt to write a symbol table to the bitcode file. This must be called at most once after all modules have been written. A reader does not require a symbol table to interpret a bitcode file; the symbol table is needed only to improve link-time performance. So this function may decide not to write a symbol table. It may so decide if, for example, the target is unregistered or the IR is malformed.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L61">llvm/include/llvm/Bitcode/BitcodeWriter.h:61</a></p><h3 id="4727CFE96C1FCEE9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4727CFE96C1FCEE9">¶</a><code class="hdoc-function-code language-cpp">void writeThinLinkBitcode(
    const <a href="r1428BC327E1751C3.html">llvm::Module</a>&amp; M,
    const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>&amp; Index,
    const llvm::ModuleHash&amp; ModHash)</code></pre></h3><h4>Description</h4><p>Write the specified thin link bitcode file (i.e., the minimized bitcode file) to the buffer specified at construction time. The thin link bitcode file is used for thin link, and it only contains the necessary information for thin link. ModHash is for use in ThinLTO incremental build, generated while the IR bitcode file writing.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L100">llvm/include/llvm/Bitcode/BitcodeWriter.h:100</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r1428BC327E1751C3.html">llvm::Module</a>&amp;<b> M</b></dt><dt class="is-family-code">const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>&amp;<b> Index</b></dt><dt class="is-family-code">const llvm::ModuleHash&amp;<b> ModHash</b></dt></dl><h3 id="04B7BE1CCB97E68C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#04B7BE1CCB97E68C">¶</a><code class="hdoc-function-code language-cpp">~BitcodeWriter()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Bitcode/BitcodeWriter.h#L52">llvm/include/llvm/Bitcode/BitcodeWriter.h:52</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>