<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class MachineSchedStrategy: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page3EA5EF59BBFCA893"><span>class MachineSchedStrategy</span></a></li></ul></nav><main class="content"><h1>class MachineSchedStrategy</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class MachineSchedStrategy { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>MachineSchedStrategy - Interface to the scheduling algorithm used by ScheduleDAGMI. Initialization sequence: initPolicy -&gt; shouldTrackPressure -&gt; initialize(DAG) -&gt; registerRoots</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L197">llvm/include/llvm/CodeGen/MachineScheduler.h:197</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public virtual bool  <a href="#483D4E70D8C343ED"><b>doMBBSchedRegionsTopDown</b></a>() const</li><li class="is-family-code">public virtual void  <a href="#8EB315021397EC7D"><b>dumpPolicy</b></a>() const</li><li class="is-family-code">public virtual void  <a href="#0ED6C93517160424"><b>enterMBB</b></a>(llvm::MachineBasicBlock * MBB)</li><li class="is-family-code">public virtual void  <a href="#C25DB26837D60940"><b>initPolicy</b></a>(MachineBasicBlock::iterator Begin, MachineBasicBlock::iterator End, unsigned int NumRegionInstrs)</li><li class="is-family-code">public virtual void  <a href="#B3EF87AD61FDFC83"><b>initialize</b></a>(llvm::ScheduleDAGMI * DAG)</li><li class="is-family-code">public virtual void  <a href="#2B0088E75EFDA3E8"><b>leaveMBB</b></a>()</li><li class="is-family-code">public virtual llvm::SUnit *  <a href="#80C28651A8E127F9"><b>pickNode</b></a>(bool &amp; IsTopNode)</li><li class="is-family-code">public virtual void  <a href="#39B2C9E0A6821E96"><b>registerRoots</b></a>()</li><li class="is-family-code">public virtual void  <a href="#DA5F9329EFE42BA5"><b>releaseBottomNode</b></a>(llvm::SUnit * SU)</li><li class="is-family-code">public virtual void  <a href="#3C3533D6AE4A231D"><b>releaseTopNode</b></a>(llvm::SUnit * SU)</li><li class="is-family-code">public virtual void  <a href="#9D35ACB8F9BE1792"><b>schedNode</b></a>(llvm::SUnit * SU, bool IsTopNode)</li><li class="is-family-code">public virtual void  <a href="#D8CC80A530BC0EF2"><b>scheduleTree</b></a>(unsigned int SubtreeID)</li><li class="is-family-code">public virtual bool  <a href="#DD641AB8D95142D9"><b>shouldTrackLaneMasks</b></a>() const</li><li class="is-family-code">public virtual bool  <a href="#5D01B834400DF0BF"><b>shouldTrackPressure</b></a>() const</li><li class="is-family-code">public virtual  <a href="#82050BA53F4AF373"><b>~MachineSchedStrategy</b></a>()</li></ul><h2>Methods</h2><h3 id="483D4E70D8C343ED"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#483D4E70D8C343ED">¶</a><code class="hdoc-function-code language-cpp">virtual bool doMBBSchedRegionsTopDown() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L222">llvm/include/llvm/CodeGen/MachineScheduler.h:222</a></p><h3 id="8EB315021397EC7D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8EB315021397EC7D">¶</a><code class="hdoc-function-code language-cpp">virtual void dumpPolicy() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L208">llvm/include/llvm/CodeGen/MachineScheduler.h:208</a></p><h3 id="0ED6C93517160424"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0ED6C93517160424">¶</a><code class="hdoc-function-code language-cpp">virtual void enterMBB(
    <a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>* MBB)</code></pre></h3><h4>Description</h4><p>Tell the strategy that MBB is about to be processed.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L228">llvm/include/llvm/CodeGen/MachineScheduler.h:228</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>*<b> MBB</b></dt></dl><h3 id="C25DB26837D60940"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C25DB26837D60940">¶</a><code class="hdoc-function-code language-cpp">virtual void initPolicy(
    <a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a> Begin,
    <a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a> End,
    unsigned int NumRegionInstrs)</code></pre></h3><h4>Description</h4><p>Optionally override the per-region scheduling policy.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L204">llvm/include/llvm/CodeGen/MachineScheduler.h:204</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a><b> Begin</b></dt><dt class="is-family-code"><a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a><b> End</b></dt><dt class="is-family-code">unsigned int<b> NumRegionInstrs</b></dt></dl><h3 id="B3EF87AD61FDFC83"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B3EF87AD61FDFC83">¶</a><code class="hdoc-function-code language-cpp">virtual void initialize(<a href="r22E8932FFD82C1CD.html">llvm::ScheduleDAGMI</a>* DAG)</code></pre></h3><h4>Description</h4><p>Initialize the strategy after building the DAG for a new region.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L225">llvm/include/llvm/CodeGen/MachineScheduler.h:225</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r22E8932FFD82C1CD.html">llvm::ScheduleDAGMI</a>*<b> DAG</b></dt></dl><h3 id="2B0088E75EFDA3E8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2B0088E75EFDA3E8">¶</a><code class="hdoc-function-code language-cpp">virtual void leaveMBB()</code></pre></h3><h4>Description</h4><p>Tell the strategy that current MBB is done.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L231">llvm/include/llvm/CodeGen/MachineScheduler.h:231</a></p><h3 id="80C28651A8E127F9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#80C28651A8E127F9">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r797825A51C914642.html">llvm::SUnit</a>* pickNode(bool&amp; IsTopNode)</code></pre></h3><h4>Description</h4><p>Pick the next node to schedule, or return NULL. Set IsTopNode to true to schedule the node at the top of the unscheduled region. Otherwise it will be scheduled at the bottom.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L240">llvm/include/llvm/CodeGen/MachineScheduler.h:240</a></p><h4>Parameters</h4><dl><dt class="is-family-code">bool&amp;<b> IsTopNode</b></dt></dl><h3 id="39B2C9E0A6821E96"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#39B2C9E0A6821E96">¶</a><code class="hdoc-function-code language-cpp">virtual void registerRoots()</code></pre></h3><h4>Description</h4><p>Notify this strategy that all roots have been released (including those that depend on EntrySU or ExitSU).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L235">llvm/include/llvm/CodeGen/MachineScheduler.h:235</a></p><h3 id="DA5F9329EFE42BA5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DA5F9329EFE42BA5">¶</a><code class="hdoc-function-code language-cpp">virtual void releaseBottomNode(<a href="r797825A51C914642.html">llvm::SUnit</a>* SU)</code></pre></h3><h4>Description</h4><p>When all successor dependencies have been resolved, free this node for bottom-up scheduling.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L255">llvm/include/llvm/CodeGen/MachineScheduler.h:255</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> SU</b></dt></dl><h3 id="3C3533D6AE4A231D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3C3533D6AE4A231D">¶</a><code class="hdoc-function-code language-cpp">virtual void releaseTopNode(<a href="r797825A51C914642.html">llvm::SUnit</a>* SU)</code></pre></h3><h4>Description</h4><p>When all predecessor dependencies have been resolved, free this node for top-down scheduling.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L251">llvm/include/llvm/CodeGen/MachineScheduler.h:251</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> SU</b></dt></dl><h3 id="9D35ACB8F9BE1792"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9D35ACB8F9BE1792">¶</a><code class="hdoc-function-code language-cpp">virtual void schedNode(<a href="r797825A51C914642.html">llvm::SUnit</a>* SU,
                       bool IsTopNode)</code></pre></h3><h4>Description</h4><p>Notify MachineSchedStrategy that ScheduleDAGMI has scheduled an instruction and updated scheduled/remaining flags in the DAG nodes.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L247">llvm/include/llvm/CodeGen/MachineScheduler.h:247</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> SU</b></dt><dt class="is-family-code">bool<b> IsTopNode</b></dt></dl><h3 id="D8CC80A530BC0EF2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D8CC80A530BC0EF2">¶</a><code class="hdoc-function-code language-cpp">virtual void scheduleTree(unsigned int SubtreeID)</code></pre></h3><h4>Description</h4><p>Scheduler callback to notify that a new subtree is scheduled.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L243">llvm/include/llvm/CodeGen/MachineScheduler.h:243</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> SubtreeID</b></dt></dl><h3 id="DD641AB8D95142D9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DD641AB8D95142D9">¶</a><code class="hdoc-function-code language-cpp">virtual bool shouldTrackLaneMasks() const</code></pre></h3><h4>Description</h4><p>Returns true if lanemasks should be tracked. LaneMask tracking is necessary to reorder independent subregister defs for the same vreg. This has to be enabled in combination with shouldTrackPressure().</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L217">llvm/include/llvm/CodeGen/MachineScheduler.h:217</a></p><h3 id="5D01B834400DF0BF"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5D01B834400DF0BF">¶</a><code class="hdoc-function-code language-cpp">virtual bool shouldTrackPressure() const</code></pre></h3><h4>Description</h4><p>Check if pressure tracking is needed before building the DAG and initializing this strategy. Called after initPolicy.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L212">llvm/include/llvm/CodeGen/MachineScheduler.h:212</a></p><h3 id="82050BA53F4AF373"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#82050BA53F4AF373">¶</a><code class="hdoc-function-code language-cpp">virtual ~MachineSchedStrategy()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineScheduler.h#L201">llvm/include/llvm/CodeGen/MachineScheduler.h:201</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>