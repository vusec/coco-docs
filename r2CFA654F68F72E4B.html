<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class Pattern: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page2CFA654F68F72E4B"><span>class Pattern</span></a></li></ul></nav><main class="content"><h1>class Pattern</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class Pattern { /* full declaration omitted */ };</code></pre><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L358">llvm/lib/Support/FileCheckImpl.h:358</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#B7D5CBFF1B49B523"><b>Pattern</b></a>(Check::FileCheckType Ty, llvm::FileCheckPatternContext * Context, Optional&lt;size_t&gt; Line = None)</li><li class="is-family-code">public Check::FileCheckType  <a href="#B4D667C700E264DA"><b>getCheckTy</b></a>() const</li><li class="is-family-code">public llvm::FileCheckPatternContext *  <a href="#6ACE8FA1A300CC6C"><b>getContext</b></a>() const</li><li class="is-family-code">public int  <a href="#D528DC7B2D9C552C"><b>getCount</b></a>() const</li><li class="is-family-code">public llvm::SMLoc  <a href="#798CCBB16A5227A5"><b>getLoc</b></a>() const</li><li class="is-family-code">public bool  <a href="#CF708E61DFF63A9B"><b>hasVariable</b></a>() const</li><li class="is-family-code">public static bool  <a href="#73C6FB1BB831E3A1"><b>isValidVarNameStart</b></a>(char C)</li><li class="is-family-code">public Expected&lt;size_t&gt;  <a href="#101C4A7034EF3987"><b>match</b></a>(llvm::StringRef Buffer, size_t &amp; MatchLen, const llvm::SourceMgr &amp; SM) const</li><li class="is-family-code">public static Expected&lt;std::unique_ptr&lt;ExpressionAST&gt;&gt;  <a href="#9DE1045326D67DEC"><b>parseNumericSubstitutionBlock</b></a>(llvm::StringRef Expr, Optional&lt;llvm::NumericVariable *&gt; &amp; DefinedNumericVariable, bool IsLegacyLineExpr, Optional&lt;size_t&gt; LineNumber, llvm::FileCheckPatternContext * Context, const llvm::SourceMgr &amp; SM)</li><li class="is-family-code">public bool  <a href="#8148ED04EFD973DC"><b>parsePattern</b></a>(llvm::StringRef PatternStr, llvm::StringRef Prefix, llvm::SourceMgr &amp; SM, const llvm::FileCheckRequest &amp; Req)</li><li class="is-family-code">public static Expected&lt;llvm::Pattern::VariableProperties&gt;  <a href="#67342FFB90E34401"><b>parseVariable</b></a>(llvm::StringRef &amp; Str, const llvm::SourceMgr &amp; SM)</li><li class="is-family-code">public void  <a href="#0F4EBC2029C0C569"><b>printFuzzyMatch</b></a>(const llvm::SourceMgr &amp; SM, llvm::StringRef Buffer, std::vector&lt;FileCheckDiag&gt; * Diags) const</li><li class="is-family-code">public void  <a href="#0BDF0DBC3F6987D0"><b>printSubstitutions</b></a>(const llvm::SourceMgr &amp; SM, llvm::StringRef Buffer, llvm::SMRange MatchRange = None) const</li></ul><h2>Methods</h2><h3 id="B7D5CBFF1B49B523"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B7D5CBFF1B49B523">¶</a><code class="hdoc-function-code language-cpp">Pattern(<a href="r385A35C9D9DE3A18.html">Check::FileCheckType</a> Ty,
        <a href="r0082F408DF553F18.html">llvm::FileCheckPatternContext</a>* Context,
        <a href="r6607998C23E31109.html">Optional</a>&lt;size_t&gt; Line = None)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L428">llvm/lib/Support/FileCheckImpl.h:428</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r385A35C9D9DE3A18.html">Check::FileCheckType</a><b> Ty</b></dt><dt class="is-family-code"><a href="r0082F408DF553F18.html">llvm::FileCheckPatternContext</a>*<b> Context</b></dt><dt class="is-family-code"><a href="r6607998C23E31109.html">Optional</a>&lt;size_t&gt;<b> Line</b> = None</dt></dl><h3 id="B4D667C700E264DA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B4D667C700E264DA">¶</a><code class="hdoc-function-code language-cpp"><a href="r385A35C9D9DE3A18.html">Check::FileCheckType</a> getCheckTy() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L503">llvm/lib/Support/FileCheckImpl.h:503</a></p><h3 id="6ACE8FA1A300CC6C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6ACE8FA1A300CC6C">¶</a><code class="hdoc-function-code language-cpp"><a href="r0082F408DF553F18.html">llvm::FileCheckPatternContext</a>* getContext() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L437">llvm/lib/Support/FileCheckImpl.h:437</a></p><h4>Returns</h4><p>the pointer to the global state for all patterns in this FileCheck instance.</p><h3 id="D528DC7B2D9C552C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D528DC7B2D9C552C">¶</a><code class="hdoc-function-code language-cpp">int getCount() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L505">llvm/lib/Support/FileCheckImpl.h:505</a></p><h3 id="798CCBB16A5227A5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#798CCBB16A5227A5">¶</a><code class="hdoc-function-code language-cpp"><a href="rF750773C5F455426.html">llvm::SMLoc</a> getLoc() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L433">llvm/lib/Support/FileCheckImpl.h:433</a></p><h4>Returns</h4><p>the location in source code.</p><h3 id="CF708E61DFF63A9B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#CF708E61DFF63A9B">¶</a><code class="hdoc-function-code language-cpp">bool hasVariable() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L499">llvm/lib/Support/FileCheckImpl.h:499</a></p><h3 id="73C6FB1BB831E3A1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#73C6FB1BB831E3A1">¶</a><code class="hdoc-function-code language-cpp">static bool isValidVarNameStart(char C)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L440">llvm/lib/Support/FileCheckImpl.h:440</a></p><h4>Parameters</h4><dl><dt class="is-family-code">char<b> C</b></dt></dl><h4>Returns</h4><p>whether \p C is a valid first character for a variable name.</p><h3 id="101C4A7034EF3987"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#101C4A7034EF3987">¶</a><code class="hdoc-function-code language-cpp"><a href="r004187BCD48C0729.html">Expected</a>&lt;size_t&gt; match(
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Buffer,
    size_t&amp; MatchLen,
    const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp; SM) const</code></pre></h3><h4>Description</h4><p>Matches the pattern string against the input buffer \p Buffer The GlobalVariableTable StringMap in the FileCheckPatternContext class instance provides the current values of FileCheck string variables and is updated if this match defines new values. Likewise, the GlobalNumericVariableTable StringMap in the same class provides the current values of FileCheck numeric variables and is updated if this match defines new numeric values.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L490">llvm/lib/Support/FileCheckImpl.h:490</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Buffer</b></dt><dt class="is-family-code">size_t&amp;<b> MatchLen</b></dt><dt class="is-family-code">const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp;<b> SM</b></dt></dl><h4>Returns</h4><p>the position that is matched or an error indicating why matching failed. If there is a match, updates \p MatchLen with the size of the matched string.</p><h3 id="9DE1045326D67DEC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9DE1045326D67DEC">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">Expected</a>&lt;std::unique_ptr&lt;ExpressionAST&gt;&gt;
parseNumericSubstitutionBlock(
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Expr,
    <a href="r6607998C23E31109.html">Optional</a>&lt;llvm::NumericVariable*&gt;&amp;
        DefinedNumericVariable,
    bool IsLegacyLineExpr,
    <a href="r6607998C23E31109.html">Optional</a>&lt;size_t&gt; LineNumber,
    <a href="r0082F408DF553F18.html">llvm::FileCheckPatternContext</a>* Context,
    const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp; SM)</code></pre></h3><h4>Description</h4><p>Parses \p Expr for a numeric substitution block at line \p LineNumber, or before input is parsed if \p LineNumber is None. Parameter\p IsLegacyLineExpr indicates whether \p Expr should be a legacy @LINEexpression and \p Context points to the class instance holding the live string and numeric variables.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L465">llvm/lib/Support/FileCheckImpl.h:465</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Expr</b></dt><dt class="is-family-code"><a href="r6607998C23E31109.html">Optional</a>&lt;llvm::NumericVariable*&gt;&amp;<b> DefinedNumericVariable</b></dt><dt class="is-family-code">bool<b> IsLegacyLineExpr</b></dt><dt class="is-family-code"><a href="r6607998C23E31109.html">Optional</a>&lt;size_t&gt;<b> LineNumber</b></dt><dt class="is-family-code"><a href="r0082F408DF553F18.html">llvm::FileCheckPatternContext</a>*<b> Context</b></dt><dt class="is-family-code">const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp;<b> SM</b></dt></dl><h4>Returns</h4><p>a pointer to the class instance representing the AST of the expression whose value must be substitued, or an error holding a diagnostic against \p SM if parsing fails. If substitution was successful, sets \p DefinedNumericVariable to point to the class representing the numeric variable defined in this numeric substitution block, or None if this block does not define any variable.</p><h3 id="8148ED04EFD973DC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8148ED04EFD973DC">¶</a><code class="hdoc-function-code language-cpp">bool parsePattern(
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> PatternStr,
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Prefix,
    <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp; SM,
    const <a href="rA5E80D40E9663E3E.html">llvm::FileCheckRequest</a>&amp; Req)</code></pre></h3><h4>Description</h4><p>Parses the pattern in \p PatternStr and initializes this Pattern instance accordingly. \p Prefix provides which prefix is being matched, \p Req describes the global options that influence the parsing such as whitespace canonicalization, \p SM provides the SourceMgr used for error reports.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L476">llvm/lib/Support/FileCheckImpl.h:476</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> PatternStr</b></dt><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Prefix</b></dt><dt class="is-family-code"><a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp;<b> SM</b></dt><dt class="is-family-code">const <a href="rA5E80D40E9663E3E.html">llvm::FileCheckRequest</a>&amp;<b> Req</b></dt></dl><h4>Returns</h4><p>true in case of an error, false otherwise.</p><h3 id="67342FFB90E34401"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#67342FFB90E34401">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">Expected</a>&lt;llvm::Pattern::VariableProperties&gt;
parseVariable(<a href="rECFCAF624C04523A.html">llvm::StringRef</a>&amp; Str,
              const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp; SM)</code></pre></h3><h4>Description</h4><p>Parses the string at the start of \p Str for a variable name.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L453">llvm/lib/Support/FileCheckImpl.h:453</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a>&amp;<b> Str</b></dt><dt class="is-family-code">const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp;<b> SM</b></dt></dl><h4>Returns</h4><p>a VariableProperties structure holding the variable name and whether it is the name of a pseudo variable, or an error holding a diagnostic against \p SM if parsing fail. If parsing was successful, also strips\p Str from the variable name.</p><h3 id="0F4EBC2029C0C569"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0F4EBC2029C0C569">¶</a><code class="hdoc-function-code language-cpp">void printFuzzyMatch(
    const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp; SM,
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Buffer,
    <a href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a>&lt;FileCheckDiag&gt;* Diags) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L496">llvm/lib/Support/FileCheckImpl.h:496</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp;<b> SM</b></dt><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Buffer</b></dt><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a>&lt;FileCheckDiag&gt;*<b> Diags</b></dt></dl><h3 id="0BDF0DBC3F6987D0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0BDF0DBC3F6987D0">¶</a><code class="hdoc-function-code language-cpp">void printSubstitutions(
    const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp; SM,
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Buffer,
    <a href="r953388EBD12A5321.html">llvm::SMRange</a> MatchRange = None) const</code></pre></h3><h4>Description</h4><p>Prints the value of successful substitutions or the name of the undefined string or numeric variables preventing a successful substitution.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Support/FileCheckImpl.h#L494">llvm/lib/Support/FileCheckImpl.h:494</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r5C2B8F1283E40073.html">llvm::SourceMgr</a>&amp;<b> SM</b></dt><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Buffer</b></dt><dt class="is-family-code"><a href="r953388EBD12A5321.html">llvm::SMRange</a><b> MatchRange</b> = None</dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>