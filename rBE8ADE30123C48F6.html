<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct APFloatBase: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageBE8ADE30123C48F6"><span>struct APFloatBase</span></a></li></ul></nav><main class="content"><h1>struct APFloatBase</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct APFloatBase { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>A self-contained host- and target-independent arbitrary-precision floating-point software implementation. APFloat uses bignum integer arithmetic as provided by static functions in the APInt class.  The library will work with bignum integers whose parts are any unsigned type at least 16 bits wide, but 64 bits is recommended. Written for clarity rather than speed, in particular with a view to use in the front-end of a cross compiler so that target arithmetic can be correctly performed on the host.  Performance should nonetheless be reasonable, particularly for its intended use.  It may be useful as a base implementation for a run-time library during development of a faster target-specific one. All 5 rounding modes in the IEEE-754R draft are handled correctly for all implemented operations.  Currently implemented operations are add, subtract, multiply, divide, fused-multiply-add, conversion-to-float, conversion-to-integer and conversion-from-integer.  New rounding modes (e.g. away from zero) can be added with three or four lines of code. Four formats are built-in: IEEE single precision, double precision, quadruple precision, and x87 80-bit extended double (when operating with full extended precision).  Adding a new format that obeys IEEE semantics only requires adding two lines of code: a declaration and definition of the format. All operations return the status of that operation as an exception bit-mask, so multiple operations can be done consecutively with their results or-ed together.  The returned status can be useful for compiler diagnostics; e.g., inexact, underflow and overflow can be easily diagnosed on constant folding, and compiler optimizers can determine what exceptions would be raised by folding operations and optimize, or perhaps not optimize, accordingly. At present, underflow tininess is detected after rounding; it should be straight forward to add support for the before-rounding case too. The library reads hexadecimal floating point numbers as per C99, and correctly rounds if necessary according to the specified rounding mode. Syntax is required to have been validated by the caller.  It also converts floating point numbers to hexadecimal text as per the C99 %a and %A conversions.  The output precision (or alternatively the natural minimal precision) can be specified; if the requested precision is less than the natural precision the output is correctly rounded for the specified rounding mode. It also reads decimal floating point numbers and correctly rounds according to the specified rounding mode. Conversion to decimal text is not currently implemented. Non-zero finite numbers are represented internally as a sign bit, a 16-bit signed exponent, and the significand as an array of integer parts.  After normalization of a number of precision P the exponent is within the range of the format, and if the number is not denormal the P-th bit of the significand is set as an explicit integer bit.  For denormals the most significant bit is shifted right so that the exponent is maintained at the format&apos;s minimum, so that the smallest denormal has just the least significant bit of the significand set.  The sign of zeroes and infinities is significant; the exponent and significand of such numbers is not stored, but has a known implicit (deterministic) value: 0 for the significands, 0 for zero exponent, all 1 bits for infinity exponent.  For NaNs the sign and significand are deterministic, although not really meaningful, and preserved in non-conversion operations.  The exponent is implicitly all 1 bits. APFloat does not provide any exception handling beyond default exception handling. We represent Signaling NaNs via IEEE-754R 2008 6.2.1 should clause by encoding Signaling NaNs with the first bit of its trailing significand as 0. TODO ==== Some features that may or may not be worth adding: Binary to decimal conversion (hard). Optional ability to detect underflow tininess before rounding. New formats: x87 in single and double precision mode (IEEE apart from extended exponent range) (hard). New operations: sqrt, IEEE remainder, C90 fmod, nexttoward.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L142">llvm/include/llvm/ADT/APFloat.h:142</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_integerPartWidth">public static  const unsigned int <b>integerPartWidth</b> = APInt::APINT_BITS_PER_WORD</dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#DFDBDA178698061F"><b>Bogus</b></a>()</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#4E88CE6163B93800"><b>EnumToSemantics</b></a>(llvm::APFloatBase::Semantics S)</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#5F8EAC7B83A43CC2"><b>IEEEdouble</b></a>()</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#79235CB952EA0F19"><b>IEEEhalf</b></a>()</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#EF58DB0539044F4B"><b>IEEEquad</b></a>()</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#7B554ACF6CC50DB5"><b>IEEEsingle</b></a>()</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#E26F7802575DE036"><b>PPCDoubleDouble</b></a>()</li><li class="is-family-code">public static llvm::APFloatBase::Semantics  <a href="#993C121C0AC268A8"><b>SemanticsToEnum</b></a>(const llvm::fltSemantics &amp; Sem)</li><li class="is-family-code">public static unsigned int  <a href="#104F6AEEA94BE9ED"><b>getSizeInBits</b></a>(const llvm::fltSemantics &amp; Sem)</li><li class="is-family-code">public static llvm::APFloatBase::ExponentType  <a href="#88F574ADF847D33B"><b>semanticsMaxExponent</b></a>(const llvm::fltSemantics &amp;)</li><li class="is-family-code">public static llvm::APFloatBase::ExponentType  <a href="#ADF3937D0FA86A6B"><b>semanticsMinExponent</b></a>(const llvm::fltSemantics &amp;)</li><li class="is-family-code">public static unsigned int  <a href="#A82E35A33809BC0F"><b>semanticsPrecision</b></a>(const llvm::fltSemantics &amp;)</li><li class="is-family-code">public static unsigned int  <a href="#7273E9A668E44E76"><b>semanticsSizeInBits</b></a>(const llvm::fltSemantics &amp;)</li><li class="is-family-code">public static const llvm::fltSemantics &amp;  <a href="#BE1B55FF7D4D5BED"><b>x87DoubleExtended</b></a>()</li></ul><h2>Methods</h2><h3 id="DFDBDA178698061F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DFDBDA178698061F">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; Bogus()</code></pre></h3><h4>Description</h4><p>A Pseudo fltsemantic used to construct APFloats that cannot conflict with anything real.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L172">llvm/include/llvm/ADT/APFloat.h:172</a></p><h3 id="4E88CE6163B93800"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4E88CE6163B93800">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; EnumToSemantics(
    llvm::APFloatBase::Semantics S)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L160">llvm/include/llvm/ADT/APFloat.h:160</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::APFloatBase::Semantics<b> S</b></dt></dl><h3 id="5F8EAC7B83A43CC2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5F8EAC7B83A43CC2">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; IEEEdouble()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L165">llvm/include/llvm/ADT/APFloat.h:165</a></p><h3 id="79235CB952EA0F19"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#79235CB952EA0F19">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; IEEEhalf()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L163">llvm/include/llvm/ADT/APFloat.h:163</a></p><h3 id="EF58DB0539044F4B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EF58DB0539044F4B">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; IEEEquad()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L166">llvm/include/llvm/ADT/APFloat.h:166</a></p><h3 id="7B554ACF6CC50DB5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7B554ACF6CC50DB5">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; IEEEsingle()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L164">llvm/include/llvm/ADT/APFloat.h:164</a></p><h3 id="E26F7802575DE036"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E26F7802575DE036">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; PPCDoubleDouble()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L167">llvm/include/llvm/ADT/APFloat.h:167</a></p><h3 id="993C121C0AC268A8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#993C121C0AC268A8">¶</a><code class="hdoc-function-code language-cpp">static llvm::APFloatBase::Semantics
SemanticsToEnum(const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; Sem)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L161">llvm/include/llvm/ADT/APFloat.h:161</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;<b> Sem</b></dt></dl><h3 id="104F6AEEA94BE9ED"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#104F6AEEA94BE9ED">¶</a><code class="hdoc-function-code language-cpp">static unsigned int getSizeInBits(
    const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp; Sem)</code></pre></h3><h4>Description</h4><p>Returns the size of the floating point number (in bits) in the given semantics.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L237">llvm/include/llvm/ADT/APFloat.h:237</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;<b> Sem</b></dt></dl><h3 id="88F574ADF847D33B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#88F574ADF847D33B">¶</a><code class="hdoc-function-code language-cpp">static llvm::APFloatBase::ExponentType
semanticsMaxExponent(const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L232">llvm/include/llvm/ADT/APFloat.h:232</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;<b> </b></dt></dl><h3 id="ADF3937D0FA86A6B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ADF3937D0FA86A6B">¶</a><code class="hdoc-function-code language-cpp">static llvm::APFloatBase::ExponentType
semanticsMinExponent(const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L231">llvm/include/llvm/ADT/APFloat.h:231</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;<b> </b></dt></dl><h3 id="A82E35A33809BC0F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A82E35A33809BC0F">¶</a><code class="hdoc-function-code language-cpp">static unsigned int semanticsPrecision(
    const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L230">llvm/include/llvm/ADT/APFloat.h:230</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;<b> </b></dt></dl><h3 id="7273E9A668E44E76"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7273E9A668E44E76">¶</a><code class="hdoc-function-code language-cpp">static unsigned int semanticsSizeInBits(
    const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L233">llvm/include/llvm/ADT/APFloat.h:233</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;<b> </b></dt></dl><h3 id="BE1B55FF7D4D5BED"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BE1B55FF7D4D5BED">¶</a><code class="hdoc-function-code language-cpp">static const <a href="rE66A6AC63A27CFB2.html">llvm::fltSemantics</a>&amp;
x87DoubleExtended()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/APFloat.h#L168">llvm/include/llvm/ADT/APFloat.h:168</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>