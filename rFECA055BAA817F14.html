<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class TextInstrProfReader: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageFECA055BAA817F14"><span>class TextInstrProfReader</span></a></li></ul></nav><main class="content"><h1>class TextInstrProfReader</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class TextInstrProfReader : public InstrProfReader { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Reader for the simple text based instrprof format. This format is a simple text format that&apos;s suitable for test data. Records are separated by one or more blank lines, and record fields are separated by new lines. Each record consists of a function name, a function hash, a number of counters, and then each counter value, in that order.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L143">llvm/include/llvm/ProfileData/InstrProfReader.h:143</a></p><p>Inherits from: <a href="r2F83DE79DD137DC2.html">InstrProfReader</a></p><h2>Member Variables</h2><p>Inherited from <a href="r2F83DE79DD137DC2.html">InstrProfReader</a>:</p><dl><dt class="is-family-code"><a href="r2F83DE79DD137DC2.html#var_Symtab">protected <b>Symtab</b></a></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#75A4824D87F66739"><b>TextInstrProfReader</b></a>(std::unique_ptr&lt;MemoryBuffer&gt; DataBuffer_)</li><li class="is-family-code">public  <a href="#D905556C8693BC60"><b>TextInstrProfReader</b></a>(const llvm::TextInstrProfReader &amp;)</li><li class="is-family-code">public llvm::InstrProfSymtab &amp;  <a href="#93ED7F64810D32F4"><b>getSymtab</b></a>()</li><li class="is-family-code">public bool  <a href="#6EE9B0B28029A2FC"><b>hasCSIRLevelProfile</b></a>() const</li><li class="is-family-code">public static bool  <a href="#9AE51615B58DE380"><b>hasFormat</b></a>(const llvm::MemoryBuffer &amp; Buffer)</li><li class="is-family-code">public bool  <a href="#85CFADFB14B12412"><b>isIRLevelProfile</b></a>() const</li><li class="is-family-code">public llvm::Error  <a href="#6F715370448D970C"><b>readHeader</b></a>()</li><li class="is-family-code">public llvm::Error  <a href="#D5166D860DFE1AD5"><b>readNextRecord</b></a>(llvm::NamedInstrProfRecord &amp; Record)</li></ul><p>Inherited from <a href="r2F83DE79DD137DC2.html">InstrProfReader</a>:</p><ul><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#3DB674E16441154D">public <b>accumulateCounts</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#AFB730E7629133D9">public <b>begin</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#5AA3366390CDC983">public <b>create</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#66A6F8101EC65824">public <b>create</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#D1E2363EF87CF37D">public <b>end</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#4D45053FAC81622A">protected <b>error</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#C05C3165C6C9621B">protected <b>error</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#E6C8AC4CF17DAA38">public <b>getError</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#1C24655DB7159665">public <b>getSymtab</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#1F3D6994D48B91F6">public <b>hasCSIRLevelProfile</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#044EECC741803A51">public <b>hasError</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#1F96C08DECDAE1A9">public <b>isEOF</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#2CDEC20E71CC81C6">public <b>isIRLevelProfile</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#6FBAA6EB64F0213D">public <b>readHeader</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#1F0F2F537E75A761">public <b>readNextRecord</b></a></li><li class="is-family-code"><a href="r2F83DE79DD137DC2.html#32D95EAA5FE08F51">protected <b>success</b></a></li></ul><h2>Methods</h2><h3 id="75A4824D87F66739"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#75A4824D87F66739">¶</a><code class="hdoc-function-code language-cpp">TextInstrProfReader(
    <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;MemoryBuffer&gt; DataBuffer_)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L155">llvm/include/llvm/ProfileData/InstrProfReader.h:155</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;MemoryBuffer&gt;<b> DataBuffer_</b></dt></dl><h3 id="D905556C8693BC60"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D905556C8693BC60">¶</a><code class="hdoc-function-code language-cpp">TextInstrProfReader(
    const <a href="rFECA055BAA817F14.html">llvm::TextInstrProfReader</a>&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L157">llvm/include/llvm/ProfileData/InstrProfReader.h:157</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rFECA055BAA817F14.html">llvm::TextInstrProfReader</a>&amp;<b> </b></dt></dl><h3 id="93ED7F64810D32F4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#93ED7F64810D32F4">¶</a><code class="hdoc-function-code language-cpp"><a href="r7F060A25C2E13954.html">llvm::InstrProfSymtab</a>&amp; getSymtab()</code></pre></h3><h4>Description</h4><p>Return the PGO symtab. There are three different readers: Raw, Text, and Indexed profile readers. The first two types of readers are used only by llvm-profdata tool, while the indexed profile reader is also used by llvm-cov tool and the compiler ( backend or frontend). Since creating PGO symtab can create significant runtime and memory overhead (as it touches data for the whole program), InstrProfSymtab for the indexed profile reader should be created on demand and it is recommended to be only used for dumping purpose with llvm-proftool, not with the compiler.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L173">llvm/include/llvm/ProfileData/InstrProfReader.h:173</a></p><h3 id="6EE9B0B28029A2FC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6EE9B0B28029A2FC">¶</a><code class="hdoc-function-code language-cpp">bool hasCSIRLevelProfile() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L165">llvm/include/llvm/ProfileData/InstrProfReader.h:165</a></p><h3 id="9AE51615B58DE380"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9AE51615B58DE380">¶</a><code class="hdoc-function-code language-cpp">static bool hasFormat(
    const <a href="r76C29145F861F747.html">llvm::MemoryBuffer</a>&amp; Buffer)</code></pre></h3><h4>Description</h4><p>Return true if the given buffer is in text instrprof format.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L161">llvm/include/llvm/ProfileData/InstrProfReader.h:161</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r76C29145F861F747.html">llvm::MemoryBuffer</a>&amp;<b> Buffer</b></dt></dl><h3 id="85CFADFB14B12412"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#85CFADFB14B12412">¶</a><code class="hdoc-function-code language-cpp">bool isIRLevelProfile() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L163">llvm/include/llvm/ProfileData/InstrProfReader.h:163</a></p><h3 id="6F715370448D970C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6F715370448D970C">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> readHeader()</code></pre></h3><h4>Description</h4><p>Read the header.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L168">llvm/include/llvm/ProfileData/InstrProfReader.h:168</a></p><h3 id="D5166D860DFE1AD5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D5166D860DFE1AD5">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> readNextRecord(
    <a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp; Record)</code></pre></h3><h4>Description</h4><p>Read a single record.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfReader.h#L171">llvm/include/llvm/ProfileData/InstrProfReader.h:171</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;<b> Record</b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>