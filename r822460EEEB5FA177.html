<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class InstrProfWriter: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page822460EEEB5FA177"><span>class InstrProfWriter</span></a></li></ul></nav><main class="content"><h1>class InstrProfWriter</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class InstrProfWriter { /* full declaration omitted */ };</code></pre><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L33">llvm/include/llvm/ProfileData/InstrProfWriter.h:33</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#04AAE0F231DD1763"><b>InstrProfWriter</b></a>(bool Sparse = false)</li><li class="is-family-code">public void  <a href="#820C0E1F668896D8"><b>addRecord</b></a>(llvm::NamedInstrProfRecord &amp;&amp; I, uint64_t Weight, function_ref&lt;void (llvm::Error)&gt; Warn)</li><li class="is-family-code">public void  <a href="#3267646AF31BE940"><b>addRecord</b></a>(llvm::NamedInstrProfRecord &amp;&amp; I, function_ref&lt;void (llvm::Error)&gt; Warn)</li><li class="is-family-code">public void  <a href="#7EF8A3EC63044F91"><b>mergeRecordsFromWriter</b></a>(llvm::InstrProfWriter &amp;&amp; IPW, function_ref&lt;void (llvm::Error)&gt; Warn)</li><li class="is-family-code">public void  <a href="#99A862D19E898BA2"><b>overlapRecord</b></a>(llvm::NamedInstrProfRecord &amp;&amp; Other, llvm::OverlapStats &amp; Overlap, llvm::OverlapStats &amp; FuncLevelOverlap, const llvm::OverlapFuncFilters &amp; FuncFilter)</li><li class="is-family-code">public llvm::Error  <a href="#6D4A0C9F1F4CFA0F"><b>setIsIRLevelProfile</b></a>(bool IsIRLevel, bool WithCS)</li><li class="is-family-code">public void  <a href="#03441CDAF6234BA6"><b>setOutputSparse</b></a>(bool Sparse)</li><li class="is-family-code">public void  <a href="#B85A2D2A99C370D8"><b>setValueProfDataEndianness</b></a>(support::endianness Endianness)</li><li class="is-family-code">public void  <a href="#8C67A7D6C2121103"><b>write</b></a>(llvm::raw_fd_ostream &amp; OS)</li><li class="is-family-code">public std::unique_ptr&lt;MemoryBuffer&gt;  <a href="#F5A17333D95ABFBC"><b>writeBuffer</b></a>()</li><li class="is-family-code">public static void  <a href="#904E1071EEE378D0"><b>writeRecordInText</b></a>(llvm::StringRef Name, uint64_t Hash, const llvm::InstrProfRecord &amp; Counters, llvm::InstrProfSymtab &amp; Symtab, llvm::raw_fd_ostream &amp; OS)</li><li class="is-family-code">public llvm::Error  <a href="#2E41D3C4B02AAA18"><b>writeText</b></a>(llvm::raw_fd_ostream &amp; OS)</li><li class="is-family-code">public  <a href="#2461E07553ED6F29"><b>~InstrProfWriter</b></a>()</li></ul><h2>Methods</h2><h3 id="04AAE0F231DD1763"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#04AAE0F231DD1763">¶</a><code class="hdoc-function-code language-cpp">InstrProfWriter(bool Sparse = false)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L47">llvm/include/llvm/ProfileData/InstrProfWriter.h:47</a></p><h4>Parameters</h4><dl><dt class="is-family-code">bool<b> Sparse</b> = false</dt></dl><h3 id="820C0E1F668896D8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#820C0E1F668896D8">¶</a><code class="hdoc-function-code language-cpp">void addRecord(
    <a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;&amp; I,
    uint64_t Weight,
    function_ref&lt;void(llvm::Error)&gt; Warn)</code></pre></h3><h4>Description</h4><p>Add function counts for the given function. If there are already counts for this function and the hash and number of counts match, each counter is summed. Optionally scale counts by \p Weight.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L53">llvm/include/llvm/ProfileData/InstrProfWriter.h:53</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;&amp;<b> I</b></dt><dt class="is-family-code">uint64_t<b> Weight</b></dt><dt class="is-family-code">function_ref&lt;void(llvm::Error)&gt;<b> Warn</b></dt></dl><h3 id="3267646AF31BE940"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3267646AF31BE940">¶</a><code class="hdoc-function-code language-cpp">void addRecord(
    <a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;&amp; I,
    function_ref&lt;void(llvm::Error)&gt; Warn)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L55">llvm/include/llvm/ProfileData/InstrProfWriter.h:55</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;&amp;<b> I</b></dt><dt class="is-family-code">function_ref&lt;void(llvm::Error)&gt;<b> Warn</b></dt></dl><h3 id="7EF8A3EC63044F91"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7EF8A3EC63044F91">¶</a><code class="hdoc-function-code language-cpp">void mergeRecordsFromWriter(
    <a href="r822460EEEB5FA177.html">llvm::InstrProfWriter</a>&amp;&amp; IPW,
    function_ref&lt;void(llvm::Error)&gt; Warn)</code></pre></h3><h4>Description</h4><p>Merge existing function counts from the given writer.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L60">llvm/include/llvm/ProfileData/InstrProfWriter.h:60</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r822460EEEB5FA177.html">llvm::InstrProfWriter</a>&amp;&amp;<b> IPW</b></dt><dt class="is-family-code">function_ref&lt;void(llvm::Error)&gt;<b> Warn</b></dt></dl><h3 id="99A862D19E898BA2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#99A862D19E898BA2">¶</a><code class="hdoc-function-code language-cpp">void overlapRecord(
    <a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;&amp; Other,
    <a href="rD4D74E922EC77B91.html">llvm::OverlapStats</a>&amp; Overlap,
    <a href="rD4D74E922EC77B91.html">llvm::OverlapStats</a>&amp; FuncLevelOverlap,
    const <a href="rB0CA4CBCB613AED5.html">llvm::OverlapFuncFilters</a>&amp; FuncFilter)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L105">llvm/include/llvm/ProfileData/InstrProfWriter.h:105</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r0D43F4BDF0C16C6D.html">llvm::NamedInstrProfRecord</a>&amp;&amp;<b> Other</b></dt><dt class="is-family-code"><a href="rD4D74E922EC77B91.html">llvm::OverlapStats</a>&amp;<b> Overlap</b></dt><dt class="is-family-code"><a href="rD4D74E922EC77B91.html">llvm::OverlapStats</a>&amp;<b> FuncLevelOverlap</b></dt><dt class="is-family-code">const <a href="rB0CA4CBCB613AED5.html">llvm::OverlapFuncFilters</a>&amp;<b> FuncFilter</b></dt></dl><h3 id="6D4A0C9F1F4CFA0F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6D4A0C9F1F4CFA0F">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> setIsIRLevelProfile(bool IsIRLevel,
                                bool WithCS)</code></pre></h3><h4>Description</h4><p>Set the ProfileKind. Report error if mixing FE and IR level profiles.\c WithCS indicates if this is for contenxt sensitive instrumentation.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L79">llvm/include/llvm/ProfileData/InstrProfWriter.h:79</a></p><h4>Parameters</h4><dl><dt class="is-family-code">bool<b> IsIRLevel</b></dt><dt class="is-family-code">bool<b> WithCS</b></dt></dl><h3 id="03441CDAF6234BA6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#03441CDAF6234BA6">¶</a><code class="hdoc-function-code language-cpp">void setOutputSparse(bool Sparse)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L102">llvm/include/llvm/ProfileData/InstrProfWriter.h:102</a></p><h4>Parameters</h4><dl><dt class="is-family-code">bool<b> Sparse</b></dt></dl><h3 id="B85A2D2A99C370D8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B85A2D2A99C370D8">¶</a><code class="hdoc-function-code language-cpp">void setValueProfDataEndianness(
    support::endianness Endianness)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L101">llvm/include/llvm/ProfileData/InstrProfWriter.h:101</a></p><h4>Parameters</h4><dl><dt class="is-family-code">support::endianness<b> Endianness</b></dt></dl><h3 id="8C67A7D6C2121103"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8C67A7D6C2121103">¶</a><code class="hdoc-function-code language-cpp">void write(<a href="r5097B45211D54FB0.html">llvm::raw_fd_ostream</a>&amp; OS)</code></pre></h3><h4>Description</h4><p>Write the profile to \c OS</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L64">llvm/include/llvm/ProfileData/InstrProfWriter.h:64</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5097B45211D54FB0.html">llvm::raw_fd_ostream</a>&amp;<b> OS</b></dt></dl><h3 id="F5A17333D95ABFBC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F5A17333D95ABFBC">¶</a><code class="hdoc-function-code language-cpp"><a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;MemoryBuffer&gt; writeBuffer()</code></pre></h3><h4>Description</h4><p>Write the profile, returning the raw data. For testing.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L75">llvm/include/llvm/ProfileData/InstrProfWriter.h:75</a></p><h3 id="904E1071EEE378D0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#904E1071EEE378D0">¶</a><code class="hdoc-function-code language-cpp">static void writeRecordInText(
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Name,
    uint64_t Hash,
    const <a href="r054D4E2150C06A3C.html">llvm::InstrProfRecord</a>&amp; Counters,
    <a href="r7F060A25C2E13954.html">llvm::InstrProfSymtab</a>&amp; Symtab,
    <a href="r5097B45211D54FB0.html">llvm::raw_fd_ostream</a>&amp; OS)</code></pre></h3><h4>Description</h4><p>Write \c Record in text format to \c OS</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L70">llvm/include/llvm/ProfileData/InstrProfWriter.h:70</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Name</b></dt><dt class="is-family-code">uint64_t<b> Hash</b></dt><dt class="is-family-code">const <a href="r054D4E2150C06A3C.html">llvm::InstrProfRecord</a>&amp;<b> Counters</b></dt><dt class="is-family-code"><a href="r7F060A25C2E13954.html">llvm::InstrProfSymtab</a>&amp;<b> Symtab</b></dt><dt class="is-family-code"><a href="r5097B45211D54FB0.html">llvm::raw_fd_ostream</a>&amp;<b> OS</b></dt></dl><h3 id="2E41D3C4B02AAA18"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2E41D3C4B02AAA18">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> writeText(<a href="r5097B45211D54FB0.html">llvm::raw_fd_ostream</a>&amp; OS)</code></pre></h3><h4>Description</h4><p>Write the profile in text format to \c OS</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L67">llvm/include/llvm/ProfileData/InstrProfWriter.h:67</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5097B45211D54FB0.html">llvm::raw_fd_ostream</a>&amp;<b> OS</b></dt></dl><h3 id="2461E07553ED6F29"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2461E07553ED6F29">¶</a><code class="hdoc-function-code language-cpp">~InstrProfWriter()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ProfileData/InstrProfWriter.h#L48">llvm/include/llvm/ProfileData/InstrProfWriter.h:48</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>