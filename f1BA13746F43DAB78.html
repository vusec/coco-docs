<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>function CloneAndPruneFunctionInto: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page1BA13746F43DAB78"><span>function CloneAndPruneFunctionInto</span></a></li></ul></nav><main class="content"><h3 id="1BA13746F43DAB78"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1BA13746F43DAB78">Â¶</a><code class="hdoc-function-code language-cpp">void CloneAndPruneFunctionInto(
    <a href="rADBA2A8E0906EC47.html">llvm::Function</a>* NewFunc,
    const <a href="rADBA2A8E0906EC47.html">llvm::Function</a>* OldFunc,
    <a href="r86C9E2213D130A0C.html">llvm::ValueToValueMapTy</a>&amp; VMap,
    bool ModuleLevelChanges,
    <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;llvm::ReturnInst*&gt;&amp; Returns,
    const char* NameSuffix = &quot;&quot;,
    <a href="rB6F142EE1A23D098.html">llvm::ClonedCodeInfo</a>* CodeInfo = nullptr,
    <a href="rE266D8602316BABC.html">llvm::Instruction</a>* TheCall = nullptr)</code></pre></h3><h4>Description</h4><p>This works exactly like CloneFunctionInto, except that it does some simple constant prop and DCE on the fly.  The effect of this is to copy significantly less code in cases where (for example) a function call with constant arguments is inlined, and those constant arguments cause a significant amount of code in the callee to be dead.  Since this doesn&apos;t produce an exactly copy of the input, it can&apos;t be used for things like CloneFunction or CloneModule. If ModuleLevelChanges is false, VMap contains no non-identity GlobalValue mappings.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/Utils/Cloning.h#L164">llvm/include/llvm/Transforms/Utils/Cloning.h:164</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rADBA2A8E0906EC47.html">llvm::Function</a>*<b> NewFunc</b></dt><dt class="is-family-code">const <a href="rADBA2A8E0906EC47.html">llvm::Function</a>*<b> OldFunc</b></dt><dt class="is-family-code"><a href="r86C9E2213D130A0C.html">llvm::ValueToValueMapTy</a>&amp;<b> VMap</b></dt><dt class="is-family-code">bool<b> ModuleLevelChanges</b></dt><dt class="is-family-code"><a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;llvm::ReturnInst*&gt;&amp;<b> Returns</b></dt><dt class="is-family-code">const char*<b> NameSuffix</b> = &quot;&quot;</dt><dt class="is-family-code"><a href="rB6F142EE1A23D098.html">llvm::ClonedCodeInfo</a>*<b> CodeInfo</b> = nullptr</dt><dt class="is-family-code"><a href="rE266D8602316BABC.html">llvm::Instruction</a>*<b> TheCall</b> = nullptr</dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>