<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class RegBankSelect::InsertPoint: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="r2CB45769F381E72B.html"><span>class RegBankSelect</span></a></li><li class="is-active"><a aria-current="page781AE1D7A30678C7"><span>class RegBankSelect::InsertPoint</span></a></li></ul></nav><main class="content"><h1>class RegBankSelect::InsertPoint</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class RegBankSelect::InsertPoint { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Abstract class used to represent an insertion point in a CFG. This class records an insertion point and materializes it on demand. It allows to reason about the frequency of this insertion point, without having to logically materialize it (e.g., on an edge), before we actually need to insert something.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L110">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:110</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_WasMaterialized">protected  bool <b>WasMaterialized</b> = false</dt><dd>Tell if the insert point has already been materialized.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public virtual bool  <a href="#0ECAD1F17B9E1737"><b>canMaterialize</b></a>() const</li><li class="is-family-code">public virtual uint64_t  <a href="#FEFD8B211C4AD2C7"><b>frequency</b></a>(const llvm::Pass &amp; P) const</li><li class="is-family-code">public llvm::MachineBasicBlock &amp;  <a href="#6618F7E76E7FB78B"><b>getInsertMBB</b></a>()</li><li class="is-family-code">protected virtual llvm::MachineBasicBlock &amp;  <a href="#9824F46E6E777939"><b>getInsertMBBImpl</b></a>()</li><li class="is-family-code">public MachineBasicBlock::iterator  <a href="#085D7B0876EEE3FD"><b>getPoint</b></a>()</li><li class="is-family-code">protected virtual MachineBasicBlock::iterator  <a href="#86C2326A2A70C85C"><b>getPointImpl</b></a>()</li><li class="is-family-code">public MachineBasicBlock::iterator  <a href="#28B4AD62B1CFFE07"><b>insert</b></a>(llvm::MachineInstr &amp; MI)</li><li class="is-family-code">public virtual bool  <a href="#F54B2E6F309CC6E1"><b>isSplit</b></a>() const</li><li class="is-family-code">protected virtual void  <a href="#3C5BAEA5B020C55F"><b>materialize</b></a>()</li><li class="is-family-code">public virtual  <a href="#66FE30B88EE19E91"><b>~InsertPoint</b></a>()</li></ul><h2>Methods</h2><h3 id="0ECAD1F17B9E1737"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0ECAD1F17B9E1737">¶</a><code class="hdoc-function-code language-cpp">virtual bool canMaterialize() const</code></pre></h3><h4>Description</h4><p>Check whether this insertion point can be materialized. As soon as ::getPoint is called and thus, the point materialized calling this method does not make sense.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L199">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:199</a></p><h3 id="FEFD8B211C4AD2C7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FEFD8B211C4AD2C7">¶</a><code class="hdoc-function-code language-cpp">virtual uint64_t frequency(
    const <a href="r5C699BA905513C7D.html">llvm::Pass</a>&amp; P) const</code></pre></h3><h4>Description</h4><p>Frequency of the insertion point.\p P is used to access the various analysis that will help to get that information, like MachineBlockFrequencyInfo.  If \p P does not contain enough enough to return the actual frequency, this returns 1.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L194">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:194</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r5C699BA905513C7D.html">llvm::Pass</a>&amp;<b> P</b></dt></dl><h3 id="6618F7E76E7FB78B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6618F7E76E7FB78B">¶</a><code class="hdoc-function-code language-cpp"><a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>&amp; getInsertMBB()</code></pre></h3><h4>Description</h4><p>The first call to this method will cause the splitting to happen if need be, then sub sequent calls just return the basic block that contains the insertion point. I.e., no more splitting will occur.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L167">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:167</a></p><h4>Returns</h4><p>The basic block should be used with MachineBasicBlock::insert and ::getPoint. The new code should happen before that point.</p><h3 id="9824F46E6E777939"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9824F46E6E777939">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>&amp;
getInsertMBBImpl()</code></pre></h3><h4>Description</h4><p>Return the materialized insertion basic block. Code will be inserted into that basic block.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L129">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:129</a></p><h3 id="085D7B0876EEE3FD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#085D7B0876EEE3FD">¶</a><code class="hdoc-function-code language-cpp"><a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a> getPoint()</code></pre></h3><h4>Description</h4><p>The first call to this method will cause the splitting to happen if need be, then sub sequent calls just return the iterator to that point. I.e., no more splitting will occur.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L148">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:148</a></p><h4>Returns</h4><p>The iterator that should be used with MachineBasicBlock::insert. I.e., additional code happens before that point.</p><h3 id="86C2326A2A70C85C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#86C2326A2A70C85C">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a> getPointImpl()</code></pre></h3><h4>Description</h4><p>Return the materialized insertion point. Code will be inserted before that point.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L135">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:135</a></p><h3 id="28B4AD62B1CFFE07"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#28B4AD62B1CFFE07">¶</a><code class="hdoc-function-code language-cpp"><a href="r5F7F212A407CEA06.html">MachineBasicBlock::iterator</a> insert(
    <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI)</code></pre></h3><h4>Description</h4><p>Insert \p MI in the just before ::getPoint()</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L179">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:179</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="F54B2E6F309CC6E1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F54B2E6F309CC6E1">¶</a><code class="hdoc-function-code language-cpp">virtual bool isSplit() const</code></pre></h3><h4>Description</h4><p>Does this point involve splitting an edge or block? As soon as ::getPoint is called and thus, the point materialized, the point will not require splitting anymore, i.e., this will return false.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L187">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:187</a></p><h3 id="3C5BAEA5B020C55F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3C5BAEA5B020C55F">¶</a><code class="hdoc-function-code language-cpp">virtual void materialize()</code></pre></h3><h4>Description</h4><p>Materialize the insertion point. If isSplit() is true, this involves actually splitting the block or edge.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L123">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:123</a></p><h3 id="66FE30B88EE19E91"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#66FE30B88EE19E91">¶</a><code class="hdoc-function-code language-cpp">virtual ~InsertPoint()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h#L138">llvm/include/llvm/CodeGen/GlobalISel/RegBankSelect.h:138</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>