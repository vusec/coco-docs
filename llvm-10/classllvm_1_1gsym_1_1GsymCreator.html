<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::gsym::GsymCreator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">10.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="namespacellvm_1_1gsym.html">gsym</a></li><li class="navelem"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html">GsymCreator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classllvm_1_1gsym_1_1GsymCreator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llvm::gsym::GsymCreator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html" title="GsymCreator is used to emit GSYM data to a stand alone file or section within a file. ">GsymCreator</a> is used to emit GSYM data to a stand alone file or section within a file.  
 <a href="classllvm_1_1gsym_1_1GsymCreator.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="GsymCreator_8h_source.html">llvm/DebugInfo/GSYM/GsymCreator.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59dcd3832771ffb8cd1b2cd26551f79b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a59dcd3832771ffb8cd1b2cd26551f79b">GsymCreator</a> ()</td></tr>
<tr class="separator:a59dcd3832771ffb8cd1b2cd26551f79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da100903e980ccc2c9a0302e42bc6f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Error.html">llvm::Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a0da100903e980ccc2c9a0302e42bc6f0">save</a> (<a class="el" href="classllvm_1_1StringRef.html">StringRef</a> Path, <a class="el" href="namespacellvm_1_1support.html#ae0a227ae1b2ada1da82b40479251862c">llvm::support::endianness</a> ByteOrder) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a0da100903e980ccc2c9a0302e42bc6f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save a GSYM file to a stand alone file.  <a href="#a0da100903e980ccc2c9a0302e42bc6f0">More...</a><br /></td></tr>
<tr class="separator:a0da100903e980ccc2c9a0302e42bc6f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ede3510dd3c4a79112fd4ff9048e04b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Error.html">llvm::Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a9ede3510dd3c4a79112fd4ff9048e04b">encode</a> (<a class="el" href="classllvm_1_1gsym_1_1FileWriter.html">FileWriter</a> &amp;O) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a9ede3510dd3c4a79112fd4ff9048e04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode a GSYM into the file writer stream at the current position.  <a href="#a9ede3510dd3c4a79112fd4ff9048e04b">More...</a><br /></td></tr>
<tr class="separator:a9ede3510dd3c4a79112fd4ff9048e04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2c92305634f8a40baafc3b76848b7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a4c2c92305634f8a40baafc3b76848b7f">insertString</a> (<a class="el" href="classllvm_1_1StringRef.html">StringRef</a> S)</td></tr>
<tr class="memdesc:a4c2c92305634f8a40baafc3b76848b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a string into the GSYM string table.  <a href="#a4c2c92305634f8a40baafc3b76848b7f">More...</a><br /></td></tr>
<tr class="separator:a4c2c92305634f8a40baafc3b76848b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9372d27c9fb107c96a7b241848d05ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classuint32__t.html">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#ac9372d27c9fb107c96a7b241848d05ed">insertFile</a> (<a class="el" href="classllvm_1_1StringRef.html">StringRef</a> Path, <a class="el" href="namespacellvm_1_1sys_1_1path.html#a58cfd8a47c0ef96db27b451c2d6ec49f">sys::path::Style</a> Style=<a class="el" href="namespacellvm_1_1sys_1_1path.html#a58cfd8a47c0ef96db27b451c2d6ec49fa8e5f3adee38c8fccc13c1f3be0143796">sys::path::Style::native</a>)</td></tr>
<tr class="memdesc:ac9372d27c9fb107c96a7b241848d05ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a file into this GSYM creator.  <a href="#ac9372d27c9fb107c96a7b241848d05ed">More...</a><br /></td></tr>
<tr class="separator:ac9372d27c9fb107c96a7b241848d05ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0255c904a2083824db32c67a98520742"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a0255c904a2083824db32c67a98520742">addFunctionInfo</a> (<a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html">FunctionInfo</a> &amp;&amp;FI)</td></tr>
<tr class="memdesc:a0255c904a2083824db32c67a98520742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a function info to this GSYM creator.  <a href="#a0255c904a2083824db32c67a98520742">More...</a><br /></td></tr>
<tr class="separator:a0255c904a2083824db32c67a98520742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cfb7c8af9079bd0775cb9493c91450"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1Error.html">llvm::Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a42cfb7c8af9079bd0775cb9493c91450">finalize</a> (<a class="el" href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a> &amp;OS)</td></tr>
<tr class="memdesc:a42cfb7c8af9079bd0775cb9493c91450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize the data in the GSYM creator prior to saving the data out.  <a href="#a42cfb7c8af9079bd0775cb9493c91450">More...</a><br /></td></tr>
<tr class="separator:a42cfb7c8af9079bd0775cb9493c91450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85ea74b3cb2aeabcf765b1892ff9d91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#ab85ea74b3cb2aeabcf765b1892ff9d91">setUUID</a> (<a class="el" href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a>&lt; uint8_t &gt; UUIDBytes)</td></tr>
<tr class="memdesc:ab85ea74b3cb2aeabcf765b1892ff9d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the UUID value.  <a href="#ab85ea74b3cb2aeabcf765b1892ff9d91">More...</a><br /></td></tr>
<tr class="separator:ab85ea74b3cb2aeabcf765b1892ff9d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56844c4beded9856bac60a414e9e998"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#af56844c4beded9856bac60a414e9e998">forEachFunctionInfo</a> (<a class="el" href="RegionPrinter_8cpp.html#aa37fbbce2360106772fd97ed06455d55">std::function</a>&lt; <a class="el" href="classbool.html">bool</a>(<a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html">FunctionInfo</a> &amp;)&gt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> &amp;Callback)</td></tr>
<tr class="memdesc:af56844c4beded9856bac60a414e9e998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread safe iteration over all function infos.  <a href="#af56844c4beded9856bac60a414e9e998">More...</a><br /></td></tr>
<tr class="separator:af56844c4beded9856bac60a414e9e998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4030597c6be78b2eb79b02a4d827e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a5e4030597c6be78b2eb79b02a4d827e1">forEachFunctionInfo</a> (<a class="el" href="RegionPrinter_8cpp.html#aa37fbbce2360106772fd97ed06455d55">std::function</a>&lt; <a class="el" href="classbool.html">bool</a>(<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html">FunctionInfo</a> &amp;)&gt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> &amp;Callback) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a5e4030597c6be78b2eb79b02a4d827e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread safe const iteration over all function infos.  <a href="#a5e4030597c6be78b2eb79b02a4d827e1">More...</a><br /></td></tr>
<tr class="separator:a5e4030597c6be78b2eb79b02a4d827e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html" title="GsymCreator is used to emit GSYM data to a stand alone file or section within a file. ">GsymCreator</a> is used to emit GSYM data to a stand alone file or section within a file. </p>
<p>The <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html" title="GsymCreator is used to emit GSYM data to a stand alone file or section within a file. ">GsymCreator</a> is designed to be used in 3 stages:</p><ul>
<li>Create <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects and add them</li>
<li>Finalize the <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html" title="GsymCreator is used to emit GSYM data to a stand alone file or section within a file. ">GsymCreator</a> object</li>
<li>Save to file or section</li>
</ul>
<p>The first stage involves creating <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects from another source of information like compiler debug info metadata, DWARF or Breakpad files. <a class="el" href="classllvm_1_1Any.html">Any</a> strings in the <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> or contained information, like <a class="el" href="structllvm_1_1gsym_1_1InlineInfo.html" title="Inline information stores the name of the inline function along with an array of address ranges...">InlineInfo</a> or <a class="el" href="classllvm_1_1gsym_1_1LineTable.html" title="LineTable class contains deserialized versions of line tables for each function&#39;s address ranges...">LineTable</a> objects, should get the string table offsets by calling <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a4c2c92305634f8a40baafc3b76848b7f" title="Insert a string into the GSYM string table. ">GsymCreator::insertString</a>(...). <a class="el" href="classllvm_1_1Any.html">Any</a> file indexes that are needed should be obtained by calling <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#ac9372d27c9fb107c96a7b241848d05ed" title="Insert a file into this GSYM creator. ">GsymCreator::insertFile</a>(...). All of the function calls in <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html" title="GsymCreator is used to emit GSYM data to a stand alone file or section within a file. ">GsymCreator</a> are thread safe. This allows multiple threads to create and add <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects while parsing debug information.</p>
<p>Once all of the <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects have been added, the <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a42cfb7c8af9079bd0775cb9493c91450" title="Finalize the data in the GSYM creator prior to saving the data out. ">GsymCreator::finalize</a>(...) must be called prior to saving. This function will sort the <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects, finalize the string table, and do any other passes on the information needed to prepare the information to be saved.</p>
<p>Once the object has been finalized, it can be saved to a file or section.</p>
<p>ENCODING</p>
<p>GSYM files are designed to be memory mapped into a process as shared, read only data, and used as is.</p>
<p>The GSYM file format when in a stand alone file consists of:</p><ul>
<li><a class="el" href="structllvm_1_1gsym_1_1Header.html" title="The GSYM header. ">Header</a></li>
<li>Address Table</li>
<li><a class="el" href="classllvm_1_1Function.html">Function</a> Info Offsets</li>
<li>File Table</li>
<li>String Table</li>
<li><a class="el" href="classllvm_1_1Function.html">Function</a> Info Data</li>
</ul>
<p>HEADER</p>
<p>The header is fully described in "llvm/DebugInfo/GSYM/Header.h".</p>
<p>ADDRESS TABLE</p>
<p>The address table immediately follows the header in the file and consists of <a class="el" href="structllvm_1_1gsym_1_1Header.html#ae56c0257076bd0b9c1a4f42671eb03f0" title="The number of addresses stored in the address offsets table. ">Header.NumAddresses</a> address offsets. These offsets are sorted and can be binary searched for efficient lookups. Addresses in the address table are stored as offsets from a 64 bit base address found in <a class="el" href="structllvm_1_1gsym_1_1Header.html#af3a0fa4fd0587b1bcb2e1979bbe3c747" title="The 64 bit base address that all address offsets in the address offsets table are relative to...">Header.BaseAddress</a>. This allows the address table to contain 8, 16, or 32 offsets. This allows the address table to not require full 64 bit addresses for each address. The resulting GSYM size is smaller and causes fewer pages to be touched during address lookups when the address table is smaller. The size of the address offsets in the address table is specified in the header in <a class="el" href="structllvm_1_1gsym_1_1Header.html#a34f83b8e1b9a91f2e306a9d0df969a5b" title="The size in bytes of each address offset in the address offsets table. ">Header.AddrOffSize</a>. The first offset in the address table is aligned to <a class="el" href="structllvm_1_1gsym_1_1Header.html#a34f83b8e1b9a91f2e306a9d0df969a5b" title="The size in bytes of each address offset in the address offsets table. ">Header.AddrOffSize</a> alignment to ensure efficient access when loaded into memory.</p>
<p>FUNCTION INFO OFFSETS TABLE</p>
<p>The function info offsets table immediately follows the address table and consists of <a class="el" href="structllvm_1_1gsym_1_1Header.html#ae56c0257076bd0b9c1a4f42671eb03f0" title="The number of addresses stored in the address offsets table. ">Header.NumAddresses</a> 32 bit file offsets: one for each address in the address table. This data is aligned to a 4 byte boundary. The offsets in this table are the relative offsets from the start offset of the GSYM header and point to the function info data for each address in the address table. Keeping this data separate from the address table helps to reduce the number of pages that are touched when address lookups occur on a GSYM file.</p>
<p>FILE TABLE</p>
<p>The file table immediately follows the function info offsets table. The encoding of the FileTable is:</p>
<p>struct FileTable { uint32_t Count; <a class="el" href="structllvm_1_1gsym_1_1FileEntry.html" title="Files in GSYM are contained in FileEntry structs where we split the directory and basename into two d...">FileEntry</a> Files[]; };</p>
<p>The file table starts with a 32 bit count of the number of files that are used in all of the function info, followed by that number of <a class="el" href="structllvm_1_1gsym_1_1FileEntry.html" title="Files in GSYM are contained in FileEntry structs where we split the directory and basename into two d...">FileEntry</a> structures. The file table is aligned to a 4 byte boundary, Each file in the file table is represented with a <a class="el" href="structllvm_1_1gsym_1_1FileEntry.html" title="Files in GSYM are contained in FileEntry structs where we split the directory and basename into two d...">FileEntry</a> structure. See "llvm/DebugInfo/GSYM/FileEntry.h" for details.</p>
<p>STRING TABLE</p>
<p>The string table follows the file table in stand alone GSYM files and contains all strings for everything contained in the GSYM file. <a class="el" href="classllvm_1_1Any.html">Any</a> string data should be added to the string table and any references to strings inside GSYM information must be stored as 32 bit string table offsets into this string table. The string table always starts with an empty string at offset zero and is followed by any strings needed by the GSYM information. The start of the string table is not aligned to any boundary.</p>
<p>FUNCTION INFO DATA</p>
<p>The function info data is the payload that contains information about the address that is being looked up. It contains all of the encoded <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects. Each encoded <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a>'s data is pointed to by an entry in the <a class="el" href="classllvm_1_1Function.html">Function</a> Info Offsets Table. For details on the exact encoding of <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects, see "llvm/DebugInfo/GSYM/FunctionInfo.h". </p>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8h_source.html#l00133">133</a> of file <a class="el" href="GsymCreator_8h_source.html">GsymCreator.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a59dcd3832771ffb8cd1b2cd26551f79b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59dcd3832771ffb8cd1b2cd26551f79b">&#9670;&nbsp;</a></span>GsymCreator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GsymCreator::GsymCreator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00024">24</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">References <a class="el" href="GsymCreator_8cpp_source.html#l00028">insertFile()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0255c904a2083824db32c67a98520742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0255c904a2083824db32c67a98520742">&#9670;&nbsp;</a></span>addFunctionInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GsymCreator::addFunctionInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html">FunctionInfo</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>FI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a function info to this GSYM creator. </p>
<p>All information in the <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> object must use the <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a4c2c92305634f8a40baafc3b76848b7f" title="Insert a string into the GSYM string table. ">GsymCreator::insertString</a>(...) function when creating string table offsets for names and other strings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FI</td><td>The function info object to emplace into our functions list. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00254">254</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

</div>
</div>
<a id="a9ede3510dd3c4a79112fd4ff9048e04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ede3510dd3c4a79112fd4ff9048e04b">&#9670;&nbsp;</a></span>encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Error.html">llvm::Error</a> GsymCreator::encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1gsym_1_1FileWriter.html">FileWriter</a> &amp;&#160;</td>
          <td class="paramname"><em>O</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encode a GSYM into the file writer stream at the current position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">O</td><td>The stream to save the binary data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error object that indicates success or failure of the save. </dd></dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00053">53</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">References <a class="el" href="Header_8h_source.html#l00056">llvm::gsym::Header::AddrOffSize</a>, <a class="el" href="Header_8h_source.html#l00062">llvm::gsym::Header::BaseAddress</a>, <a class="el" href="Support_2Error_8h_source.html#l01197">llvm::createStringError()</a>, <a class="el" href="Header_8h_source.html#l00024">llvm::gsym::GSYM_MAGIC</a>, <a class="el" href="Header_8h_source.html#l00026">llvm::gsym::GSYM_VERSION</a>, <a class="el" href="Header_8h_source.html#l00049">llvm::gsym::Header::Magic</a>, <a class="el" href="Header_8h_source.html#l00064">llvm::gsym::Header::NumAddresses</a>, <a class="el" href="Header_8h_source.html#l00072">llvm::gsym::Header::StrtabOffset</a>, <a class="el" href="Header_8h_source.html#l00086">llvm::gsym::Header::UUID</a>, <a class="el" href="Header_8h_source.html#l00058">llvm::gsym::Header::UUIDSize</a>, and <a class="el" href="Header_8h_source.html#l00054">llvm::gsym::Header::Version</a>.</p>

<p class="reference">Referenced by <a class="el" href="GsymCreator_8cpp_source.html#l00043">save()</a>.</p>

</div>
</div>
<a id="a42cfb7c8af9079bd0775cb9493c91450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42cfb7c8af9079bd0775cb9493c91450">&#9670;&nbsp;</a></span>finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Error.html">llvm::Error</a> GsymCreator::finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>OS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalize the data in the GSYM creator prior to saving the data out. </p>
<p>Finalize must be called after all <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a> objects have been added and before <a class="el" href="classllvm_1_1gsym_1_1GsymCreator.html#a0da100903e980ccc2c9a0302e42bc6f0" title="Save a GSYM file to a stand alone file. ">GsymCreator::save()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">OS</td><td>Output stream to report duplicate function infos, overlapping function infos, and function infos that were merged or removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error object that indicates success or failure of the finalize. </dd></dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00157">157</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">References <a class="el" href="Support_2Error_8h_source.html#l01197">llvm::createStringError()</a>, <a class="el" href="StringTableBuilder_8cpp_source.html#l00127">llvm::StringTableBuilder::finalizeInOrder()</a>, <a class="el" href="STLExtras_8h_source.html#l01114">llvm::sort()</a>, and <a class="el" href="Support_2Error_8h_source.html#l00326">llvm::Error::success()</a>.</p>

</div>
</div>
<a id="af56844c4beded9856bac60a414e9e998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af56844c4beded9856bac60a414e9e998">&#9670;&nbsp;</a></span>forEachFunctionInfo() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GsymCreator::forEachFunctionInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RegionPrinter_8cpp.html#aa37fbbce2360106772fd97ed06455d55">std::function</a>&lt; <a class="el" href="classbool.html">bool</a>(<a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html">FunctionInfo</a> &amp;)&gt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> &amp;&#160;</td>
          <td class="paramname"><em>Callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread safe iteration over all function infos. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Callback</td><td>A callback function that will get called with each <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a>. If the callback returns false, stop iterating. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00259">259</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="GsymCreator_8h_source.html#l00206">setUUID()</a>.</p>

</div>
</div>
<a id="a5e4030597c6be78b2eb79b02a4d827e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e4030597c6be78b2eb79b02a4d827e1">&#9670;&nbsp;</a></span>forEachFunctionInfo() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GsymCreator::forEachFunctionInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RegionPrinter_8cpp.html#aa37fbbce2360106772fd97ed06455d55">std::function</a>&lt; <a class="el" href="classbool.html">bool</a>(<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html">FunctionInfo</a> &amp;)&gt; <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> &amp;&#160;</td>
          <td class="paramname"><em>Callback</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread safe const iteration over all function infos. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Callback</td><td>A callback function that will get called with each <a class="el" href="structllvm_1_1gsym_1_1FunctionInfo.html" title="Function information in GSYM files encodes information for one contiguous address range...">FunctionInfo</a>. If the callback returns false, stop iterating. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00268">268</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

</div>
</div>
<a id="ac9372d27c9fb107c96a7b241848d05ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9372d27c9fb107c96a7b241848d05ed">&#9670;&nbsp;</a></span>insertFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuint32__t.html">uint32_t</a> GsymCreator::insertFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>Path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm_1_1sys_1_1path.html#a58cfd8a47c0ef96db27b451c2d6ec49f">sys::path::Style</a>&#160;</td>
          <td class="paramname"><em>Style</em> = <code><a class="el" href="namespacellvm_1_1sys_1_1path.html#a58cfd8a47c0ef96db27b451c2d6ec49fa8e5f3adee38c8fccc13c1f3be0143796">sys::path::Style::native</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a file into this GSYM creator. </p>
<p>Inserts a file by adding a <a class="el" href="structllvm_1_1gsym_1_1FileEntry.html" title="Files in GSYM are contained in FileEntry structs where we split the directory and basename into two d...">FileEntry</a> into the "Files" member variable if the file has not already been added. The file path is split into directory and filename which are both added to the string table. This allows paths to be stored efficiently by reusing the directories that are common between multiple files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Path</td><td>The path to the file to insert. </td></tr>
    <tr><td class="paramname">Style</td><td>The path style for the "Path" parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The unique file index for the inserted file. </dd></dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00028">28</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">References <a class="el" href="Path_8cpp_source.html#l00588">llvm::sys::path::filename()</a>, <a class="el" href="DenseMap_8h_source.html#l00195">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::insert()</a>, <a class="el" href="GsymCreator_8cpp_source.html#l00247">insertString()</a>, and <a class="el" href="Path_8cpp_source.html#l00466">llvm::sys::path::parent_path()</a>.</p>

<p class="reference">Referenced by <a class="el" href="GsymCreator_8cpp_source.html#l00024">GsymCreator()</a>.</p>

</div>
</div>
<a id="a4c2c92305634f8a40baafc3b76848b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c2c92305634f8a40baafc3b76848b7f">&#9670;&nbsp;</a></span>insertString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classuint32__t.html">uint32_t</a> GsymCreator::insertString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>S</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a string into the GSYM string table. </p>
<p>All strings used by GSYM files must be uniqued by adding them to this string pool and using the returned offset for any string values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">S</td><td>The string to insert into the string table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The unique 32 bit offset into the string table. </dd></dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00247">247</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">References <a class="el" href="StringTableBuilder_8cpp_source.html#l00187">llvm::StringTableBuilder::add()</a>, and <a class="el" href="StringRef_8h_source.html#l00147">llvm::StringRef::empty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="GsymCreator_8cpp_source.html#l00028">insertFile()</a>.</p>

</div>
</div>
<a id="a0da100903e980ccc2c9a0302e42bc6f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0da100903e980ccc2c9a0302e42bc6f0">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1Error.html">llvm::Error</a> GsymCreator::save </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>Path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacellvm_1_1support.html#ae0a227ae1b2ada1da82b40479251862c">llvm::support::endianness</a>&#160;</td>
          <td class="paramname"><em>ByteOrder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save a GSYM file to a stand alone file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Path</td><td>The file path to save the GSYM file to. </td></tr>
    <tr><td class="paramname">ByteOrder</td><td>The endianness to use when saving the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error object that indicates success or failure of the save. </dd></dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8cpp_source.html#l00043">43</a> of file <a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a>.</p>

<p class="reference">References <a class="el" href="GsymCreator_8cpp_source.html#l00053">encode()</a>, <a class="el" href="Testing_2Support_2Error_8cpp_source.html#l00087">llvm::errorCodeToError()</a>, and <a class="el" href="RISCVBaseInfo_8h_source.html#l00093">llvm::RISCVFenceField::O</a>.</p>

</div>
</div>
<a id="ab85ea74b3cb2aeabcf765b1892ff9d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85ea74b3cb2aeabcf765b1892ff9d91">&#9670;&nbsp;</a></span>setUUID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::gsym::GsymCreator::setUUID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a>&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>UUIDBytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the UUID value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UUIDBytes</td><td>The new UUID bytes. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="GsymCreator_8h_source.html#l00206">206</a> of file <a class="el" href="GsymCreator_8h_source.html">GsymCreator.h</a>.</p>

<p class="reference">References <a class="el" href="ArrayRef_8h_source.html#l00146">llvm::ArrayRef&lt; T &gt;::begin()</a>, <a class="el" href="ArrayRef_8h_source.html#l00147">llvm::ArrayRef&lt; T &gt;::end()</a>, <a class="el" href="GsymCreator_8cpp_source.html#l00259">forEachFunctionInfo()</a>, and <a class="el" href="MemDepPrinter_8cpp_source.html#l00082">function</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/llvm/DebugInfo/GSYM/<a class="el" href="GsymCreator_8h_source.html">GsymCreator.h</a></li>
<li>lib/DebugInfo/GSYM/<a class="el" href="GsymCreator_8cpp_source.html">GsymCreator.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 24 2020 13:23:49 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
