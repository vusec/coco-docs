<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/X86/X86CmovConversion.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">10.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_558b7c0c66e2ff4834e628dd4b3edd32.html">X86</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">X86CmovConversion.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implements a pass that converts X86 cmov instructions into branches when profitable.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="X86_8h_source.html">X86.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="X86InstrInfo_8h_source.html">X86InstrInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ArrayRef_8h_source.html">llvm/ADT/ArrayRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="STLExtras_8h_source.html">llvm/ADT/STLExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallPtrSet_8h_source.html">llvm/ADT/SmallPtrSet.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Statistic_8h_source.html">llvm/ADT/Statistic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineBasicBlock_8h_source.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineFunction_8h_source.html">llvm/CodeGen/MachineFunction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineFunctionPass_8h_source.html">llvm/CodeGen/MachineFunctionPass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineInstr_8h_source.html">llvm/CodeGen/MachineInstr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineInstrBuilder_8h_source.html">llvm/CodeGen/MachineInstrBuilder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineLoopInfo_8h_source.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineOperand_8h_source.html">llvm/CodeGen/MachineOperand.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MachineRegisterInfo_8h_source.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetInstrInfo_8h_source.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetRegisterInfo_8h_source.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetSchedule_8h_source.html">llvm/CodeGen/TargetSchedule.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TargetSubtargetInfo_8h_source.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DebugLoc_8h_source.html">llvm/IR/DebugLoc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InitializePasses_8h_source.html">llvm/InitializePasses.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MCSchedule_8h_source.html">llvm/MC/MCSchedule.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Pass_8h_source.html">llvm/Pass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="CommandLine_8h_source.html">llvm/Support/CommandLine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Debug_8h_source.html">llvm/Support/Debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="raw__ostream_8h_source.html">llvm/Support/raw_ostream.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for X86CmovConversion.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="X86CmovConversion_8cpp__incl.svg" width="4354" height="1096"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="X86CmovConversion_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;x86-cmov-conversion&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a22b9d69466e0bee6c1b1b7966657a8d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a22b9d69466e0bee6c1b1b7966657a8d7">STATISTIC</a> (NumOfSkippedCmovGroups, &quot;Number of unsupported CMOV-groups&quot;)</td></tr>
<tr class="separator:a22b9d69466e0bee6c1b1b7966657a8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141b4a1000e581726141cb1627c05759"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a141b4a1000e581726141cb1627c05759">STATISTIC</a> (NumOfCmovGroupCandidate, &quot;Number of CMOV-group candidates&quot;)</td></tr>
<tr class="separator:a141b4a1000e581726141cb1627c05759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34964d3c121bd04c2b2f67773a084439"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a34964d3c121bd04c2b2f67773a084439">STATISTIC</a> (NumOfLoopCandidate, &quot;Number of CMOV-conversion profitable <a class="el" href="LoopSimplify_8cpp.html#ac68567aa12ef395f71061eff8f6dd7df">loops</a>&quot;)</td></tr>
<tr class="separator:a34964d3c121bd04c2b2f67773a084439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387bb5ea74787a3690d2c50f6e35be22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a387bb5ea74787a3690d2c50f6e35be22">STATISTIC</a> (NumOfOptimizedCmovGroups, &quot;Number of optimized CMOV-groups&quot;)</td></tr>
<tr class="separator:a387bb5ea74787a3690d2c50f6e35be22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8285d891ffc907ef7ddfc009c534145"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classunsigned.html">unsigned</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#aa8285d891ffc907ef7ddfc009c534145">getDepthOfOptCmov</a> (<a class="el" href="classunsigned.html">unsigned</a> TrueOpDepth, <a class="el" href="classunsigned.html">unsigned</a> FalseOpDepth)</td></tr>
<tr class="separator:aa8285d891ffc907ef7ddfc009c534145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a6f842d324111ba3e11e8b0e547801"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a84a6f842d324111ba3e11e8b0e547801">checkEFLAGSLive</a> (<a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="el" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</td></tr>
<tr class="separator:a84a6f842d324111ba3e11e8b0e547801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba46d9b0861c1e010f4bb946e5806415"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#aba46d9b0861c1e010f4bb946e5806415">packCmovGroup</a> (<a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *First, <a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *Last)</td></tr>
<tr class="memdesc:aba46d9b0861c1e010f4bb946e5806415"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given /p First CMOV instruction and /p Last CMOV instruction representing a group of CMOV instructions, which may contain debug instructions in between, move all debug instructions to after the last CMOV instruction, making the CMOV group consecutive.  <a href="#aba46d9b0861c1e010f4bb946e5806415">More...</a><br /></td></tr>
<tr class="separator:aba46d9b0861c1e010f4bb946e5806415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862457c987dbf7432ed0610ab137992c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a862457c987dbf7432ed0610ab137992c">INITIALIZE_PASS_BEGIN</a> (X86CmovConverterPass, <a class="el" href="LoadStoreVectorizer_8cpp.html#a030569d5a541b6110f2ae1b6a3413a58">DEBUG_TYPE</a>, &quot;X86 cmov <a class="el" href="X86CmovConversion_8cpp.html#a00d06900201ea1c20952f038e1c40035">Conversion</a>&quot;, false, <a class="el" href="LoadStoreVectorizer_8cpp.html#a1321ae04c732793cd2d0ee2db36636ca">false</a>) <a class="el" href="RegBankSelect_8cpp.html#a0eee13989797c0d4612066f84ff7a7b8">INITIALIZE_PASS_END</a>(X86CmovConverterPass</td></tr>
<tr class="separator:a862457c987dbf7432ed0610ab137992c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa0bfb323341bd5b23ffe432d9035a09b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#aa0bfb323341bd5b23ffe432d9035a09b">EnableCmovConverter</a> (&quot;x86-cmov-converter&quot;, cl::desc(&quot;Enable the X86 cmov-to-branch optimization.&quot;), cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden)</td></tr>
<tr class="separator:aa0bfb323341bd5b23ffe432d9035a09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8be40266a491cb676d847808d542b0ba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classunsigned.html">unsigned</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a8be40266a491cb676d847808d542b0ba">GainCycleThreshold</a> (&quot;x86-cmov-converter-threshold&quot;, cl::desc(&quot;Minimum gain per loop (in cycles) threshold.&quot;), cl::init(4), cl::Hidden)</td></tr>
<tr class="separator:a8be40266a491cb676d847808d542b0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8afe4edb15898763cdbd97e98140e03"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#ae8afe4edb15898763cdbd97e98140e03">ForceMemOperand</a> (&quot;x86-cmov-converter-force-mem-operand&quot;, cl::desc(&quot;Convert cmovs to <a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a> whenever they have memory operands.&quot;), cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden)</td></tr>
<tr class="separator:ae8afe4edb15898763cdbd97e98140e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030569d5a541b6110f2ae1b6a3413a58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a030569d5a541b6110f2ae1b6a3413a58">DEBUG_TYPE</a></td></tr>
<tr class="separator:a030569d5a541b6110f2ae1b6a3413a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d06900201ea1c20952f038e1c40035"><td class="memItemLeft" align="right" valign="top">X86 cmov&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a00d06900201ea1c20952f038e1c40035">Conversion</a></td></tr>
<tr class="separator:a00d06900201ea1c20952f038e1c40035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4deb29cad62e34eabacf36eeabf800c1"><td class="memItemLeft" align="right" valign="top">X86 cmov&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="X86CmovConversion_8cpp.html#a4deb29cad62e34eabacf36eeabf800c1">false</a></td></tr>
<tr class="separator:a4deb29cad62e34eabacf36eeabf800c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements a pass that converts X86 cmov instructions into branches when profitable. </p>
<p>This pass is conservative. It transforms if and only if it can guarantee a gain with high confidence.</p>
<p>Thus, the optimization applies under the following conditions:</p><ol type="1">
<li>Consider as candidates only CMOVs in innermost loops (assume that most hotspots are represented by these loops).</li>
<li>Given a group of CMOV instructions that are using the same EFLAGS def instruction: a. Consider them as candidates only if all have the same code condition or the opposite one to prevent generating more than one conditional jump per EFLAGS def instruction. b. Consider them as candidates only if all are profitable to be converted (assume that one bad conversion may cause a degradation).</li>
<li>Apply conversion only for loops that are found profitable and only for CMOV candidates that were found profitable. a. A loop is considered profitable only if conversion will reduce its depth cost by some threshold. b. CMOV is considered profitable if the cost of its condition is higher than the average cost of its true-value and false-value by 25% of branch-misprediction-penalty. This assures no degradation even with 25% branch misprediction.</li>
</ol>
<p>Note: This pass is assumed to run on SSA machine code. </p>

<p class="definition">Definition in file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;x86-cmov-conversion&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00077">77</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="X86CmovConversion_8cpp_source.html#l00596">packCmovGroup()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a84a6f842d324111ba3e11e8b0e547801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a6f842d324111ba3e11e8b0e547801">&#9670;&nbsp;</a></span>checkEFLAGSLive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> checkEFLAGSLive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *&#160;</td>
          <td class="paramname"><em>MI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00566">566</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00218">llvm::MachineBasicBlock::end()</a>, <a class="el" href="MachineInstr_8h_source.html#l00271">llvm::MachineInstr::getParent()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="MachineInstr_8h_source.html#l01209">llvm::MachineInstr::killsRegister()</a>, <a class="el" href="IRTranslator_8cpp_source.html#l00093">MI</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00280">llvm::MachineBasicBlock::succ_begin()</a>, and <a class="el" href="MachineBasicBlock_8h_source.html#l00282">llvm::MachineBasicBlock::succ_end()</a>.</p>

<p class="reference">Referenced by <a class="el" href="X86CmovConversion_8cpp_source.html#l00596">packCmovGroup()</a>.</p>

</div>
</div>
<a id="aa8285d891ffc907ef7ddfc009c534145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8285d891ffc907ef7ddfc009c534145">&#9670;&nbsp;</a></span>getDepthOfOptCmov()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classunsigned.html">unsigned</a> getDepthOfOptCmov </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>TrueOpDepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>FalseOpDepth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Depth of CMOV instruction as if it was converted into branch. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TrueOpDepth</td><td>depth cost of CMOV true value operand. </td></tr>
    <tr><td class="paramname">FalseOpDepth</td><td>depth cost of CMOV false value operand. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00366">366</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="DenseMap_8h_source.html#l00110">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT, BucketT &gt;, KeyT, ValueT, KeyInfoT, BucketT &gt;::clear()</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00381">llvm::SmallPtrSetImpl&lt; PtrType &gt;::count()</a>, <a class="el" href="AArch64ExpandPseudoInsts_8cpp_source.html#l00093">DefMI</a>, <a class="el" href="SIMachineScheduler_8h_source.html#l00036">llvm::Depth</a>, <a class="el" href="MathExtras_8h_source.html#l00731">llvm::divideCeil()</a>, <a class="el" href="X86CmovConversion_8cpp.html#a8be40266a491cb676d847808d542b0ba">GainCycleThreshold</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="CSEInfo_8cpp_source.html#l00025">Info</a>, <a class="el" href="SmallPtrSet_8h_source.html#l00370">llvm::SmallPtrSetImpl&lt; PtrType &gt;::insert()</a>, <a class="el" href="Register_8h_source.html#l00069">llvm::Register::isVirtualRegister()</a>, <a class="el" href="SIMachineScheduler_8h_source.html#l00034">llvm::Latency</a>, <a class="el" href="DenseMap_8h_source.html#l00185">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT, BucketT &gt;, KeyT, ValueT, KeyInfoT, BucketT &gt;::lookup()</a>, <a class="el" href="Alignment_8h_source.html#l00390">llvm::max()</a>, <a class="el" href="ValueTracking_8cpp_source.html#l00080">MaxDepth</a>, <a class="el" href="IRTranslator_8cpp_source.html#l00093">MI</a>, <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">MRI</a>, <a class="el" href="MachineSink_8cpp_source.html#l01139">Reg</a>, and <a class="el" href="BitVector_8h_source.html#l00940">std::swap()</a>.</p>

</div>
</div>
<a id="a862457c987dbf7432ed0610ab137992c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a862457c987dbf7432ed0610ab137992c">&#9670;&nbsp;</a></span>INITIALIZE_PASS_BEGIN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">INITIALIZE_PASS_BEGIN </td>
          <td>(</td>
          <td class="paramtype">X86CmovConverterPass&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="LoadStoreVectorizer_8cpp.html#a030569d5a541b6110f2ae1b6a3413a58">DEBUG_TYPE</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;X86 cmov <a class="el" href="X86CmovConversion_8cpp.html#a00d06900201ea1c20952f038e1c40035">Conversion</a>&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="LoadStoreVectorizer_8cpp.html#a1321ae04c732793cd2d0ee2db36636ca">false</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="LoadStoreVectorizer_8cpp.html#a1321ae04c732793cd2d0ee2db36636ca">false</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="X86CmovConversion_8cpp_source.html#l00596">packCmovGroup()</a>.</p>

</div>
</div>
<a id="aba46d9b0861c1e010f4bb946e5806415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba46d9b0861c1e010f4bb946e5806415">&#9670;&nbsp;</a></span>packCmovGroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void packCmovGroup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *&#160;</td>
          <td class="paramname"><em>First</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *&#160;</td>
          <td class="paramname"><em>Last</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given /p First CMOV instruction and /p Last CMOV instruction representing a group of CMOV instructions, which may contain debug instructions in between, move all debug instructions to after the last CMOV instruction, making the CMOV group consecutive. </p>

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00596">596</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

<p class="reference">References <a class="el" href="MachineInstrBuilder_8h_source.html#l00122">llvm::MachineInstrBuilder::addImm()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00315">llvm::MachineBasicBlock::addLiveIn()</a>, <a class="el" href="MachineInstrBuilder_8h_source.html#l00137">llvm::MachineInstrBuilder::addMBB()</a>, <a class="el" href="MachineInstrBuilder_8h_source.html#l00088">llvm::MachineInstrBuilder::addReg()</a>, <a class="el" href="MachineBasicBlock_8cpp_source.html#l00655">llvm::MachineBasicBlock::addSuccessor()</a>, <a class="el" href="STLExtras_8h_source.html#l01189">llvm::any_of()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallVector_8h_source.html#l00166">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::back()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00216">llvm::MachineBasicBlock::begin()</a>, <a class="el" href="MachineInstrBuilder_8h_source.html#l00316">llvm::BuildMI()</a>, <a class="el" href="X86CmovConversion_8cpp_source.html#l00566">checkEFLAGSLive()</a>, <a class="el" href="X86BaseInfo_8h_source.html#l00102">llvm::X86::COND_INVALID</a>, <a class="el" href="MachineFunction_8cpp_source.html#l00402">llvm::MachineFunction::CreateMachineBasicBlock()</a>, <a class="el" href="Debug_8cpp_source.html#l00132">llvm::dbgs()</a>, <a class="el" href="X86CmovConversion_8cpp_source.html#l00077">DEBUG_TYPE</a>, <a class="el" href="MachineInstr_8cpp_source.html#l01448">llvm::MachineInstr::dump()</a>, <a class="el" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="el" href="SmallVector_8h_source.html#l00055">llvm::SmallVectorBase::empty()</a>, <a class="el" href="DenseMap_8h_source.html#l00082">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="DenseMap_8h_source.html#l00082">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT, BucketT &gt;, KeyT, ValueT, KeyInfoT, BucketT &gt;::end()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00218">llvm::MachineBasicBlock::end()</a>, <a class="el" href="MachineBasicBlock_8cpp_source.html#l01155">llvm::MachineBasicBlock::erase()</a>, <a class="el" href="LLParser_8cpp.html#a33ece1ef8074506a15d7f86eb76dbae6">F()</a>, <a class="el" href="DenseMap_8h_source.html#l00150">llvm::DenseMapBase&lt; DerivedT, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="DenseMap_8h_source.html#l00150">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, KeyInfoT, BucketT &gt;, KeyT, ValueT, KeyInfoT, BucketT &gt;::find()</a>, <a class="el" href="SmallVector_8h_source.html#l00157">llvm::SmallVectorTemplateCommon&lt; T, typename &gt;::front()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00150">llvm::MachineBasicBlock::getBasicBlock()</a>, <a class="el" href="X86InstrInfo_8cpp_source.html#l02205">llvm::X86::getCondFromCMov()</a>, <a class="el" href="ilist__node_8h_source.html#l00081">llvm::ilist_node_impl&lt; OptionsT &gt;::getIterator()</a>, <a class="el" href="X86InstrInfo_8cpp_source.html#l02217">llvm::X86::GetOppositeBranchCondition()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00173">llvm::MachineBasicBlock::getParent()</a>, <a class="el" href="MachineInstr_8h_source.html#l00271">llvm::MachineInstr::getParent()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="X86CmovConversion_8cpp.html#a862457c987dbf7432ed0610ab137992c">INITIALIZE_PASS_BEGIN()</a>, <a class="el" href="PassSupport_8h_source.html#l00050">INITIALIZE_PASS_DEPENDENCY</a>, <a class="el" href="MachineBasicBlock_8cpp_source.html#l01168">llvm::MachineBasicBlock::insert()</a>, <a class="el" href="MachineFunction_8h_source.html#l00670">llvm::MachineFunction::insert()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00629">llvm::MachineBasicBlock::insertAfter()</a>, <a class="el" href="Debug_8h_source.html#l00122">LLVM_DEBUG</a>, <a class="el" href="MachineInstr_8h_source.html#l00856">llvm::MachineInstr::mayLoad()</a>, <a class="el" href="IRTranslator_8cpp_source.html#l00093">MI</a>, <a class="el" href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">MRI</a>, <a class="el" href="SmallVector_8h_source.html#l00374">llvm::SmallVectorImpl&lt; T &gt;::pop_back_val()</a>, <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T &gt;::push_back()</a>, <a class="el" href="MachineBasicBlock_8h_source.html#l00708">llvm::MachineBasicBlock::splice()</a>, <a class="el" href="BitVector_8h_source.html#l00940">std::swap()</a>, <a class="el" href="HexagonCopyToCombine_8cpp_source.html#l00127">TII</a>, and <a class="el" href="MachineBasicBlock_8cpp_source.html#l00794">llvm::MachineBasicBlock::transferSuccessorsAndUpdatePHIs()</a>.</p>

</div>
</div>
<a id="a22b9d69466e0bee6c1b1b7966657a8d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b9d69466e0bee6c1b1b7966657a8d7">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumOfSkippedCmovGroups&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of unsupported CMOV-groups&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a141b4a1000e581726141cb1627c05759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141b4a1000e581726141cb1627c05759">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumOfCmovGroupCandidate&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of CMOV-group candidates&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a34964d3c121bd04c2b2f67773a084439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34964d3c121bd04c2b2f67773a084439">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumOfLoopCandidate&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of CMOV-conversion profitable <a class="el" href="LoopSimplify_8cpp.html#ac68567aa12ef395f71061eff8f6dd7df">loops</a>&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a387bb5ea74787a3690d2c50f6e35be22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387bb5ea74787a3690d2c50f6e35be22">&#9670;&nbsp;</a></span>STATISTIC() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATISTIC </td>
          <td>(</td>
          <td class="paramtype">NumOfOptimizedCmovGroups&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Number of optimized CMOV-groups&quot;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a00d06900201ea1c20952f038e1c40035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00d06900201ea1c20952f038e1c40035">&#9670;&nbsp;</a></span>Conversion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">X86 cmov Conversion</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00856">856</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

</div>
</div>
<a id="a030569d5a541b6110f2ae1b6a3413a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a030569d5a541b6110f2ae1b6a3413a58">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEBUG_TYPE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00856">856</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

</div>
</div>
<a id="aa0bfb323341bd5b23ffe432d9035a09b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0bfb323341bd5b23ffe432d9035a09b">&#9670;&nbsp;</a></span>EnableCmovConverter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="classbool.html">bool</a>&gt; EnableCmovConverter(&quot;x86-cmov-converter&quot;, cl::desc(&quot;Enable the X86 cmov-to-branch optimization.&quot;), cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4deb29cad62e34eabacf36eeabf800c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4deb29cad62e34eabacf36eeabf800c1">&#9670;&nbsp;</a></span>false</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">X86 cmov false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="X86CmovConversion_8cpp_source.html#l00856">856</a> of file <a class="el" href="X86CmovConversion_8cpp_source.html">X86CmovConversion.cpp</a>.</p>

</div>
</div>
<a id="ae8afe4edb15898763cdbd97e98140e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8afe4edb15898763cdbd97e98140e03">&#9670;&nbsp;</a></span>ForceMemOperand</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="classbool.html">bool</a>&gt; ForceMemOperand(&quot;x86-cmov-converter-force-mem-operand&quot;, cl::desc(&quot;Convert cmovs to <a class="el" href="LowerSwitch_8cpp.html#ae89fa9ac8d6b6438790275688d562853">branches</a> whenever they have memory operands.&quot;), cl::init(<a class="el" href="WebAssemblyExceptionInfo_8cpp.html#ade2a0fe2d2d0735c83fdc3ad5be1e1f2">true</a>), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8be40266a491cb676d847808d542b0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8be40266a491cb676d847808d542b0ba">&#9670;&nbsp;</a></span>GainCycleThreshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1cl_1_1opt.html">cl::opt</a>&lt;<a class="el" href="classunsigned.html">unsigned</a>&gt; GainCycleThreshold(&quot;x86-cmov-converter-threshold&quot;, cl::desc(&quot;Minimum gain per loop (in cycles) threshold.&quot;), cl::init(4), cl::Hidden)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="X86CmovConversion_8cpp_source.html#l00366">getDepthOfOptCmov()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 24 2020 13:16:02 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
