<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::SectionMemoryManager::MemoryMapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">10.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="classllvm_1_1SectionMemoryManager.html">SectionMemoryManager</a></li><li class="navelem"><a class="el" href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper.html">MemoryMapper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llvm::SectionMemoryManager::MemoryMapper Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementations of this interface are used by <a class="el" href="classllvm_1_1SectionMemoryManager.html" title="This is a simple memory manager which implements the methods called by the RuntimeDyld class to alloc...">SectionMemoryManager</a> to request pages from the operating system.  
 <a href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="SectionMemoryManager_8h_source.html">llvm/ExecutionEngine/SectionMemoryManager.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adde0a4f446b881cf0417f861d025066f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper.html#adde0a4f446b881cf0417f861d025066f">allocateMappedMemory</a> (<a class="el" href="classllvm_1_1SectionMemoryManager.html#a0cdbe52ddf56f7c9188174848e9423a4">AllocationPurpose</a> Purpose, <a class="el" href="classsize__t.html">size_t</a> NumBytes, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> *<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> NearBlock, <a class="el" href="classunsigned.html">unsigned</a> Flags, std::error_code &amp;EC)=0</td></tr>
<tr class="memdesc:adde0a4f446b881cf0417f861d025066f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method attempts to allocate <code>NumBytes</code> bytes of virtual memory for <code>Purpose</code>.  <a href="#adde0a4f446b881cf0417f861d025066f">More...</a><br /></td></tr>
<tr class="separator:adde0a4f446b881cf0417f861d025066f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7f6733e8af2f2911c2ff4832b5d693"><td class="memItemLeft" align="right" valign="top">virtual std::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper.html#a1f7f6733e8af2f2911c2ff4832b5d693">protectMappedMemory</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> &amp;Block, <a class="el" href="classunsigned.html">unsigned</a> Flags)=0</td></tr>
<tr class="memdesc:a1f7f6733e8af2f2911c2ff4832b5d693"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method sets the protection flags for a block of memory to the state specified by <code>Flags</code>.  <a href="#a1f7f6733e8af2f2911c2ff4832b5d693">More...</a><br /></td></tr>
<tr class="separator:a1f7f6733e8af2f2911c2ff4832b5d693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2a1c0635ac55f4ca9fc83bb46463ac"><td class="memItemLeft" align="right" valign="top">virtual std::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper.html#aae2a1c0635ac55f4ca9fc83bb46463ac">releaseMappedMemory</a> (<a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> &amp;M)=0</td></tr>
<tr class="memdesc:aae2a1c0635ac55f4ca9fc83bb46463ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method releases a block of memory that was allocated with the allocateMappedMemory method.  <a href="#aae2a1c0635ac55f4ca9fc83bb46463ac">More...</a><br /></td></tr>
<tr class="separator:aae2a1c0635ac55f4ca9fc83bb46463ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d89f052a2a35640380e0f5e13c770c8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1SectionMemoryManager_1_1MemoryMapper.html#a4d89f052a2a35640380e0f5e13c770c8">~MemoryMapper</a> ()</td></tr>
<tr class="separator:a4d89f052a2a35640380e0f5e13c770c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementations of this interface are used by <a class="el" href="classllvm_1_1SectionMemoryManager.html" title="This is a simple memory manager which implements the methods called by the RuntimeDyld class to alloc...">SectionMemoryManager</a> to request pages from the operating system. </p>

<p class="definition">Definition at line <a class="el" href="SectionMemoryManager_8h_source.html#l00052">52</a> of file <a class="el" href="SectionMemoryManager_8h_source.html">SectionMemoryManager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d89f052a2a35640380e0f5e13c770c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d89f052a2a35640380e0f5e13c770c8">&#9670;&nbsp;</a></span>~MemoryMapper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::SectionMemoryManager::MemoryMapper::~MemoryMapper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="SectionMemoryManager_8cpp_source.html#l00235">235</a> of file <a class="el" href="SectionMemoryManager_8cpp_source.html">SectionMemoryManager.cpp</a>.</p>

<p class="reference">References <a class="el" href="classllvm_1_1sys_1_1Memory.html#a1326dd13b23711e68ade413fbc57b9f6">llvm::sys::Memory::allocateMappedMemory()</a>, <a class="el" href="classllvm_1_1sys_1_1Memory.html#ae27409ddee7e191f33392283ca826703">llvm::sys::Memory::protectMappedMemory()</a>, and <a class="el" href="classllvm_1_1sys_1_1Memory.html#a042d24349a4b6a5ce475309cce529ae0">llvm::sys::Memory::releaseMappedMemory()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adde0a4f446b881cf0417f861d025066f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde0a4f446b881cf0417f861d025066f">&#9670;&nbsp;</a></span>allocateMappedMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> llvm::SectionMemoryManager::MemoryMapper::allocateMappedMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SectionMemoryManager.html#a0cdbe52ddf56f7c9188174848e9423a4">AllocationPurpose</a>&#160;</td>
          <td class="paramname"><em>Purpose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsize__t.html">size_t</a>&#160;</td>
          <td class="paramname"><em>NumBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> *<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a>&#160;</td>
          <td class="paramname"><em>NearBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>Flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::error_code &amp;&#160;</td>
          <td class="paramname"><em>EC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method attempts to allocate <code>NumBytes</code> bytes of virtual memory for <code>Purpose</code>. </p>
<p><code>NearBlock</code> may point to an existing allocation, in which case an attempt is made to allocate more memory near the existing block. The actual allocated address is not guaranteed to be near the requested address. <code>Flags</code> is used to set the initial protection flags for the block of the memory. <code>EC</code> [out] returns an object describing any error that occurs.</p>
<p>This method may allocate more than the number of bytes requested. The actual number of bytes allocated is indicated in the returned MemoryBlock.</p>
<p>The start of the allocated block must be aligned with the system allocation granularity (64K on Windows, page size on Linux). If the address following <code>NearBlock</code> is not so aligned, it will be rounded up to the next allocation granularity boundary.</p>
<p>a non-null MemoryBlock if the function was successful, otherwise a null MemoryBlock with <code>EC</code> describing the error. </p>

<p class="reference">Referenced by <a class="el" href="SectionMemoryManager_8cpp_source.html#l00033">llvm::SectionMemoryManager::allocateCodeSection()</a>.</p>

</div>
</div>
<a id="a1f7f6733e8af2f2911c2ff4832b5d693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7f6733e8af2f2911c2ff4832b5d693">&#9670;&nbsp;</a></span>protectMappedMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::error_code llvm::SectionMemoryManager::MemoryMapper::protectMappedMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>Block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method sets the protection flags for a block of memory to the state specified by <code>Flags</code>. </p>
<p>The behavior is not specified if the memory was not allocated using the allocateMappedMemory method. <code>Block</code> describes the memory block to be protected. <code>Flags</code> specifies the new protection state to be assigned to the block.</p>
<p>If <code>Flags</code> is MF_WRITE, the actual behavior varies with the operating system (i.e. MF_READ | MF_WRITE on Windows) and the target architecture (i.e. MF_WRITE -&gt; MF_READ | MF_WRITE on i386).</p>
<p>error_success if the function was successful, or an error_code describing the failure if an error occurred. </p>

<p class="reference">Referenced by <a class="el" href="SectionMemoryManager_8cpp_source.html#l00174">llvm::trimBlockToPageSize()</a>.</p>

</div>
</div>
<a id="aae2a1c0635ac55f4ca9fc83bb46463ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2a1c0635ac55f4ca9fc83bb46463ac">&#9670;&nbsp;</a></span>releaseMappedMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::error_code llvm::SectionMemoryManager::MemoryMapper::releaseMappedMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1sys_1_1MemoryBlock.html">sys::MemoryBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method releases a block of memory that was allocated with the allocateMappedMemory method. </p>
<p>It should not be used to release any memory block allocated any other way. <code>Block</code> describes the memory to be released.</p>
<p>error_success if the function was successful, or an error_code describing the failure if an error occurred. </p>

<p class="reference">Referenced by <a class="el" href="SectionMemoryManager_8cpp_source.html#l00228">llvm::SectionMemoryManager::~SectionMemoryManager()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/llvm/ExecutionEngine/<a class="el" href="SectionMemoryManager_8h_source.html">SectionMemoryManager.h</a></li>
<li>lib/ExecutionEngine/<a class="el" href="SectionMemoryManager_8cpp_source.html">SectionMemoryManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 24 2020 13:23:05 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
