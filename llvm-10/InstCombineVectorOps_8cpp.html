<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/InstCombine/InstCombineVectorOps.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">10.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_99567d9c0c7f3685f25b19ecc341a865.html">InstCombine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">InstCombineVectorOps.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="InstCombineInternal_8h_source.html">InstCombineInternal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="APInt_8h_source.html">llvm/ADT/APInt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ArrayRef_8h_source.html">llvm/ADT/ArrayRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DenseMap_8h_source.html">llvm/ADT/DenseMap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="STLExtras_8h_source.html">llvm/ADT/STLExtras.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="SmallVector_8h_source.html">llvm/ADT/SmallVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstructionSimplify_8h_source.html">llvm/Analysis/InstructionSimplify.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="VectorUtils_8h_source.html">llvm/Analysis/VectorUtils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BasicBlock_8h_source.html">llvm/IR/BasicBlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constant_8h_source.html">llvm/IR/Constant.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Constants_8h_source.html">llvm/IR/Constants.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="DerivedTypes_8h_source.html">llvm/IR/DerivedTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstrTypes_8h_source.html">llvm/IR/InstrTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Instruction_8h_source.html">llvm/IR/Instruction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Instructions_8h_source.html">llvm/IR/Instructions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Operator_8h_source.html">llvm/IR/Operator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PatternMatch_8h_source.html">llvm/IR/PatternMatch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Type_8h_source.html">llvm/IR/Type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="User_8h_source.html">llvm/IR/User.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Value_8h_source.html">llvm/IR/Value.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Casting_8h_source.html">llvm/Support/Casting.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Support_2ErrorHandling_8h_source.html">llvm/Support/ErrorHandling.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InstCombineWorklist_8h_source.html">llvm/Transforms/InstCombine/InstCombineWorklist.h</a>&quot;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for InstCombineVectorOps.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="InstCombineVectorOps_8cpp__incl.svg" width="6519" height="992"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="InstCombineVectorOps_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBinopElts.html">BinopElts</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">These are the ingredients in an alternate form binary operator as described below.  <a href="structBinopElts.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>&#160;&#160;&#160;&quot;instcombine&quot;</td></tr>
<tr class="separator:ad78e062f62e0d6e453941fb4ca843e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5ef308f5547e4c1a6dfe646dd7ea7abc"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a5ef308f5547e4c1a6dfe646dd7ea7abc">ShuffleOps</a> = std::pair&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> * &gt;</td></tr>
<tr class="memdesc:a5ef308f5547e4c1a6dfe646dd7ea7abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">We are building a shuffle to create V, which is a sequence of insertelement, extractelement pairs.  <a href="#a5ef308f5547e4c1a6dfe646dd7ea7abc">More...</a><br /></td></tr>
<tr class="separator:a5ef308f5547e4c1a6dfe646dd7ea7abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a903d7a12232dc8d1c25a1e83b4daf192"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a903d7a12232dc8d1c25a1e83b4daf192">cheapToScalarize</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classbool.html">bool</a> IsConstantExtractIndex)</td></tr>
<tr class="memdesc:a903d7a12232dc8d1c25a1e83b4daf192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the value is cheaper to scalarize than it is to leave as a vector operation.  <a href="#a903d7a12232dc8d1c25a1e83b4daf192">More...</a><br /></td></tr>
<tr class="separator:a903d7a12232dc8d1c25a1e83b4daf192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce665a4f4ab46ad8c419f5ef02736d2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#adce665a4f4ab46ad8c419f5ef02736d2">foldBitcastExtElt</a> (<a class="el" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> &amp;Ext, <a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;Builder, <a class="el" href="classbool.html">bool</a> IsBigEndian)</td></tr>
<tr class="separator:adce665a4f4ab46ad8c419f5ef02736d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5aa7648807905cd7b63153812029fe2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1APInt.html">APInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#aa5aa7648807905cd7b63153812029fe2">findDemandedEltsBySingleUser</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *UserInstr)</td></tr>
<tr class="memdesc:aa5aa7648807905cd7b63153812029fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find elements of V demanded by UserInstr.  <a href="#aa5aa7648807905cd7b63153812029fe2">More...</a><br /></td></tr>
<tr class="separator:aa5aa7648807905cd7b63153812029fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e71f36e9936f126265e383fd67440f7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1APInt.html">APInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a1e71f36e9936f126265e383fd67440f7">findDemandedEltsByAllUsers</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V)</td></tr>
<tr class="memdesc:a1e71f36e9936f126265e383fd67440f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find union of elements of V demanded by all its users.  <a href="#a1e71f36e9936f126265e383fd67440f7">More...</a><br /></td></tr>
<tr class="separator:a1e71f36e9936f126265e383fd67440f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda78b3dbdee574a0c9bb640655afca7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#afda78b3dbdee574a0c9bb640655afca7">collectSingleShuffleElements</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classllvm_1_1Value.html">Value</a> *LHS, <a class="el" href="classllvm_1_1Value.html">Value</a> *RHS, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Constant.html">Constant</a> *&gt; &amp;Mask)</td></tr>
<tr class="memdesc:afda78b3dbdee574a0c9bb640655afca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">If V is a shuffle of values that ONLY returns elements from either LHS or RHS, return the shuffle mask and true.  <a href="#afda78b3dbdee574a0c9bb640655afca7">More...</a><br /></td></tr>
<tr class="separator:afda78b3dbdee574a0c9bb640655afca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9782aa49f28cfd29599900be119fb3a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#ad9782aa49f28cfd29599900be119fb3a">replaceExtractElements</a> (<a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> *InsElt, <a class="el" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> *ExtElt, <a class="el" href="classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;IC)</td></tr>
<tr class="memdesc:ad9782aa49f28cfd29599900be119fb3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we have insertion into a vector that is wider than the vector that we are extracting from, try to widen the source vector to allow a single shufflevector to replace one or more insert/extract pairs.  <a href="#ad9782aa49f28cfd29599900be119fb3a">More...</a><br /></td></tr>
<tr class="separator:ad9782aa49f28cfd29599900be119fb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b306c07d6dbdc34a73d45b69efb43e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="InstCombineVectorOps_8cpp.html#a5ef308f5547e4c1a6dfe646dd7ea7abc">ShuffleOps</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a66b306c07d6dbdc34a73d45b69efb43e">collectShuffleElements</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Constant.html">Constant</a> *&gt; &amp;Mask, <a class="el" href="classllvm_1_1Value.html">Value</a> *PermittedRHS, <a class="el" href="classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;IC)</td></tr>
<tr class="separator:a66b306c07d6dbdc34a73d45b69efb43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7029cdad3163ebfb8172d25e8a59e3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#ace7029cdad3163ebfb8172d25e8a59e3">isShuffleEquivalentToSelect</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf)</td></tr>
<tr class="separator:ace7029cdad3163ebfb8172d25e8a59e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdea7254f33e7e14fa824284e56319c3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#abdea7254f33e7e14fa824284e56319c3">foldInsSequenceIntoSplat</a> (<a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;InsElt)</td></tr>
<tr class="memdesc:abdea7254f33e7e14fa824284e56319c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn a chain of inserts that splats a value into an insert + shuffle: insertelt(insertelt(insertelt(insertelt X, k, 0), k, 1), k, 2) ...  <a href="#abdea7254f33e7e14fa824284e56319c3">More...</a><br /></td></tr>
<tr class="separator:abdea7254f33e7e14fa824284e56319c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3f33981357525d7cbe1990a68212b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#ace3f33981357525d7cbe1990a68212b5">foldInsEltIntoSplat</a> (<a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;InsElt)</td></tr>
<tr class="memdesc:ace3f33981357525d7cbe1990a68212b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to fold an insert element into an existing splat shuffle by changing the shuffle's mask to include the index of this insert element.  <a href="#ace3f33981357525d7cbe1990a68212b5">More...</a><br /></td></tr>
<tr class="separator:ace3f33981357525d7cbe1990a68212b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639d4e2996fe104ec92be89876430b41"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a639d4e2996fe104ec92be89876430b41">foldInsEltIntoIdentityShuffle</a> (<a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;InsElt)</td></tr>
<tr class="memdesc:a639d4e2996fe104ec92be89876430b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to fold an extract+insert element into an existing identity shuffle by changing the shuffle's mask to include the index of this insert element.  <a href="#a639d4e2996fe104ec92be89876430b41">More...</a><br /></td></tr>
<tr class="separator:a639d4e2996fe104ec92be89876430b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f0c867cdd5fe902a7d49c4c3631090"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#ac9f0c867cdd5fe902a7d49c4c3631090">hoistInsEltConst</a> (<a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;InsElt2, <a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;Builder)</td></tr>
<tr class="memdesc:ac9f0c867cdd5fe902a7d49c4c3631090"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we have an insertelement instruction feeding into another insertelement and the 2nd is inserting a constant into the vector, canonicalize that constant insertion before the insertion of a variable:  <a href="#ac9f0c867cdd5fe902a7d49c4c3631090">More...</a><br /></td></tr>
<tr class="separator:ac9f0c867cdd5fe902a7d49c4c3631090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d94a30dbf5569ba774109343ed5f999"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a2d94a30dbf5569ba774109343ed5f999">foldConstantInsEltIntoShuffle</a> (<a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;InsElt)</td></tr>
<tr class="memdesc:a2d94a30dbf5569ba774109343ed5f999"><td class="mdescLeft">&#160;</td><td class="mdescRight">insertelt (shufflevector X, CVec, Mask|insertelt X, C1, CIndex1), C, CIndex &ndash;&gt; shufflevector X, CVec', Mask'  <a href="#a2d94a30dbf5569ba774109343ed5f999">More...</a><br /></td></tr>
<tr class="separator:a2d94a30dbf5569ba774109343ed5f999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95fd07ca61f35098e091aa2329f9c8a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a95fd07ca61f35098e091aa2329f9c8a6">canEvaluateShuffled</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; Mask, <a class="el" href="classunsigned.html">unsigned</a> Depth=5)</td></tr>
<tr class="memdesc:a95fd07ca61f35098e091aa2329f9c8a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if we can evaluate the specified expression tree if the vector elements were shuffled in a different order.  <a href="#a95fd07ca61f35098e091aa2329f9c8a6">More...</a><br /></td></tr>
<tr class="separator:a95fd07ca61f35098e091aa2329f9c8a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7f36cc8266c6cec726073d619cb354"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#aaf7f36cc8266c6cec726073d619cb354">buildNew</a> (<a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="el" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *&gt; NewOps)</td></tr>
<tr class="memdesc:aaf7f36cc8266c6cec726073d619cb354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuild a new instruction just like 'I' but with the new operands given.  <a href="#aaf7f36cc8266c6cec726073d619cb354">More...</a><br /></td></tr>
<tr class="separator:aaf7f36cc8266c6cec726073d619cb354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e58d0b566ef26217958483795974e5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a55e58d0b566ef26217958483795974e5">evaluateInDifferentElementOrder</a> (<a class="el" href="classllvm_1_1Value.html">Value</a> *V, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt; Mask)</td></tr>
<tr class="separator:a55e58d0b566ef26217958483795974e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cfa3465a10038ad77739009d9cd0e7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a21cfa3465a10038ad77739009d9cd0e7">isShuffleExtractingFromLHS</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;SVI, <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; int, 16 &gt; &amp;Mask)</td></tr>
<tr class="separator:a21cfa3465a10038ad77739009d9cd0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e7c9415c23ae336af651877798a377"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structBinopElts.html">BinopElts</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#af7e7c9415c23ae336af651877798a377">getAlternateBinop</a> (<a class="el" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *BO, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;DL)</td></tr>
<tr class="memdesc:af7e7c9415c23ae336af651877798a377"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binops may be transformed into binops with different opcodes and operands.  <a href="#af7e7c9415c23ae336af651877798a377">More...</a><br /></td></tr>
<tr class="separator:af7e7c9415c23ae336af651877798a377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c9d0a05a498a67033d97eb1200f3b6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a21c9d0a05a498a67033d97eb1200f3b6">foldSelectShuffleWith1Binop</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf)</td></tr>
<tr class="separator:a21c9d0a05a498a67033d97eb1200f3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd925ff2a62d44f8e4591b0e10d9f83"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#afcd925ff2a62d44f8e4591b0e10d9f83">canonicalizeInsertSplat</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf, <a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;Builder)</td></tr>
<tr class="memdesc:afcd925ff2a62d44f8e4591b0e10d9f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">If we have an insert of a scalar to a non-zero element of an undefined vector and then shuffle that value, that's the same as inserting to the zero element and shuffling.  <a href="#afcd925ff2a62d44f8e4591b0e10d9f83">More...</a><br /></td></tr>
<tr class="separator:afcd925ff2a62d44f8e4591b0e10d9f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65016b705e4853ee8c3fd4fbc92fef5c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a65016b705e4853ee8c3fd4fbc92fef5c">foldSelectShuffle</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf, <a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;Builder, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;DL)</td></tr>
<tr class="memdesc:a65016b705e4853ee8c3fd4fbc92fef5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to fold shuffles that are the equivalent of a vector select.  <a href="#a65016b705e4853ee8c3fd4fbc92fef5c">More...</a><br /></td></tr>
<tr class="separator:a65016b705e4853ee8c3fd4fbc92fef5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2944f05cd70d1dc4816c38c9242d77"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a9f2944f05cd70d1dc4816c38c9242d77">narrowVectorSelect</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf, <a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;Builder)</td></tr>
<tr class="memdesc:a9f2944f05cd70d1dc4816c38c9242d77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match a shuffle-select-shuffle pattern where the shuffles are widening and narrowing (concatenating with undef and extracting back to the original length).  <a href="#a9f2944f05cd70d1dc4816c38c9242d77">More...</a><br /></td></tr>
<tr class="separator:a9f2944f05cd70d1dc4816c38c9242d77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444937e7243ef0e376687b403c4bfd1e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#a444937e7243ef0e376687b403c4bfd1e">foldIdentityExtractShuffle</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf)</td></tr>
<tr class="memdesc:a444937e7243ef0e376687b403c4bfd1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to combine 2 shuffles into 1 shuffle by concatenating a shuffle mask.  <a href="#a444937e7243ef0e376687b403c4bfd1e">More...</a><br /></td></tr>
<tr class="separator:a444937e7243ef0e376687b403c4bfd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef55d48cf8cd80c2dbb6c1469ff9f498"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#aef55d48cf8cd80c2dbb6c1469ff9f498">foldShuffleWithInsert</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf)</td></tr>
<tr class="memdesc:aef55d48cf8cd80c2dbb6c1469ff9f498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to replace a shuffle with an insertelement or try to replace a shuffle operand with the operand of an insertelement.  <a href="#aef55d48cf8cd80c2dbb6c1469ff9f498">More...</a><br /></td></tr>
<tr class="separator:aef55d48cf8cd80c2dbb6c1469ff9f498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab903583d9f02e20dad7ebac266b73214"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="InstCombineVectorOps_8cpp.html#ab903583d9f02e20dad7ebac266b73214">foldIdentityPaddedShuffles</a> (<a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;Shuf)</td></tr>
<tr class="separator:ab903583d9f02e20dad7ebac266b73214"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad78e062f62e0d6e453941fb4ca843e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78e062f62e0d6e453941fb4ca843e4d">&#9670;&nbsp;</a></span>DEBUG_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_TYPE&#160;&#160;&#160;&quot;instcombine&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00045">45</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a5ef308f5547e4c1a6dfe646dd7ea7abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ef308f5547e4c1a6dfe646dd7ea7abc">&#9670;&nbsp;</a></span>ShuffleOps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="InstCombineVectorOps_8cpp.html#a5ef308f5547e4c1a6dfe646dd7ea7abc">ShuffleOps</a> =  std::pair&lt;<a class="el" href="classllvm_1_1Value.html">Value</a> *, <a class="el" href="classllvm_1_1Value.html">Value</a> *&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We are building a shuffle to create V, which is a sequence of insertelement, extractelement pairs. </p>
<p>If PermittedRHS is set, then we must either use it or not rely on the second vector source. Return a std::pair containing the left and right vectors of the proposed shuffle (or 0), and set the Mask parameter as required.</p>
<p>Note: we intentionally don't try to fold earlier shuffles since they have often been chosen carefully to be efficiently implementable on the target. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00604">604</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaf7f36cc8266c6cec726073d619cb354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7f36cc8266c6cec726073d619cb354">&#9670;&nbsp;</a></span>buildNew()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a>* buildNew </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; <a class="el" href="classllvm_1_1Value.html">Value</a> *&gt;&#160;</td>
          <td class="paramname"><em>NewOps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuild a new instruction just like 'I' but with the new operands given. </p>
<p>In the event of type mismatch, the type of the operands is correct. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01213">1213</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="MCInstrDesc_8h_source.html#l00176">llvm::MCID::Add</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Instructions_8cpp_source.html#l02330">llvm::BinaryOperator::Create()</a>, <a class="el" href="Instructions_8cpp_source.html#l02739">llvm::CastInst::Create()</a>, <a class="el" href="Instructions_8h_source.html#l00918">llvm::GetElementPtrInst::Create()</a>, <a class="el" href="HexagonCommonGEP_8cpp_source.html#l00171">GEP</a>, <a class="el" href="Type_8cpp_source.html#l00614">llvm::VectorType::get()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00125">llvm::Instruction::getOpcode()</a>, <a class="el" href="VPlanSLP_8cpp_source.html#l00196">getOpcode()</a>, <a class="el" href="PPCPredicates_8h_source.html#l00087">llvm::PPC::getPredicate()</a>, <a class="el" href="Type_8h_source.html#l00307">llvm::Type::getScalarType()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00116">llvm::Instruction::hasNoSignedWrap()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00112">llvm::Instruction::hasNoUnsignedWrap()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00145">llvm::Instruction::isExact()</a>, <a class="el" href="Support_2ErrorHandling_8h_source.html#l00135">llvm_unreachable</a>, <a class="el" href="Instructions_8cpp_source.html#l01678">llvm::GetElementPtrInst::setIsInBounds()</a>, <a class="el" href="ArrayRef_8h_source.html#l00158">llvm::ArrayRef&lt; T &gt;::size()</a>, and <a class="el" href="ArrayRef_8h_source.html#l00188">llvm::ArrayRef&lt; T &gt;::slice()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01289">evaluateInDifferentElementOrder()</a>.</p>

</div>
</div>
<a id="a95fd07ca61f35098e091aa2329f9c8a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95fd07ca61f35098e091aa2329f9c8a6">&#9670;&nbsp;</a></span>canEvaluateShuffled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> canEvaluateShuffled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunsigned.html">unsigned</a>&#160;</td>
          <td class="paramname"><em>Depth</em> = <code>5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if we can evaluate the specified expression tree if the vector elements were shuffled in a different order. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01126">1126</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="MCInstrDesc_8h_source.html#l00176">llvm::MCID::Add</a>, <a class="el" href="STLExtras_8h_source.html#l01189">llvm::any_of()</a>, <a class="el" href="SIMachineScheduler_8h_source.html#l00036">llvm::Depth</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="MathExtras_8h_source.html#l00057">llvm::numbers::e</a>, <a class="el" href="Constants_8h_source.html#l00250">llvm::ConstantInt::getLimitedValue()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00125">llvm::Instruction::getOpcode()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Type_8h_source.html#l00230">llvm::Type::isVectorTy()</a>, <a class="el" href="Compiler_8h_source.html#l00279">LLVM_FALLTHROUGH</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="User_8h_source.html#l00237">llvm::User::operands()</a>, and <a class="el" href="ArrayRef_8h_source.html#l00158">llvm::ArrayRef&lt; T &gt;::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="afcd925ff2a62d44f8e4591b0e10d9f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd925ff2a62d44f8e4591b0e10d9f83">&#9670;&nbsp;</a></span>canonicalizeInsertSplat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* canonicalizeInsertSplat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If we have an insert of a scalar to a non-zero element of an undefined vector and then shuffle that value, that's the same as inserting to the zero element and shuffling. </p>
<p>Splatting from the zero element is recognized as the canonical form of splat. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01511">1511</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="IRBuilder_8h_source.html#l02533">llvm::IRBuilder&lt; T, Inserter &gt;::CreateInsertElement()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Constants_8cpp_source.html#l00388">llvm::Constant::getAggregateElement()</a>, <a class="el" href="IRBuilder_8h_source.html#l00355">llvm::IRBuilderBase::getInt32()</a>, <a class="el" href="Instructions_8h_source.html#l02020">llvm::ShuffleVectorInst::getMask()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Instructions_8h_source.html#l02013">llvm::ShuffleVectorInst::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01267">llvm::PatternMatch::m_InsertElement()</a>, <a class="el" href="PatternMatch_8h_source.html#l00062">llvm::PatternMatch::m_OneUse()</a>, <a class="el" href="PatternMatch_8h_source.html#l00087">llvm::PatternMatch::m_Undef()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00414">llvm::PatternMatch::m_ZeroInt()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, and <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="a903d7a12232dc8d1c25a1e83b4daf192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a903d7a12232dc8d1c25a1e83b4daf192">&#9670;&nbsp;</a></span>cheapToScalarize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> cheapToScalarize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>IsConstantExtractIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the value is cheaper to scalarize than it is to leave as a vector operation. </p>
<p>IsConstantExtractIndex indicates whether we are extracting one known element from a vector constant.</p>
<p>FIXME: It's possible to create more instructions than previously existed. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00052">52</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8h_source.html#l02704">llvm::PHINode::addIncoming()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00068">C</a>, <a class="el" href="Instructions_8h_source.html#l01869">llvm::ExtractElementInst::Create()</a>, <a class="el" href="Instructions_8h_source.html#l02592">llvm::PHINode::Create()</a>, <a class="el" href="InstrTypes_8h_source.html#l00249">llvm::BinaryOperator::CreateWithCopiedFlags()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00223">llvm::BasicBlock::getFirstInsertionPt()</a>, <a class="el" href="Instructions_8h_source.html#l02670">llvm::PHINode::getIncomingBlock()</a>, <a class="el" href="Instructions_8h_source.html#l02650">llvm::PHINode::getIncomingValue()</a>, <a class="el" href="Instructions_8h_source.html#l01886">llvm::ExtractElementInst::getIndexOperand()</a>, <a class="el" href="ilist__node_8h_source.html#l00081">llvm::ilist_node_impl&lt; OptionsT &gt;::getIterator()</a>, <a class="el" href="Value_8cpp_source.html#l00215">llvm::Value::getName()</a>, <a class="el" href="Instructions_8h_source.html#l02646">llvm::PHINode::getNumIncomingValues()</a>, <a class="el" href="InstrTypes_8h_source.html#l00402">llvm::BinaryOperator::getOpcode()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="PatternMatch_8h_source.html#l00074">llvm::PatternMatch::m_BinOp()</a>, <a class="el" href="PatternMatch_8h_source.html#l00079">llvm::PatternMatch::m_Cmp()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01267">llvm::PatternMatch::m_InsertElement()</a>, <a class="el" href="PatternMatch_8h_source.html#l01289">llvm::PatternMatch::m_Load()</a>, <a class="el" href="PatternMatch_8h_source.html#l00062">llvm::PatternMatch::m_OneUse()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T &gt;::push_back()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00063">llvm::Instruction::user_back()</a>, and <a class="el" href="Value_8h_source.html#l00420">llvm::Value::users()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00319">llvm::InstCombiner::visitExtractElementInst()</a>.</p>

</div>
</div>
<a id="a66b306c07d6dbdc34a73d45b69efb43e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b306c07d6dbdc34a73d45b69efb43e">&#9670;&nbsp;</a></span>collectShuffleElements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="InstCombineVectorOps_8cpp.html#a5ef308f5547e4c1a6dfe646dd7ea7abc">ShuffleOps</a> collectShuffleElements </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Constant.html">Constant</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>Mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>PermittedRHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00606">606</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallVector_8h_source.html#l00412">llvm::SmallVectorImpl&lt; T &gt;::assign()</a>, <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00445">collectSingleShuffleElements()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Type_8h_source.html#l00230">llvm::Type::isVectorTy()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T &gt;::push_back()</a>, and <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00522">replaceExtractElements()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01026">llvm::InstCombiner::visitInsertElementInst()</a>.</p>

</div>
</div>
<a id="afda78b3dbdee574a0c9bb640655afca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda78b3dbdee574a0c9bb640655afca7">&#9670;&nbsp;</a></span>collectSingleShuffleElements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> collectSingleShuffleElements </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>LHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>RHS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; <a class="el" href="classllvm_1_1Constant.html">Constant</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>Mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If V is a shuffle of values that ONLY returns elements from either LHS or RHS, return the shuffle mask and true. </p>
<p>Otherwise, return false. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00445">445</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="SmallVector_8h_source.html#l00412">llvm::SmallVectorImpl&lt; T &gt;::assign()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, and <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T &gt;::push_back()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00606">collectShuffleElements()</a>.</p>

</div>
</div>
<a id="a55e58d0b566ef26217958483795974e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e58d0b566ef26217958483795974e5">&#9670;&nbsp;</a></span>evaluateInDifferentElementOrder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Value.html">Value</a>* evaluateInDifferentElementOrder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int &gt;&#160;</td>
          <td class="paramname"><em>Mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01289">1289</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="MCInstrDesc_8h_source.html#l00176">llvm::MCID::Add</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01213">buildNew()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00068">C</a>, <a class="el" href="Instructions_8h_source.html#l01934">llvm::InsertElementInst::Create()</a>, <a class="el" href="MathExtras_8h_source.html#l00057">llvm::numbers::e</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01414">llvm::ConstantAggregateZero::get()</a>, <a class="el" href="Type_8cpp_source.html#l00614">llvm::VectorType::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="Type_8h_source.html#l00307">llvm::Type::getScalarType()</a>, <a class="el" href="Constants_8cpp_source.html#l02228">llvm::ConstantExpr::getShuffleVector()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="Type_8h_source.html#l00230">llvm::Type::isVectorTy()</a>, <a class="el" href="Support_2ErrorHandling_8h_source.html#l00135">llvm_unreachable</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T &gt;::push_back()</a>, <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T, bool &gt;::push_back()</a>, <a class="el" href="MCInstrDesc_8h_source.html#l00155">llvm::MCID::Select</a>, and <a class="el" href="ArrayRef_8h_source.html#l00158">llvm::ArrayRef&lt; T &gt;::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="a1e71f36e9936f126265e383fd67440f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e71f36e9936f126265e383fd67440f7">&#9670;&nbsp;</a></span>findDemandedEltsByAllUsers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1APInt.html">APInt</a> findDemandedEltsByAllUsers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find union of elements of V demanded by all its users. </p>
<p>If it is known by querying findDemandedEltsBySingleUser that no user demands an element of V, then the corresponding bit remains unset in the returned value. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00300">300</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00257">findDemandedEltsBySingleUser()</a>, <a class="el" href="APInt_8h_source.html#l00566">llvm::APInt::getAllOnesValue()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="APInt_8h_source.html#l00400">llvm::APInt::isAllOnesValue()</a>, and <a class="el" href="Value_8h_source.html#l00375">llvm::Value::uses()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00319">llvm::InstCombiner::visitExtractElementInst()</a>.</p>

</div>
</div>
<a id="aa5aa7648807905cd7b63153812029fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aa7648807905cd7b63153812029fe2">&#9670;&nbsp;</a></span>findDemandedEltsBySingleUser()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1APInt.html">APInt</a> findDemandedEltsBySingleUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Instruction.html">Instruction</a> *&#160;</td>
          <td class="paramname"><em>UserInstr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find elements of V demanded by UserInstr. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00257">257</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="APInt_8h_source.html#l00566">llvm::APInt::getAllOnesValue()</a>, <a class="el" href="Instructions_8h_source.html#l01886">llvm::ExtractElementInst::getIndexOperand()</a>, <a class="el" href="Instructions_8cpp_source.html#l01882">llvm::ShuffleVectorInst::getMaskValue()</a>, <a class="el" href="APInt_8h_source.html#l00592">llvm::APInt::getOneBitSet()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00125">llvm::Instruction::getOpcode()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Instructions_8h_source.html#l01885">llvm::ExtractElementInst::getVectorOperand()</a>, and <a class="el" href="APInt_8h_source.html#l01436">llvm::APInt::setBit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00300">findDemandedEltsByAllUsers()</a>.</p>

</div>
</div>
<a id="adce665a4f4ab46ad8c419f5ef02736d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adce665a4f4ab46ad8c419f5ef02736d2">&#9670;&nbsp;</a></span>foldBitcastExtElt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldBitcastExtElt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>IsBigEndian</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00162">162</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="IRBuilder_8h_source.html#l02101">llvm::IRBuilder&lt; T, Inserter &gt;::CreateBitCast()</a>, <a class="el" href="IRBuilder_8h_source.html#l01321">llvm::IRBuilder&lt; T, Inserter &gt;::CreateLShr()</a>, <a class="el" href="IRBuilder_8h_source.html#l02005">llvm::IRBuilder&lt; T, Inserter &gt;::CreateTrunc()</a>, <a class="el" href="VectorUtils_8cpp_source.html#l00262">llvm::findScalarElement()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="Instructions_8h_source.html#l01886">llvm::ExtractElementInst::getIndexOperand()</a>, <a class="el" href="Type_8cpp_source.html#l00184">llvm::Type::getIntNTy()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00398">llvm::SequentialType::getNumElements()</a>, <a class="el" href="Type_8cpp_source.html#l00115">llvm::Type::getPrimitiveSizeInBits()</a>, <a class="el" href="Type_8cpp_source.html#l00134">llvm::Type::getScalarSizeInBits()</a>, <a class="el" href="Type_8h_source.html#l00307">llvm::Type::getScalarType()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Instructions_8h_source.html#l01885">llvm::ExtractElementInst::getVectorOperand()</a>, <a class="el" href="Instructions_8h_source.html#l01890">llvm::ExtractElementInst::getVectorOperandType()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="Type_8h_source.html#l00162">llvm::Type::isFloatingPointTy()</a>, <a class="el" href="Type_8h_source.html#l00230">llvm::Type::isVectorTy()</a>, <a class="el" href="PatternMatch_8h_source.html#l01319">llvm::PatternMatch::m_BitCast()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01267">llvm::PatternMatch::m_InsertElement()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="NVPTX_8h_source.html#l00104">llvm::NVPTX::PTXLdStInstCode::Scalar</a>, and <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00319">llvm::InstCombiner::visitExtractElementInst()</a>.</p>

</div>
</div>
<a id="a2d94a30dbf5569ba774109343ed5f999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d94a30dbf5569ba774109343ed5f999">&#9670;&nbsp;</a></span>foldConstantInsEltIntoShuffle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldConstantInsEltIntoShuffle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;&#160;</td>
          <td class="paramname"><em>InsElt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>insertelt (shufflevector X, CVec, Mask|insertelt X, C1, CIndex1), C, CIndex &ndash;&gt; shufflevector X, CVec', Mask' </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00929">929</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Path_8cpp_source.html#l00224">llvm::sys::path::begin()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Constants_8cpp_source.html#l00388">llvm::Constant::getAggregateElement()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00399">llvm::SequentialType::getElementType()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00398">llvm::SequentialType::getNumElements()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="Instructions_8h_source.html#l01953">llvm::InsertElementInst::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00074">Int32Ty</a>, <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00725">isShuffleEquivalentToSelect()</a>, <a class="el" href="PatternMatch_8h_source.html#l00090">llvm::PatternMatch::m_Constant()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, and <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01026">llvm::InstCombiner::visitInsertElementInst()</a>.</p>

</div>
</div>
<a id="a444937e7243ef0e376687b403c4bfd1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444937e7243ef0e376687b403c4bfd1e">&#9670;&nbsp;</a></span>foldIdentityExtractShuffle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldIdentityExtractShuffle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to combine 2 shuffles into 1 shuffle by concatenating a shuffle mask. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01705">1705</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l00388">llvm::Constant::getAggregateElement()</a>, <a class="el" href="Instructions_8h_source.html#l02020">llvm::ShuffleVectorInst::getMask()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="WebAssemblyMCInstLower_8cpp_source.html#l00182">getType()</a>, <a class="el" href="Instructions_8h_source.html#l02013">llvm::ShuffleVectorInst::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="Instructions_8cpp_source.html#l02069">llvm::ShuffleVectorInst::isIdentityWithExtract()</a>, <a class="el" href="PatternMatch_8h_source.html#l00090">llvm::PatternMatch::m_Constant()</a>, <a class="el" href="PatternMatch_8h_source.html#l01282">llvm::PatternMatch::m_ShuffleVector()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, and <a class="el" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="ab903583d9f02e20dad7ebac266b73214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab903583d9f02e20dad7ebac266b73214">&#9670;&nbsp;</a></span>foldIdentityPaddedShuffles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldIdentityPaddedShuffles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01835">1835</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="MathExtras_8h_source.html#l00057">llvm::numbers::e</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Instructions_8cpp_source.html#l01892">llvm::ShuffleVectorInst::getShuffleMask()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="Instructions_8h_source.html#l02013">llvm::ShuffleVectorInst::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="MathExtras_8h_source.html#l00465">llvm::isPowerOf2_32()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, and <a class="el" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="a639d4e2996fe104ec92be89876430b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639d4e2996fe104ec92be89876430b41">&#9670;&nbsp;</a></span>foldInsEltIntoIdentityShuffle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldInsEltIntoIdentityShuffle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;&#160;</td>
          <td class="paramname"><em>InsElt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to fold an extract+insert element into an existing identity shuffle by changing the shuffle's mask to include the index of this insert element. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00850">850</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l00388">llvm::Constant::getAggregateElement()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01275">llvm::PatternMatch::m_ExtractElement()</a>, <a class="el" href="PatternMatch_8h_source.html#l00612">llvm::PatternMatch::m_Specific()</a>, <a class="el" href="PatternMatch_8h_source.html#l00689">llvm::PatternMatch::m_SpecificInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="NVPTX_8h_source.html#l00104">llvm::NVPTX::PTXLdStInstCode::Scalar</a>, and <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01026">llvm::InstCombiner::visitInsertElementInst()</a>.</p>

</div>
</div>
<a id="ace3f33981357525d7cbe1990a68212b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3f33981357525d7cbe1990a68212b5">&#9670;&nbsp;</a></span>foldInsEltIntoSplat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldInsEltIntoSplat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;&#160;</td>
          <td class="paramname"><em>InsElt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to fold an insert element into an existing splat shuffle by changing the shuffle's mask to include the index of this insert element. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00816">816</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="Constants_8cpp_source.html#l00318">llvm::Constant::getNullValue()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01267">llvm::PatternMatch::m_InsertElement()</a>, <a class="el" href="PatternMatch_8h_source.html#l00612">llvm::PatternMatch::m_Specific()</a>, <a class="el" href="PatternMatch_8h_source.html#l00087">llvm::PatternMatch::m_Undef()</a>, <a class="el" href="PatternMatch_8h_source.html#l00414">llvm::PatternMatch::m_ZeroInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, and <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01026">llvm::InstCombiner::visitInsertElementInst()</a>.</p>

</div>
</div>
<a id="abdea7254f33e7e14fa824284e56319c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdea7254f33e7e14fa824284e56319c3">&#9670;&nbsp;</a></span>foldInsSequenceIntoSplat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldInsSequenceIntoSplat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;&#160;</td>
          <td class="paramname"><em>InsElt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turn a chain of inserts that splats a value into an insert + shuffle: insertelt(insertelt(insertelt(insertelt X, k, 0), k, 1), k, 2) ... </p>
<p>-&gt; shufflevector(insertelt(X, k, 0), undef, zero) </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00747">747</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="STLExtras_8h_source.html#l01189">llvm::any_of()</a>, <a class="el" href="Instructions_8h_source.html#l01934">llvm::InsertElementInst::Create()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Instructions_8h_source.html#l01953">llvm::InsertElementInst::getType()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00074">Int32Ty</a>, <a class="el" href="Lint_8cpp_source.html#l00550">isZero()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, and <a class="el" href="IR_2Instruction_8h_source.html#l00063">llvm::Instruction::user_back()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01026">llvm::InstCombiner::visitInsertElementInst()</a>.</p>

</div>
</div>
<a id="a65016b705e4853ee8c3fd4fbc92fef5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65016b705e4853ee8c3fd4fbc92fef5c">&#9670;&nbsp;</a></span>foldSelectShuffle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldSelectShuffle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;&#160;</td>
          <td class="paramname"><em>DL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to fold shuffles that are the equivalent of a vector select. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01543">1543</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="IR_2Instruction_8cpp_source.html#l00267">llvm::Instruction::andIRFlags()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Instructions_8cpp_source.html#l01816">llvm::ShuffleVectorInst::commute()</a>, <a class="el" href="Constants_8cpp_source.html#l00297">llvm::Constant::containsUndefElement()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00243">llvm::Instruction::copyIRFlags()</a>, <a class="el" href="Instructions_8cpp_source.html#l02330">llvm::BinaryOperator::Create()</a>, <a class="el" href="IRBuilder_8h_source.html#l02547">llvm::IRBuilder&lt; T, Inserter &gt;::CreateShuffleVector()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00120">llvm::Instruction::dropPoisonGeneratingFlags()</a>, <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01455">foldSelectShuffleWith1Binop()</a>, <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01429">getAlternateBinop()</a>, <a class="el" href="Instructions_8h_source.html#l02020">llvm::ShuffleVectorInst::getMask()</a>, <a class="el" href="Instructions_8cpp_source.html#l01882">llvm::ShuffleVectorInst::getMaskValue()</a>, <a class="el" href="InstrTypes_8h_source.html#l00402">llvm::BinaryOperator::getOpcode()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="InstCombineInternal_8h_source.html#l00245">llvm::getSafeVectorConstantForBinop()</a>, <a class="el" href="Constants_8cpp_source.html#l02228">llvm::ConstantExpr::getShuffleVector()</a>, <a class="el" href="Instructions_8h_source.html#l02013">llvm::ShuffleVectorInst::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00131">llvm::Instruction::isIntDivRem()</a>, <a class="el" href="Instructions_8h_source.html#l02148">llvm::ShuffleVectorInst::isSelect()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00132">llvm::Instruction::isShift()</a>, <a class="el" href="PatternMatch_8h_source.html#l00074">llvm::PatternMatch::m_BinOp()</a>, <a class="el" href="PatternMatch_8h_source.html#l00090">llvm::PatternMatch::m_Constant()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00104">llvm::Instruction::setHasNoSignedWrap()</a>, <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, and <a class="el" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="a21c9d0a05a498a67033d97eb1200f3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c9d0a05a498a67033d97eb1200f3b6">&#9670;&nbsp;</a></span>foldSelectShuffleWith1Binop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldSelectShuffleWith1Binop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01455">1455</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00068">C</a>, <a class="el" href="Constants_8cpp_source.html#l00297">llvm::Constant::containsUndefElement()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00243">llvm::Instruction::copyIRFlags()</a>, <a class="el" href="Instructions_8cpp_source.html#l02330">llvm::BinaryOperator::Create()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00120">llvm::Instruction::dropPoisonGeneratingFlags()</a>, <a class="el" href="Constants_8cpp_source.html#l02406">llvm::ConstantExpr::getBinOpIdentity()</a>, <a class="el" href="Instructions_8h_source.html#l02020">llvm::ShuffleVectorInst::getMask()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="InstCombineInternal_8h_source.html#l00245">llvm::getSafeVectorConstantForBinop()</a>, <a class="el" href="Constants_8cpp_source.html#l02228">llvm::ConstantExpr::getShuffleVector()</a>, <a class="el" href="Instructions_8h_source.html#l02013">llvm::ShuffleVectorInst::getType()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00131">llvm::Instruction::isIntDivRem()</a>, <a class="el" href="Instructions_8h_source.html#l02148">llvm::ShuffleVectorInst::isSelect()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00132">llvm::Instruction::isShift()</a>, <a class="el" href="PatternMatch_8h_source.html#l00074">llvm::PatternMatch::m_BinOp()</a>, <a class="el" href="PatternMatch_8h_source.html#l00090">llvm::PatternMatch::m_Constant()</a>, <a class="el" href="PatternMatch_8h_source.html#l00612">llvm::PatternMatch::m_Specific()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, and <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01543">foldSelectShuffle()</a>.</p>

</div>
</div>
<a id="aef55d48cf8cd80c2dbb6c1469ff9f498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef55d48cf8cd80c2dbb6c1469ff9f498">&#9670;&nbsp;</a></span>foldShuffleWithInsert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* foldShuffleWithInsert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to replace a shuffle with an insertelement or try to replace a shuffle operand with the operand of an insertelement. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01746">1746</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Instructions_8h_source.html#l02264">llvm::ShuffleVectorInst::commuteShuffleMask()</a>, <a class="el" href="Instructions_8h_source.html#l01934">llvm::InsertElementInst::Create()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Instructions_8cpp_source.html#l01892">llvm::ShuffleVectorInst::getShuffleMask()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l01267">llvm::PatternMatch::m_InsertElement()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="BitmaskEnum_8h_source.html#l00080">llvm::BitmaskEnumDetail::Mask()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="STLExtras_8h_source.html#l01196">llvm::none_of()</a>, <a class="el" href="NVPTX_8h_source.html#l00104">llvm::NVPTX::PTXLdStInstCode::Scalar</a>, <a class="el" href="User_8h_source.html#l00174">llvm::User::setOperand()</a>, <a class="el" href="SmallVector_8h_source.html#l00052">llvm::SmallVectorBase::size()</a>, <a class="el" href="BitVector_8h_source.html#l00940">std::swap()</a>, and <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="af7e7c9415c23ae336af651877798a377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7e7c9415c23ae336af651877798a377">&#9670;&nbsp;</a></span>getAlternateBinop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structBinopElts.html">BinopElts</a> getAlternateBinop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1BinaryOperator.html">BinaryOperator</a> *&#160;</td>
          <td class="paramname"><em>BO</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;&#160;</td>
          <td class="paramname"><em>DL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Binops may be transformed into binops with different opcodes and operands. </p>
<p>Reverse the usual canonicalization to enable folds with the non-canonical form of the binop. If a transform is possible, return the elements of the new binop. If not, return invalid elements. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01429">1429</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="MCInstrDesc_8h_source.html#l00176">llvm::MCID::Add</a>, <a class="el" href="NVVMIntrRange_8cpp_source.html#l00068">C</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="InstrTypes_8h_source.html#l00402">llvm::BinaryOperator::getOpcode()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Constants_8cpp_source.html#l02389">llvm::ConstantExpr::getShl()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="PatternMatch_8h_source.html#l00195">llvm::PatternMatch::m_APInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00090">llvm::PatternMatch::m_Constant()</a>, <a class="el" href="ValueTracking_8cpp_source.html#l00290">llvm::MaskedValueIsZero()</a>, and <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01543">foldSelectShuffle()</a>.</p>

</div>
</div>
<a id="ac9f0c867cdd5fe902a7d49c4c3631090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f0c867cdd5fe902a7d49c4c3631090">&#9670;&nbsp;</a></span>hoistInsEltConst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* hoistInsEltConst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> &amp;&#160;</td>
          <td class="paramname"><em>InsElt2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If we have an insertelement instruction feeding into another insertelement and the 2nd is inserting a constant into the vector, canonicalize that constant insertion before the insertion of a variable: </p>
<p>insertelement (insertelement X, Y, IdxC1), ScalarC, IdxC2 &ndash;&gt; insertelement (insertelement X, ScalarC, IdxC2), Y, IdxC1</p>
<p>This has the potential of eliminating the 2nd insertelement instruction via constant folding of the scalar constant into a vector constant. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00906">906</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8h_source.html#l01934">llvm::InsertElementInst::Create()</a>, <a class="el" href="IRBuilder_8h_source.html#l02533">llvm::IRBuilder&lt; T, Inserter &gt;::CreateInsertElement()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="PatternMatch_8h_source.html#l00090">llvm::PatternMatch::m_Constant()</a>, <a class="el" href="PatternMatch_8h_source.html#l00082">llvm::PatternMatch::m_ConstantInt()</a>, <a class="el" href="PatternMatch_8h_source.html#l00071">llvm::PatternMatch::m_Value()</a>, <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>, <a class="el" href="ErlangGCPrinter_8cpp.html#a74b474c0616ab55c1d9487f11fd31d26">X</a>, and <a class="el" href="OcamlGCPrinter_8cpp.html#afcf2f797ed287a723263583c9b1c1bce">Y</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01026">llvm::InstCombiner::visitInsertElementInst()</a>.</p>

</div>
</div>
<a id="ace7029cdad3163ebfb8172d25e8a59e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7029cdad3163ebfb8172d25e8a59e3">&#9670;&nbsp;</a></span>isShuffleEquivalentToSelect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> isShuffleEquivalentToSelect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00725">725</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8h_source.html#l02020">llvm::ShuffleVectorInst::getMask()</a>, <a class="el" href="Instructions_8cpp_source.html#l01882">llvm::ShuffleVectorInst::getMaskValue()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, and <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00929">foldConstantInsEltIntoShuffle()</a>.</p>

</div>
</div>
<a id="a21cfa3465a10038ad77739009d9cd0e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cfa3465a10038ad77739009d9cd0e7">&#9670;&nbsp;</a></span>isShuffleExtractingFromLHS()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classbool.html">bool</a> isShuffleExtractingFromLHS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>SVI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; int, 16 &gt; &amp;&#160;</td>
          <td class="paramname"><em>Mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01399">1399</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="SmallVector_8h_source.html#l00166">llvm::SmallVectorTemplateCommon&lt; T &gt;::back()</a>, <a class="el" href="SmallVector_8h_source.html#l00157">llvm::SmallVectorTemplateCommon&lt; T &gt;::front()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Value_8h_source.html#l00246">llvm::Value::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, and <a class="el" href="SmallVector_8h_source.html#l00052">llvm::SmallVectorBase::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="a9f2944f05cd70d1dc4816c38c9242d77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f2944f05cd70d1dc4816c38c9242d77">&#9670;&nbsp;</a></span>narrowVectorSelect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classllvm_1_1Instruction.html">Instruction</a>* narrowVectorSelect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ShuffleVectorInst.html">ShuffleVectorInst</a> &amp;&#160;</td>
          <td class="paramname"><em>Shuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html#a19c4df37b96c2a73991556b696924584">InstCombiner::BuilderTy</a> &amp;&#160;</td>
          <td class="paramname"><em>Builder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match a shuffle-select-shuffle pattern where the shuffles are widening and narrowing (concatenating with undef and extracting back to the original length). </p>
<p>This allows replacing the wide select with a narrow select. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01672">1672</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="Instructions_8cpp_source.html#l02069">llvm::ShuffleVectorInst::isIdentityWithExtract()</a>, <a class="el" href="PatternMatch_8h_source.html#l00087">llvm::PatternMatch::m_Undef()</a>, and <a class="el" href="PatternMatch_8h_source.html#l00048">llvm::PatternMatch::match()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l01901">llvm::InstCombiner::visitShuffleVectorInst()</a>.</p>

</div>
</div>
<a id="ad9782aa49f28cfd29599900be119fb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9782aa49f28cfd29599900be119fb3a">&#9670;&nbsp;</a></span>replaceExtractElements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void replaceExtractElements </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InsertElementInst.html">InsertElementInst</a> *&#160;</td>
          <td class="paramname"><em>InsElt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ExtractElementInst.html">ExtractElementInst</a> *&#160;</td>
          <td class="paramname"><em>ExtElt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1InstCombiner.html">InstCombiner</a> &amp;&#160;</td>
          <td class="paramname"><em>IC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If we have insertion into a vector that is wider than the vector that we are extracting from, try to widen the source vector to allow a single shufflevector to replace one or more insert/extract pairs. </p>

<p class="definition">Definition at line <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00522">522</a> of file <a class="el" href="InstCombineVectorOps_8cpp_source.html">InstCombineVectorOps.cpp</a>.</p>

<p class="reference">References <a class="el" href="Instructions_8h_source.html#l01869">llvm::ExtractElementInst::Create()</a>, <a class="el" href="Casting_8h_source.html#l00332">llvm::dyn_cast()</a>, <a class="el" href="Constants_8cpp_source.html#l00704">llvm::ConstantInt::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01161">llvm::ConstantVector::get()</a>, <a class="el" href="Constants_8cpp_source.html#l01514">llvm::UndefValue::get()</a>, <a class="el" href="Value_8cpp_source.html#l00744">llvm::Value::getContext()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00399">llvm::SequentialType::getElementType()</a>, <a class="el" href="BasicBlock_8cpp_source.html#l00223">llvm::BasicBlock::getFirstInsertionPt()</a>, <a class="el" href="Type_8cpp_source.html#l00180">llvm::Type::getInt32Ty()</a>, <a class="el" href="User_8h_source.html#l00169">llvm::User::getOperand()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00066">llvm::Instruction::getParent()</a>, <a class="el" href="BasicBlock_8h_source.html#l00106">llvm::BasicBlock::getParent()</a>, <a class="el" href="Instructions_8h_source.html#l01953">llvm::InsertElementInst::getType()</a>, <a class="el" href="DerivedTypes_8h_source.html#l00566">llvm::Type::getVectorNumElements()</a>, <a class="el" href="Instructions_8h_source.html#l01885">llvm::ExtractElementInst::getVectorOperand()</a>, <a class="el" href="Instructions_8h_source.html#l01890">llvm::ExtractElementInst::getVectorOperandType()</a>, <a class="el" href="Value_8h_source.html#l00433">llvm::Value::hasOneUse()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00079">llvm::Instruction::insertAfter()</a>, <a class="el" href="InstCombineInternal_8h_source.html#l00655">llvm::InstCombiner::InsertNewInstWith()</a>, <a class="el" href="SmallVector_8h_source.html#l00211">llvm::SmallVectorTemplateBase&lt; T &gt;::push_back()</a>, <a class="el" href="InstCombineInternal_8h_source.html#l00666">llvm::InstCombiner::replaceInstUsesWith()</a>, <a class="el" href="IR_2Instruction_8h_source.html#l00063">llvm::Instruction::user_back()</a>, and <a class="el" href="Value_8h_source.html#l00420">llvm::Value::users()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InstCombineVectorOps_8cpp_source.html#l00606">collectShuffleElements()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 24 2020 13:16:03 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
