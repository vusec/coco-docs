<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::ValueProfileCollector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">10.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classllvm_1_1ValueProfileCollector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">llvm::ValueProfileCollector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility analysis that determines what values are worth profiling.  
 <a href="classllvm_1_1ValueProfileCollector.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="ValueProfileCollector_8h_source.html">Transforms/Instrumentation/ValueProfileCollector.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structllvm_1_1ValueProfileCollector_1_1CandidateInfo.html">CandidateInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValueProfileCollector_1_1ValueProfileCollectorImpl.html">ValueProfileCollectorImpl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classValueProfileCollector_1_1ValueProfileCollectorImpl.html" title="ValueProfileCollectorImpl inherits the API of PluginChainFinal. ">ValueProfileCollectorImpl</a> inherits the API of <a class="el" href="classPluginChainFinal.html">PluginChainFinal</a>.  <a href="classValueProfileCollector_1_1ValueProfileCollectorImpl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae9c808111e16c17dcccc857de1c84186"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#ae9c808111e16c17dcccc857de1c84186">ValueProfileCollector</a> (<a class="el" href="classllvm_1_1Function.html">Function</a> &amp;Fn)</td></tr>
<tr class="separator:ae9c808111e16c17dcccc857de1c84186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab95bf7037940be7329308cfb90c0b724"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#ab95bf7037940be7329308cfb90c0b724">ValueProfileCollector</a> (<a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:ab95bf7037940be7329308cfb90c0b724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a079c79c31d4a560c185a6eb446ccc64f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#a079c79c31d4a560c185a6eb446ccc64f">operator=</a> (<a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a079c79c31d4a560c185a6eb446ccc64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fbfb13e2bd71b792b862ff8a84ec9e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#a2fbfb13e2bd71b792b862ff8a84ec9e0">ValueProfileCollector</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;)=delete</td></tr>
<tr class="separator:a2fbfb13e2bd71b792b862ff8a84ec9e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16bc167d55fa134bedfbaecd01881211"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#a16bc167d55fa134bedfbaecd01881211">operator=</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;)=delete</td></tr>
<tr class="separator:a16bc167d55fa134bedfbaecd01881211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0073f9fb1fa718484c55b00335021d99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#a0073f9fb1fa718484c55b00335021d99">~ValueProfileCollector</a> ()</td></tr>
<tr class="separator:a0073f9fb1fa718484c55b00335021d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9051f7b5cb39eaecf1a333768670f72f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structllvm_1_1ValueProfileCollector_1_1CandidateInfo.html">CandidateInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classllvm_1_1ValueProfileCollector.html#a9051f7b5cb39eaecf1a333768670f72f">get</a> (<a class="el" href="namespacellvm.html#aa3a544a0d0dd4971f6c79d9869a1ffee">InstrProfValueKind</a> Kind) <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a></td></tr>
<tr class="memdesc:a9051f7b5cb39eaecf1a333768670f72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a list of value profiling candidates of the given kind  <a href="#a9051f7b5cb39eaecf1a333768670f72f">More...</a><br /></td></tr>
<tr class="separator:a9051f7b5cb39eaecf1a333768670f72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility analysis that determines what values are worth profiling. </p>
<p>The actual logic is inside the ValueProfileCollectorImpl, whose job is to populate the Candidates vector.</p>
<p><a class="el" href="classllvm_1_1Value.html" title="LLVM Value Representation. ">Value</a> profiling an expression means to track the values that this expression takes at runtime and the frequency of each value. It is important to distinguish between two sets of value profiles for a particular expression: 1) The set of values at the point of evaluation. 2) The set of values at the point of use. In some cases, the two sets are identical, but it's not unusual for the two to differ.</p>
<p>To elaborate more, consider this C code, and focus on the expression <code>nn</code>: void foo(int nn, bool b) { if (b) memcpy(x, y, nn); } The point of evaluation can be as early as the start of the function, and let's say the value profile for <code>nn</code> is: total=100; (value,freq) set = {(8,10), (32,50)} The point of use is right before we call memcpy, and since we execute the memcpy conditionally, the value profile of <code>nn</code> can be: total=15; (value,freq) set = {(8,10), (4,5)}</p>
<p>For this reason, a plugin is responsible for computing the insertion point for each value to be profiled. The <code><a class="el" href="structllvm_1_1ValueProfileCollector_1_1CandidateInfo.html">CandidateInfo</a></code> structure encapsulates all the information needed for each value profile site. </p>

<p class="definition">Definition at line <a class="el" href="ValueProfileCollector_8h_source.html#l00053">53</a> of file <a class="el" href="ValueProfileCollector_8h_source.html">ValueProfileCollector.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae9c808111e16c17dcccc857de1c84186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9c808111e16c17dcccc857de1c84186">&#9670;&nbsp;</a></span>ValueProfileCollector() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ValueProfileCollector::ValueProfileCollector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1Function.html">Function</a> &amp;&#160;</td>
          <td class="paramname"><em>Fn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ValueProfileCollector_8cpp_source.html#l00068">68</a> of file <a class="el" href="ValueProfileCollector_8cpp_source.html">ValueProfileCollector.cpp</a>.</p>

<p class="reference">References <a class="el" href="classllvm_1_1ValueProfileCollector.html#a0073f9fb1fa718484c55b00335021d99">~ValueProfileCollector()</a>.</p>

</div>
</div>
<a id="ab95bf7037940be7329308cfb90c0b724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab95bf7037940be7329308cfb90c0b724">&#9670;&nbsp;</a></span>ValueProfileCollector() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::ValueProfileCollector::ValueProfileCollector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2fbfb13e2bd71b792b862ff8a84ec9e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fbfb13e2bd71b792b862ff8a84ec9e0">&#9670;&nbsp;</a></span>ValueProfileCollector() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">llvm::ValueProfileCollector::ValueProfileCollector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0073f9fb1fa718484c55b00335021d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0073f9fb1fa718484c55b00335021d99">&#9670;&nbsp;</a></span>~ValueProfileCollector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ValueProfileCollector::~ValueProfileCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="ValueProfileCollector_8cpp_source.html#l00068">ValueProfileCollector()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9051f7b5cb39eaecf1a333768670f72f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9051f7b5cb39eaecf1a333768670f72f">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structllvm_1_1ValueProfileCollector_1_1CandidateInfo.html">CandidateInfo</a> &gt; ValueProfileCollector::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacellvm.html#aa3a544a0d0dd4971f6c79d9869a1ffee">InstrProfValueKind</a>&#160;</td>
          <td class="paramname"><em>Kind</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns a list of value profiling candidates of the given kind </p>

<p class="definition">Definition at line <a class="el" href="ValueProfileCollector_8cpp_source.html#l00074">74</a> of file <a class="el" href="ValueProfileCollector_8cpp_source.html">ValueProfileCollector.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="PGOInstrumentation_8cpp_source.html#l00463">INITIALIZE_PASS()</a>.</p>

</div>
</div>
<a id="a079c79c31d4a560c185a6eb446ccc64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a079c79c31d4a560c185a6eb446ccc64f">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a>&amp; llvm::ValueProfileCollector::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a16bc167d55fa134bedfbaecd01881211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16bc167d55fa134bedfbaecd01881211">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a>&amp; llvm::ValueProfileCollector::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1ValueProfileCollector.html">ValueProfileCollector</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/Transforms/Instrumentation/<a class="el" href="ValueProfileCollector_8h_source.html">ValueProfileCollector.h</a></li>
<li>lib/Transforms/Instrumentation/<a class="el" href="ValueProfileCollector_8cpp_source.html">ValueProfileCollector.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 24 2020 13:23:41 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
