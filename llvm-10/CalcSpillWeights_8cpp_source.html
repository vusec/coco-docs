<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/CalcSpillWeights.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">10.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">CalcSpillWeights.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="CalcSpillWeights_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- CalcSpillWeights.cpp -----------------------------------------------===//</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CalcSpillWeights_8h.html">llvm/CodeGen/CalcSpillWeights.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveInterval_8h.html">llvm/CodeGen/LiveInterval.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervals_8h.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineLoopInfo_8h.html">llvm/CodeGen/MachineLoopInfo.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetInstrInfo_8h.html">llvm/CodeGen/TargetInstrInfo.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtRegMap_8h.html">llvm/CodeGen/VirtRegMap.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="CalcSpillWeights_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   29</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;calcspillweights&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="namespacellvm.html#a2126563f368679e20a4d879569faba62">   31</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a2126563f368679e20a4d879569faba62">llvm::calculateSpillWeightsAndHints</a>(<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                           <a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF,</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                           <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> *VRM,</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineLoopInfo.html">MachineLoopInfo</a> &amp;MLI,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> &amp;MBFI,</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                           <a class="code" href="classllvm_1_1VirtRegAuxInfo.html#a59807a51d19513091899d1529603e6d5">VirtRegAuxInfo::NormalizingFn</a> norm) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;********** Compute Spill Weights **********\n&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;********** Function: &quot;</span> &lt;&lt; MF.<a class="code" href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">getName</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a> = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="classllvm_1_1VirtRegAuxInfo.html">VirtRegAuxInfo</a> VRAI(MF, LIS, VRM, MLI, MBFI, norm);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MRI.getNumVirtRegs(); i != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++i) {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = <a class="code" href="classllvm_1_1Register.html#a214d41566573f1f0035d941485fe6900">Register::index2VirtReg</a>(i);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (MRI.reg_nodbg_empty(Reg))</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    VRAI.<a class="code" href="classllvm_1_1VirtRegAuxInfo.html#a84937947b0f718462bb7b19679e47269">calculateSpillWeightAndHint</a>(LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Reg));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Return the preferred allocation register for reg, given a COPY instruction.</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="CalcSpillWeights_8cpp.html#ac73e1f0c34066aed95ab7178a905afe6">   51</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="CalcSpillWeights_8cpp.html#ac73e1f0c34066aed95ab7178a905afe6">copyHint</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *mi, <span class="keywordtype">unsigned</span> reg,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;tri,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                         <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;mri) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="FileCheck_8cpp.html#a53b2a0e88ec7d4cd1eec431b8bcf8013">sub</a>, hsub;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> hreg;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">if</span> (mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == reg) {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    sub = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    hreg = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    hsub = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    sub = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    hreg = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    hsub = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">getSubReg</a>();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (!hreg)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(hreg))</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> sub == hsub ? hreg : <a class="code" href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a>();</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterClass.html">TargetRegisterClass</a> *<a class="code" href="HexagonBitTracker_8cpp.html#a2e1b5bd9424a1d1082d4bd670b1a0be6">rc</a> = mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(reg);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> CopiedPReg = (hsub ? tri.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a2c74aa72029263fd570df0bc5edac5d7">getSubReg</a>(hreg, hsub) : hreg);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">if</span> (rc-&gt;<a class="code" href="classllvm_1_1TargetRegisterClass.html#abd520c7b7939c6d4c37dff9e30e23fc6">contains</a>(CopiedPReg))</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> CopiedPReg;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Check if reg:sub matches so that a super register could be hinted.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">if</span> (sub)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> tri.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#add685d2989450666a223c0d9e4c40876">getMatchingSuperReg</a>(CopiedPReg, sub, rc);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// Check if all values in LI are rematerializable</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="CalcSpillWeights_8cpp.html#acf3786541fca99cd433a51b55ebf9296">   85</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="CalcSpillWeights_8cpp.html#acf3786541fca99cd433a51b55ebf9296">isRematerializable</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a> &amp;LIS,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                               <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> *VRM,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetInstrInfo.html">TargetInstrInfo</a> &amp;<a class="code" href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a>) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a> = LI.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordtype">unsigned</span> Original = VRM ? VRM-&gt;<a class="code" href="classllvm_1_1VirtRegMap.html#ad297e65aa0d38e818dc8f74bf1bbc931">getOriginal</a>(Reg) : 0;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveRange.html#ade5d926ff67db0c0e9f873c13003bebc">LiveInterval::const_vni_iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LI.<a class="code" href="classllvm_1_1LiveRange.html#a5fb099e2afb74f4c922f32894b30b279">vni_begin</a>(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = LI.<a class="code" href="classllvm_1_1LiveRange.html#aca7b7d6f329690e6bd5b5e1c83db7c1e">vni_end</a>();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>())</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MI &amp;&amp; <span class="stringliteral">&quot;Dead valno in interval&quot;</span>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Trace copies introduced by live range splitting.  The inline</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// spiller can rematerialize through these copies, so the spill</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// weight must reflect this.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (VRM) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">while</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a6ee45760c97bf2dda6bee91508e6946e">isFullCopy</a>()) {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        <span class="comment">// The copy destination must match the interval register.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">if</span> (MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(0).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() != <a class="code" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment">// Get the source register.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        Reg = MI-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(1).<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// If the original (pre-splitting) registers match this</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="comment">// copy came from a split.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(Reg) ||</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            VRM-&gt;<a class="code" href="classllvm_1_1VirtRegMap.html#ad297e65aa0d38e818dc8f74bf1bbc931">getOriginal</a>(Reg) != Original)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="comment">// Follow the copy live-in value.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;SrcLI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(Reg);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> SrcQ = SrcLI.<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        VNI = SrcQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a5d1559bf322e157ea748763d08b56d52">valueIn</a>();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VNI &amp;&amp; <span class="stringliteral">&quot;Copy from non-existing value&quot;</span>);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>())</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        MI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MI &amp;&amp; <span class="stringliteral">&quot;Dead valno in interval&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">if</span> (!TII.<a class="code" href="classllvm_1_1TargetInstrInfo.html#a93883c1c4baf2e852a2ef4f86c6cf039">isTriviallyReMaterializable</a>(*MI, LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a05f1df035490747600c20701c8e8b0da">getAliasAnalysis</a>()))</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  }</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classllvm_1_1VirtRegAuxInfo.html#a84937947b0f718462bb7b19679e47269">  138</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1VirtRegAuxInfo.html#a84937947b0f718462bb7b19679e47269">VirtRegAuxInfo::calculateSpillWeightAndHint</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;li) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordtype">float</span> weight = <a class="code" href="classllvm_1_1VirtRegAuxInfo.html#aa9c8b5f8e9f5b93f80d78427da9f7d07">weightCalcHelper</a>(li);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Check if unspillable.</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (weight &lt; 0)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  li.<a class="code" href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">weight</a> = weight;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="classllvm_1_1VirtRegAuxInfo.html#acac7336357620dccc32348608a95194a">  146</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classllvm_1_1VirtRegAuxInfo.html#acac7336357620dccc32348608a95194a">VirtRegAuxInfo::futureWeight</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;li, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> start,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                                   <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1VirtRegAuxInfo.html#aa9c8b5f8e9f5b93f80d78427da9f7d07">weightCalcHelper</a>(li, &amp;start, &amp;end);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classllvm_1_1VirtRegAuxInfo.html#aa9c8b5f8e9f5b93f80d78427da9f7d07">  151</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classllvm_1_1VirtRegAuxInfo.html#aa9c8b5f8e9f5b93f80d78427da9f7d07">VirtRegAuxInfo::weightCalcHelper</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;li, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> *start,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                       <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> *<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;mri = MF.<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a> &amp;tri = *MF.<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *mbb = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="classllvm_1_1MachineLoop.html">MachineLoop</a> *loop = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">bool</span> isExiting = <span class="keyword">false</span>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">float</span> totalWeight = 0;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordtype">unsigned</span> numInstr = 0; <span class="comment">// Number of instructions using li</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;MachineInstr*, 8&gt;</a> visited;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  std::pair&lt;unsigned, unsigned&gt; TargetHint = mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5721f23077cefcde736c7e4d5e87990a">getRegAllocationHint</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// Don&#39;t recompute spill weight for an unspillable register.</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">bool</span> Spillable = li.<a class="code" href="classllvm_1_1LiveInterval.html#a1a07a284547e2997c90a6a1be428cd47">isSpillable</a>();</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">bool</span> localSplitArtifact = start &amp;&amp; <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// Do not update future local split artifacts.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">bool</span> updateLI = !localSplitArtifact;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (localSplitArtifact) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *localMBB = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(*end);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(localMBB == LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(*start) &amp;&amp;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;           <span class="stringliteral">&quot;start and end are expected to be in the same basic block&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="comment">// Local split artifact will have 2 additional copy instructions and they</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// will be in the same BB.</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// localLI = COPY other</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// ...</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// other   = COPY localLI</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    totalWeight += <a class="code" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">LiveIntervals::getSpillWeight</a>(<span class="keyword">true</span>, <span class="keyword">false</span>, &amp;MBFI, localMBB);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    totalWeight += <a class="code" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">LiveIntervals::getSpillWeight</a>(<span class="keyword">false</span>, <span class="keyword">true</span>, &amp;MBFI, localMBB);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    numInstr += 2;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// CopyHint is a sortable hint derived from a COPY instruction.</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keyword">struct </span>CopyHint {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">float</span> Weight;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">bool</span> IsPhys;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    CopyHint(<span class="keywordtype">unsigned</span> R, <span class="keywordtype">float</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, <span class="keywordtype">bool</span> <a class="code" href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a>) :</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a>(R), Weight(W), IsPhys(P) {}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a061b224a1a3c3486fd854e5009a858c9">operator&lt;</a>(<span class="keyword">const</span> CopyHint &amp;rhs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="comment">// Always prefer any physreg hint.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">if</span> (IsPhys != rhs.IsPhys)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span> (IsPhys &amp;&amp; !rhs.IsPhys);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">if</span> (Weight != rhs.Weight)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">return</span> (Weight &gt; rhs.Weight);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">return</span> Reg &lt; rhs.Reg; <span class="comment">// Tie-breaker.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  };</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  std::set&lt;CopyHint&gt; CopyHints;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">MachineRegisterInfo::reg_instr_iterator</a></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#af2d0b6074f2fcb4d38e61ab3b6e1d78d">reg_instr_begin</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a45911f3aacb9b7ea62d1fa8fc8180039">reg_instr_end</a>();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;       <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *mi = &amp;*(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// For local split artifacts, we are interested only in instructions between</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// the expected start and end of the range.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> si = LIS.getInstructionIndex(*mi);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (localSplitArtifact &amp;&amp; ((si &lt; *start) || (si &gt; *end)))</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    numInstr++;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">if</span> (mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#add5255eb40b106f13738476389bfa5a6">isIdentityCopy</a>() || mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a120ccebe70e1b0ddf72fc776229d0025">isImplicitDef</a>() || mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a42020afbcac5113c831c00294a0ac37f">isDebugInstr</a>())</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (!visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(mi).second)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordtype">float</span> weight = 1.0f;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (Spillable) {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="comment">// Get loop info for mi.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">if</span> (mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>() != mbb) {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        mbb = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>();</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        loop = <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.getLoopFor(mbb);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        isExiting = loop ? loop-&gt;<a class="code" href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">isLoopExiting</a>(mbb) : <span class="keyword">false</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="comment">// Calculate instr weight.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordtype">bool</span> reads, writes;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      std::tie(reads, writes) = mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a374fc9d9064a93ef8a408f269d02389d">readsWritesVirtualRegister</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      weight = <a class="code" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">LiveIntervals::getSpillWeight</a>(writes, reads, &amp;MBFI, *mi);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="comment">// Give extra weight to what looks like a loop induction variable update.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">if</span> (writes &amp;&amp; isExiting &amp;&amp; LIS.isLiveOutOfMBB(li, mbb))</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        weight *= 3;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      totalWeight += weight;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// Get allocation hints from copies.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (!mi-&gt;<a class="code" href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">isCopy</a>())</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> hint = <a class="code" href="CalcSpillWeights_8cpp.html#ac73e1f0c34066aed95ab7178a905afe6">copyHint</a>(mi, li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>, tri, mri);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (!hint)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Force hweight onto the stack so that x86 doesn&#39;t add hidden precision,</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// making the comparison incorrectly pass (i.e., 1 &gt; 1 == true??).</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// FIXME: we probably shouldn&#39;t use floats at all.</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keyword">volatile</span> <span class="keywordtype">float</span> hweight = Hint[hint] += weight;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(hint) || mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a8c52645cdf8bf296f62276354ddffad1">isAllocatable</a>(hint))</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      CopyHints.insert(</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;          CopyHint(hint, hweight, <a class="code" href="classllvm_1_1Register.html#af4aef3aa547629015801993f9d393109">Register::isPhysicalRegister</a>(hint)));</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  Hint.clear();</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">// Pass all the sorted copy hints to mri.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">if</span> (updateLI &amp;&amp; CopyHints.size()) {</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Remove a generic hint if previously added by target.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (TargetHint.first == 0 &amp;&amp; TargetHint.second)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a81fd0dc0cbc3134b6d267fe5d471f8fa">clearSimpleHint</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    std::set&lt;unsigned&gt; HintedRegs;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Hint : CopyHints) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <span class="keywordflow">if</span> (!HintedRegs.insert(Hint.Reg).second ||</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          (TargetHint.first != 0 &amp;&amp; Hint.Reg == TargetHint.second))</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="comment">// Don&#39;t add the same reg twice or the target-type hint again.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      mri.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aff8c24566f38978fcc22e831bf96a2cb">addRegAllocationHint</a>(li.<a class="code" href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">reg</a>, Hint.Reg);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">// Weakly boost the spill weight of hinted registers.</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    totalWeight *= 1.01F;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// If the live interval was already unspillable, leave it that way.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (!Spillable)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> -1.0;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// Mark li as unspillable if all live ranges are tiny and the interval</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// is not live at any reg mask.  If the interval is live at a reg mask</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">// spilling may be required.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">if</span> (updateLI &amp;&amp; li.<a class="code" href="classllvm_1_1LiveRange.html#a61f530037a29a00a48799b14104a68d1">isZeroLength</a>(LIS.getSlotIndexes()) &amp;&amp;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      !li.<a class="code" href="classllvm_1_1LiveRange.html#a4e12c0cb71a44b8822c5a35cbbe5c731">isLiveAtIndexes</a>(LIS.getRegMaskSlots())) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    li.<a class="code" href="classllvm_1_1LiveInterval.html#a0f0455af60f6cc894c2f580b82042b0b">markNotSpillable</a>();</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> -1.0;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// If all of the definitions of the interval are re-materializable,</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">// it is a preferred candidate for spilling.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// FIXME: this gets much more complicated once we support non-trivial</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// re-materialization.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CalcSpillWeights_8cpp.html#acf3786541fca99cd433a51b55ebf9296">isRematerializable</a>(li, LIS, VRM, *MF.getSubtarget().getInstrInfo()))</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    totalWeight *= 0.5F;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">if</span> (localSplitArtifact)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> normalize(totalWeight, start-&gt;<a class="code" href="classllvm_1_1SlotIndex.html#a3dd5f1d73bfabd16cd66faed5108534c">distance</a>(*end), numInstr);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">return</span> normalize(totalWeight, li.<a class="code" href="classllvm_1_1LiveInterval.html#a5d81038ff196d7a9495ff9f7266d667c">getSize</a>(), numInstr);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div><div class="ttc" id="TargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1VNInfo_html_ae72fbcf51be7574c84817cde814df07e"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">llvm::VNInfo::isPHIDef</a></div><div class="ttdeci">bool isPHIDef() const</div><div class="ttdoc">Returns true if this value is defined by a PHI instruction (or was, PHI instructions may have been el...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00077">LiveInterval.h:77</a></div></div>
<div class="ttc" id="namespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path. </div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00233">Path.cpp:233</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegAuxInfo_html"><div class="ttname"><a href="classllvm_1_1VirtRegAuxInfo.html">llvm::VirtRegAuxInfo</a></div><div class="ttdoc">Calculate auxiliary information for a virtual register such as its spill weight and allocation hint...</div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8h_source.html#l00046">CalcSpillWeights.h:46</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a4ec9ddf8db4481c798f557e8af82693f"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a4ec9ddf8db4481c798f557e8af82693f">llvm::LiveInterval::reg</a></div><div class="ttdeci">const unsigned reg</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00708">LiveInterval.h:708</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html_abd520c7b7939c6d4c37dff9e30e23fc6"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html#abd520c7b7939c6d4c37dff9e30e23fc6">llvm::TargetRegisterClass::contains</a></div><div class="ttdeci">bool contains(unsigned Reg) const</div><div class="ttdoc">Return true if the specified register is included in this register class. </div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00089">TargetRegisterInfo.h:89</a></div></div>
<div class="ttc" id="MachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="classllvm_1_1VNInfo_html_ae623a0f1ab59da851f2ebf1674d1fddb"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">llvm::VNInfo::def</a></div><div class="ttdeci">SlotIndex def</div><div class="ttdoc">The index of the defining instruction. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00060">LiveInterval.h:60</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_acea41c547dfea3df92104de6edb5e3c7"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">llvm::LiveIntervals::getSpillWeight</a></div><div class="ttdeci">static float getSpillWeight(bool isDef, bool isUse, const MachineBlockFrequencyInfo *MBFI, const MachineInstr &amp;MI)</div><div class="ttdoc">Calculate the spill weight to assign to a single instruction. </div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00864">LiveIntervals.cpp:864</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a8c52645cdf8bf296f62276354ddffad1"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a8c52645cdf8bf296f62276354ddffad1">llvm::MachineRegisterInfo::isAllocatable</a></div><div class="ttdeci">bool isAllocatable(unsigned PhysReg) const</div><div class="ttdoc">isAllocatable - Returns true when PhysReg belongs to an allocatable register class and it hasn&amp;#39;t been...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00915">MachineRegisterInfo.h:915</a></div></div>
<div class="ttc" id="namespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This class represents lattice values for constants. </div><div class="ttdef"><b>Definition:</b> <a href="AllocatorList_8h_source.html#l00023">AllocatorList.h:23</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00223">MachineFunction.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it. </div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00123">TargetSubtargetInfo.h:123</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_a5fb099e2afb74f4c922f32894b30b279"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a5fb099e2afb74f4c922f32894b30b279">llvm::LiveRange::vni_begin</a></div><div class="ttdeci">vni_iterator vni_begin()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00223">LiveInterval.h:223</a></div></div>
<div class="ttc" id="classllvm_1_1Register_html_af4aef3aa547629015801993f9d393109"><div class="ttname"><a href="classllvm_1_1Register.html#af4aef3aa547629015801993f9d393109">llvm::Register::isPhysicalRegister</a></div><div class="ttdeci">static bool isPhysicalRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace. </div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00063">Register.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html"><div class="ttname"><a href="classllvm_1_1LiveInterval.html">llvm::LiveInterval</a></div><div class="ttdoc">LiveInterval - This class represents the liveness of a register, or stack slot. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00679">LiveInterval.h:679</a></div></div>
<div class="ttc" id="Debug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="MachineSink_8cpp_html_a359e1ff26f6d466d927a61aae45b05c3"><div class="ttname"><a href="MachineSink_8cpp.html#a359e1ff26f6d466d927a61aae45b05c3">Reg</a></div><div class="ttdeci">unsigned Reg</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01139">MachineSink.cpp:1139</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_a028a8c5113d40d8c3f4427053bf36738"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a028a8c5113d40d8c3f4427053bf36738">llvm::MachineOperand::getSubReg</a></div><div class="ttdeci">unsigned getSubReg() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00363">MachineOperand.h:363</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_a4e12c0cb71a44b8822c5a35cbbe5c731"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a4e12c0cb71a44b8822c5a35cbbe5c731">llvm::LiveRange::isLiveAtIndexes</a></div><div class="ttdeci">bool isLiveAtIndexes(ArrayRef&lt; SlotIndex &gt; Slots) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00814">LiveInterval.cpp:814</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdoc">MachineBlockFrequencyInfo pass uses BlockFrequencyInfoImpl implementation to estimate machine basic b...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00033">MachineBlockFrequencyInfo.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1Register_html_a214d41566573f1f0035d941485fe6900"><div class="ttname"><a href="classllvm_1_1Register.html#a214d41566573f1f0035d941485fe6900">llvm::Register::index2VirtReg</a></div><div class="ttdeci">static unsigned index2VirtReg(unsigned Index)</div><div class="ttdoc">Convert a 0-based index to a virtual register number. </div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00083">Register.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1VNInfo_html"><div class="ttname"><a href="classllvm_1_1VNInfo.html">llvm::VNInfo</a></div><div class="ttdoc">VNInfo - Value Number Information. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00052">LiveInterval.h:52</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register. </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00631">MachineRegisterInfo.h:631</a></div></div>
<div class="ttc" id="classllvm_1_1VNInfo_html_ab72366fd538f240cbb53dac39368cdfc"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">llvm::VNInfo::isUnused</a></div><div class="ttdeci">bool isUnused() const</div><div class="ttdoc">Returns true if this value is unused. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00080">LiveInterval.h:80</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00054">LiveIntervals.h:54</a></div></div>
<div class="ttc" id="HexagonHardwareLoops_8cpp_html_ada7c1594a393ede3ce32602d64d7ddb2"><div class="ttname"><a href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a></div><div class="ttdeci">Hexagon Hardware Loops</div><div class="ttdef"><b>Definition:</b> <a href="HexagonHardwareLoops_8cpp_source.html#l00371">HexagonHardwareLoops.cpp:371</a></div></div>
<div class="ttc" id="MachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="HexagonCopyToCombine_8cpp_html_a1d40004718218dbdf06b496766299101"><div class="ttname"><a href="HexagonCopyToCombine_8cpp.html#a1d40004718218dbdf06b496766299101">TII</a></div><div class="ttdeci">const HexagonInstrInfo * TII</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCopyToCombine_8cpp_source.html#l00127">HexagonCopyToCombine.cpp:127</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a374fc9d9064a93ef8a408f269d02389d"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a374fc9d9064a93ef8a408f269d02389d">llvm::MachineInstr::readsWritesVirtualRegister</a></div><div class="ttdeci">std::pair&lt; bool, bool &gt; readsWritesVirtualRegister(Register Reg, SmallVectorImpl&lt; unsigned &gt; *Ops=nullptr) const</div><div class="ttdoc">Return a pair of bools (reads, writes) indicating if this instruction reads or writes Reg...</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8cpp_source.html#l00963">MachineInstr.cpp:963</a></div></div>
<div class="ttc" id="classllvm_1_1LiveQueryResult_html"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html">llvm::LiveQueryResult</a></div><div class="ttdoc">Result of a LiveRange query. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00089">LiveInterval.h:89</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterClass_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterClass.html">llvm::TargetRegisterClass</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00044">TargetRegisterInfo.h:44</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a45911f3aacb9b7ea62d1fa8fc8180039"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a45911f3aacb9b7ea62d1fa8fc8180039">llvm::MachineRegisterInfo::reg_instr_end</a></div><div class="ttdeci">static reg_instr_iterator reg_instr_end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00297">MachineRegisterInfo.h:297</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo_1_1defusechain__instr__iterator.html">llvm::MachineRegisterInfo::defusechain_instr_iterator</a></div><div class="ttdoc">defusechain_iterator - This class provides iterator support for machine operands in the function that...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00269">MachineRegisterInfo.h:269</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_ada0488ce8dde6e7677f28b8ddbafdcbd"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">llvm::LiveIntervals::getInstructionFromIndex</a></div><div class="ttdeci">MachineInstr * getInstructionFromIndex(SlotIndex index) const</div><div class="ttdoc">Returns the instruction associated with the given index. </div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00231">LiveIntervals.h:231</a></div></div>
<div class="ttc" id="CalcSpillWeights_8cpp_html_acf3786541fca99cd433a51b55ebf9296"><div class="ttname"><a href="CalcSpillWeights_8cpp.html#acf3786541fca99cd433a51b55ebf9296">isRematerializable</a></div><div class="ttdeci">static bool isRematerializable(const LiveInterval &amp;LI, const LiveIntervals &amp;LIS, VirtRegMap *VRM, const TargetInstrInfo &amp;TII)</div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00085">CalcSpillWeights.cpp:85</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a6ee45760c97bf2dda6bee91508e6946e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a6ee45760c97bf2dda6bee91508e6946e">llvm::MachineInstr::isFullCopy</a></div><div class="ttdeci">bool isFullCopy() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01119">MachineInstr.h:1119</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_add5255eb40b106f13738476389bfa5a6"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#add5255eb40b106f13738476389bfa5a6">llvm::MachineInstr::isIdentityCopy</a></div><div class="ttdeci">bool isIdentityCopy() const</div><div class="ttdoc">Return true is the instruction is an identity copy. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01134">MachineInstr.h:1134</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_a2c74aa72029263fd570df0bc5edac5d7"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a2c74aa72029263fd570df0bc5edac5d7">llvm::TargetRegisterInfo::getSubReg</a></div><div class="ttdeci">Register getSubReg(MCRegister Reg, unsigned Idx) const</div><div class="ttdoc">Returns the physical register number of sub-register &quot;Index&quot; for physical register RegNo...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00979">TargetRegisterInfo.h:979</a></div></div>
<div class="ttc" id="SmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoop_html"><div class="ttname"><a href="classllvm_1_1MachineLoop.html">llvm::MachineLoop</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00045">MachineLoopInfo.h:45</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a05f1df035490747600c20701c8e8b0da"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a05f1df035490747600c20701c8e8b0da">llvm::LiveIntervals::getAliasAnalysis</a></div><div class="ttdeci">AliasAnalysis * getAliasAnalysis() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00215">LiveIntervals.h:215</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegMap_html"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html">llvm::VirtRegMap</a></div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00033">VirtRegMap.h:33</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_a61f530037a29a00a48799b14104a68d1"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a61f530037a29a00a48799b14104a68d1">llvm::LiveRange::isZeroLength</a></div><div class="ttdeci">bool isZeroLength(SlotIndexes *Indexes) const</div><div class="ttdoc">Returns true if the live range is zero length, i.e. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00577">LiveInterval.h:577</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a3d142c9e7c066059e15232c56dec9e2e"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a3d142c9e7c066059e15232c56dec9e2e">llvm::MachineFunction::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdoc">getName - Return the name of the corresponding LLVM function. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00499">MachineFunction.cpp:499</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegAuxInfo_html_acac7336357620dccc32348608a95194a"><div class="ttname"><a href="classllvm_1_1VirtRegAuxInfo.html#acac7336357620dccc32348608a95194a">llvm::VirtRegAuxInfo::futureWeight</a></div><div class="ttdeci">float futureWeight(LiveInterval &amp;li, SlotIndex start, SlotIndex end)</div><div class="ttdoc">Compute future expected spill weight of a split artifact of li that will span between start and end s...</div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00146">CalcSpillWeights.cpp:146</a></div></div>
<div class="ttc" id="classllvm_1_1LiveQueryResult_html_a5d1559bf322e157ea748763d08b56d52"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#a5d1559bf322e157ea748763d08b56d52">llvm::LiveQueryResult::valueIn</a></div><div class="ttdeci">VNInfo * valueIn() const</div><div class="ttdoc">Return the value that is live-in to the instruction. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00104">LiveInterval.h:104</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_a6eb0e49d283729a5f8b99d4efa1be7c1"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">llvm::LiveRange::Query</a></div><div class="ttdeci">LiveQueryResult Query(SlotIndex Idx) const</div><div class="ttdoc">Query Liveness at Idx. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00532">LiveInterval.h:532</a></div></div>
<div class="ttc" id="MachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html">llvm::TargetInstrInfo</a></div><div class="ttdoc">TargetInstrInfo - Interface to description of machine instruction set. </div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00089">TargetInstrInfo.h:89</a></div></div>
<div class="ttc" id="HexagonBitTracker_8cpp_html_a2e1b5bd9424a1d1082d4bd670b1a0be6"><div class="ttname"><a href="HexagonBitTracker_8cpp.html#a2e1b5bd9424a1d1082d4bd670b1a0be6">rc</a></div><div class="ttdeci">#define rc(i)</div></div>
<div class="ttc" id="Option_8cpp_html_a04665169063c8ca1f2ea96c27fc7c2b2"><div class="ttname"><a href="Option_8cpp.html#a04665169063c8ca1f2ea96c27fc7c2b2">P</a></div><div class="ttdeci">#define P(N)</div></div>
<div class="ttc" id="AArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_ade5d926ff67db0c0e9f873c13003bebc"><div class="ttname"><a href="classllvm_1_1LiveRange.html#ade5d926ff67db0c0e9f873c13003bebc">llvm::LiveRange::const_vni_iterator</a></div><div class="ttdeci">VNInfoList::const_iterator const_vni_iterator</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00221">LiveInterval.h:221</a></div></div>
<div class="ttc" id="CalcSpillWeights_8h_html"><div class="ttname"><a href="CalcSpillWeights_8h.html">CalcSpillWeights.h</a></div></div>
<div class="ttc" id="classllvm_1_1LoopBase_html_af691775d5a45e28afbdb3e97cab22eee"><div class="ttname"><a href="classllvm_1_1LoopBase.html#af691775d5a45e28afbdb3e97cab22eee">llvm::LoopBase::isLoopExiting</a></div><div class="ttdeci">bool isLoopExiting(const BlockT *BB) const</div><div class="ttdoc">True if terminator in the block can branch to another block that is outside of the current loop...</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00208">LoopInfo.h:208</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00469">MachineFunction.h:469</a></div></div>
<div class="ttc" id="BuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="TargetInstrInfo_8h_html"><div class="ttname"><a href="TargetInstrInfo_8h.html">TargetInstrInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr. </div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00370">SmallPtrSet.h:370</a></div></div>
<div class="ttc" id="classllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00065">MachineBasicBlock.h:65</a></div></div>
<div class="ttc" id="CalcSpillWeights_8cpp_html_ac73e1f0c34066aed95ab7178a905afe6"><div class="ttname"><a href="CalcSpillWeights_8cpp.html#ac73e1f0c34066aed95ab7178a905afe6">copyHint</a></div><div class="ttdeci">static Register copyHint(const MachineInstr *mi, unsigned reg, const TargetRegisterInfo &amp;tri, const MachineRegisterInfo &amp;mri)</div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00051">CalcSpillWeights.cpp:51</a></div></div>
<div class="ttc" id="namespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00057">MathExtras.h:57</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a25c117ac45bfbbcf69dc0b674db2d1ea"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">llvm::LiveIntervals::getInterval</a></div><div class="ttdeci">LiveInterval &amp; getInterval(Register Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00114">LiveIntervals.h:114</a></div></div>
<div class="ttc" id="classllvm_1_1LiveIntervals_html_a5b83266ee091a07ac1702d0e8c4a1937"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">llvm::LiveIntervals::getMBBFromIndex</a></div><div class="ttdeci">MachineBasicBlock * getMBBFromIndex(SlotIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00255">LiveIntervals.h:255</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a1912d4fbc40c61a12b1f770ad54dfd74"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a1912d4fbc40c61a12b1f770ad54dfd74">llvm::MachineInstr::isCopy</a></div><div class="ttdeci">bool isCopy() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01115">MachineInstr.h:1115</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a120ccebe70e1b0ddf72fc776229d0025"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a120ccebe70e1b0ddf72fc776229d0025">llvm::MachineInstr::isImplicitDef</a></div><div class="ttdeci">bool isImplicitDef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01084">MachineInstr.h:1084</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00228">TargetRegisterInfo.h:228</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a42020afbcac5113c831c00294a0ac37f"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a42020afbcac5113c831c00294a0ac37f">llvm::MachineInstr::isDebugInstr</a></div><div class="ttdeci">bool isDebugInstr() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l01059">MachineInstr.h:1059</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegAuxInfo_html_aa9c8b5f8e9f5b93f80d78427da9f7d07"><div class="ttname"><a href="classllvm_1_1VirtRegAuxInfo.html#aa9c8b5f8e9f5b93f80d78427da9f7d07">llvm::VirtRegAuxInfo::weightCalcHelper</a></div><div class="ttdeci">float weightCalcHelper(LiveInterval &amp;li, SlotIndex *start=nullptr, SlotIndex *end=nullptr)</div><div class="ttdoc">Helper function for weight calculations. </div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00151">CalcSpillWeights.cpp:151</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a99eec2c4ba894baca5b197e940b095f6"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a99eec2c4ba894baca5b197e940b095f6">llvm::LiveInterval::weight</a></div><div class="ttdeci">float weight</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00709">LiveInterval.h:709</a></div></div>
<div class="ttc" id="classllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements...</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00443">SmallPtrSet.h:443</a></div></div>
<div class="ttc" id="namespacellvm_html_a2126563f368679e20a4d879569faba62"><div class="ttname"><a href="namespacellvm.html#a2126563f368679e20a4d879569faba62">llvm::calculateSpillWeightsAndHints</a></div><div class="ttdeci">void calculateSpillWeightsAndHints(LiveIntervals &amp;LIS, MachineFunction &amp;MF, VirtRegMap *VRM, const MachineLoopInfo &amp;MLI, const MachineBlockFrequencyInfo &amp;MBFI, VirtRegAuxInfo::NormalizingFn norm=normalizeSpillWeight)</div><div class="ttdoc">Compute spill weights and allocation hints for all virtual register live intervals. </div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00031">CalcSpillWeights.cpp:31</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a5721f23077cefcde736c7e4d5e87990a"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5721f23077cefcde736c7e4d5e87990a">llvm::MachineRegisterInfo::getRegAllocationHint</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; getRegAllocationHint(Register VReg) const</div><div class="ttdoc">getRegAllocationHint - Return the register allocation hint for the specified virtual register...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00792">MachineRegisterInfo.h:792</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegAuxInfo_html_a84937947b0f718462bb7b19679e47269"><div class="ttname"><a href="classllvm_1_1VirtRegAuxInfo.html#a84937947b0f718462bb7b19679e47269">llvm::VirtRegAuxInfo::calculateSpillWeightAndHint</a></div><div class="ttdeci">void calculateSpillWeightAndHint(LiveInterval &amp;li)</div><div class="ttdoc">(re)compute li&amp;#39;s spill weight and allocation hint. </div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8cpp_source.html#l00138">CalcSpillWeights.cpp:138</a></div></div>
<div class="ttc" id="Mem2Reg_8cpp_html_a6fde3eb6ca09ddf2fd76432176d817bb"><div class="ttname"><a href="Mem2Reg_8cpp.html#a6fde3eb6ca09ddf2fd76432176d817bb">Register</a></div><div class="ttdeci">Promote Memory to Register</div><div class="ttdef"><b>Definition:</b> <a href="Mem2Reg_8cpp_source.html#l00110">Mem2Reg.cpp:110</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_a81fd0dc0cbc3134b6d267fe5d471f8fa"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a81fd0dc0cbc3134b6d267fe5d471f8fa">llvm::MachineRegisterInfo::clearSimpleHint</a></div><div class="ttdeci">void clearSimpleHint(unsigned VReg)</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00782">MachineRegisterInfo.h:782</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a0f0455af60f6cc894c2f580b82042b0b"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a0f0455af60f6cc894c2f580b82042b0b">llvm::LiveInterval::markNotSpillable</a></div><div class="ttdeci">void markNotSpillable()</div><div class="ttdoc">markNotSpillable - Mark interval as not spillable </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00813">LiveInterval.h:813</a></div></div>
<div class="ttc" id="namespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages. </div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00132">Debug.cpp:132</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a5d81038ff196d7a9495ff9f7266d667c"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a5d81038ff196d7a9495ff9f7266d667c">llvm::LiveInterval::getSize</a></div><div class="ttdeci">unsigned getSize() const</div><div class="ttdoc">getSize - Returns the sum of sizes of all the LiveRange&amp;#39;s. </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00969">LiveInterval.cpp:969</a></div></div>
<div class="ttc" id="LiveIntervals_8h_html"><div class="ttname"><a href="LiveIntervals_8h.html">LiveIntervals.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00271">MachineInstr.h:271</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers, including vreg register classes, use/def chains for registers, etc. </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00052">MachineRegisterInfo.h:52</a></div></div>
<div class="ttc" id="MachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction. </div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00063">MachineInstr.h:63</a></div></div>
<div class="ttc" id="classllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use. </div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00479">MachineFunction.h:479</a></div></div>
<div class="ttc" id="classllvm_1_1TargetRegisterInfo_html_add685d2989450666a223c0d9e4c40876"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#add685d2989450666a223c0d9e4c40876">llvm::TargetRegisterInfo::getMatchingSuperReg</a></div><div class="ttdeci">unsigned getMatchingSuperReg(unsigned Reg, unsigned SubIdx, const TargetRegisterClass *RC) const</div><div class="ttdoc">Return a super-register of the specified register Reg so its sub-register of index SubIdx is Reg...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00516">TargetRegisterInfo.h:516</a></div></div>
<div class="ttc" id="classllvm_1_1SlotIndex_html_a3dd5f1d73bfabd16cd66faed5108534c"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a3dd5f1d73bfabd16cd66faed5108534c">llvm::SlotIndex::distance</a></div><div class="ttdeci">int distance(SlotIndex other) const</div><div class="ttdoc">Return the distance from this index to the given one. </div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00214">SlotIndexes.h:214</a></div></div>
<div class="ttc" id="TargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="MD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="VirtRegMap_8h_html"><div class="ttname"><a href="VirtRegMap_8h.html">VirtRegMap.h</a></div></div>
<div class="ttc" id="SILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="namespacellvm_html_a061b224a1a3c3486fd854e5009a858c9"><div class="ttname"><a href="namespacellvm.html#a061b224a1a3c3486fd854e5009a858c9">llvm::operator&lt;</a></div><div class="ttdeci">bool operator&lt;(int64_t V1, const APSInt &amp;V2)</div><div class="ttdef"><b>Definition:</b> <a href="APSInt_8h_source.html#l00343">APSInt.h:343</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_aff8c24566f38978fcc22e831bf96a2cb"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aff8c24566f38978fcc22e831bf96a2cb">llvm::MachineRegisterInfo::addRegAllocationHint</a></div><div class="ttdeci">void addRegAllocationHint(unsigned VReg, unsigned PrefReg)</div><div class="ttdoc">addRegAllocationHint - Add a register allocation hint to the hints vector for VReg. </div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00771">MachineRegisterInfo.h:771</a></div></div>
<div class="ttc" id="classllvm_1_1LiveInterval_html_a1a07a284547e2997c90a6a1be428cd47"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a1a07a284547e2997c90a6a1be428cd47">llvm::LiveInterval::isSpillable</a></div><div class="ttdeci">bool isSpillable() const</div><div class="ttdoc">isSpillable - Can this interval be spilled? </div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00808">LiveInterval.h:808</a></div></div>
<div class="ttc" id="classllvm_1_1Register_html_ab94ac0eb79655589fb116359f862886c"><div class="ttname"><a href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">llvm::Register::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace. </div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00069">Register.h:69</a></div></div>
<div class="ttc" id="namespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00095">RISCVBaseInfo.h:95</a></div></div>
<div class="ttc" id="LiveInterval_8h_html"><div class="ttname"><a href="LiveInterval_8h.html">LiveInterval.h</a></div></div>
<div class="ttc" id="FileCheck_8cpp_html_a53b2a0e88ec7d4cd1eec431b8bcf8013"><div class="ttname"><a href="FileCheck_8cpp.html#a53b2a0e88ec7d4cd1eec431b8bcf8013">sub</a></div><div class="ttdeci">static uint64_t sub(uint64_t LeftOp, uint64_t RightOp)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00212">FileCheck.cpp:212</a></div></div>
<div class="ttc" id="classllvm_1_1TargetInstrInfo_html_a93883c1c4baf2e852a2ef4f86c6cf039"><div class="ttname"><a href="classllvm_1_1TargetInstrInfo.html#a93883c1c4baf2e852a2ef4f86c6cf039">llvm::TargetInstrInfo::isTriviallyReMaterializable</a></div><div class="ttdeci">bool isTriviallyReMaterializable(const MachineInstr &amp;MI, AAResults *AA=nullptr) const</div><div class="ttdoc">Return true if the instruction is trivially rematerializable, meaning it has no side effects and requ...</div><div class="ttdef"><b>Definition:</b> <a href="TargetInstrInfo_8h_source.html#l00116">TargetInstrInfo.h:116</a></div></div>
<div class="ttc" id="IRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00093">IRTranslator.cpp:93</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegAuxInfo_html_a59807a51d19513091899d1529603e6d5"><div class="ttname"><a href="classllvm_1_1VirtRegAuxInfo.html#a59807a51d19513091899d1529603e6d5">llvm::VirtRegAuxInfo::NormalizingFn</a></div><div class="ttdeci">float(*)(float, unsigned, unsigned) NormalizingFn</div><div class="ttdef"><b>Definition:</b> <a href="CalcSpillWeights_8h_source.html#l00048">CalcSpillWeights.h:48</a></div></div>
<div class="ttc" id="raw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="classllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number. </div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00358">MachineOperand.h:358</a></div></div>
<div class="ttc" id="classllvm_1_1MachineLoopInfo_html"><div class="ttname"><a href="classllvm_1_1MachineLoopInfo.html">llvm::MachineLoopInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8h_source.html#l00084">MachineLoopInfo.h:84</a></div></div>
<div class="ttc" id="Debug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00122">Debug.h:122</a></div></div>
<div class="ttc" id="classllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00431">MachineInstr.h:431</a></div></div>
<div class="ttc" id="classllvm_1_1SlotIndex_html"><div class="ttname"><a href="classllvm_1_1SlotIndex.html">llvm::SlotIndex</a></div><div class="ttdoc">SlotIndex - An opaque wrapper around machine indexes. </div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00083">SlotIndexes.h:83</a></div></div>
<div class="ttc" id="classllvm_1_1VirtRegMap_html_ad297e65aa0d38e818dc8f74bf1bbc931"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html#ad297e65aa0d38e818dc8f74bf1bbc931">llvm::VirtRegMap::getOriginal</a></div><div class="ttdeci">unsigned getOriginal(unsigned VirtReg) const</div><div class="ttdoc">getOriginal - Return the original virtual register that VirtReg descends from through splitting...</div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00148">VirtRegMap.h:148</a></div></div>
<div class="ttc" id="classllvm_1_1LiveRange_html_aca7b7d6f329690e6bd5b5e1c83db7c1e"><div class="ttname"><a href="classllvm_1_1LiveRange.html#aca7b7d6f329690e6bd5b5e1c83db7c1e">llvm::LiveRange::vni_end</a></div><div class="ttdeci">vni_iterator vni_end()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00224">LiveInterval.h:224</a></div></div>
<div class="ttc" id="classllvm_1_1MachineRegisterInfo_html_af2d0b6074f2fcb4d38e61ab3b6e1d78d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#af2d0b6074f2fcb4d38e61ab3b6e1d78d">llvm::MachineRegisterInfo::reg_instr_begin</a></div><div class="ttdeci">reg_instr_iterator reg_instr_begin(unsigned RegNo) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00294">MachineRegisterInfo.h:294</a></div></div>
<div class="ttc" id="classllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers. </div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="MachineLoopInfo_8h_html"><div class="ttname"><a href="MachineLoopInfo_8h.html">MachineLoopInfo.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 24 2020 13:09:06 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
