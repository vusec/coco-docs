<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class ScheduleHazardRecognizer: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageE07F240057278813"><span>class ScheduleHazardRecognizer</span></a></li></ul></nav><main class="content"><h1>class ScheduleHazardRecognizer</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class ScheduleHazardRecognizer { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>HazardRecognizer - This determines whether or not an instruction can be issued this cycle, and whether or not a noop needs to be inserted to handle the hazard.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L25">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:25</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_MaxLookAhead">protected  unsigned int <b>MaxLookAhead</b> = 0</dt><dd>MaxLookAhead - Indicate the number of cycles in the scoreboard state. Important to restore the state after backtracking. Additionally, MaxLookAhead=0 identifies a fake recognizer, allowing the client to bypass virtual calls. Currently the PostRA scheduler ignores it.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public virtual void  <a href="#58400B3E849D9C97"><b>AdvanceCycle</b></a>()</li><li class="is-family-code">public virtual void  <a href="#A77D4188F25D672B"><b>EmitInstruction</b></a>(llvm::SUnit *)</li><li class="is-family-code">public virtual void  <a href="#F6B4D9BC4046596E"><b>EmitInstruction</b></a>(llvm::MachineInstr *)</li><li class="is-family-code">public virtual void  <a href="#87FAC6ED31F13C38"><b>EmitNoop</b></a>()</li><li class="is-family-code">public virtual unsigned int  <a href="#D0B5EE69239E7DC5"><b>PreEmitNoops</b></a>(llvm::SUnit *)</li><li class="is-family-code">public virtual unsigned int  <a href="#9A704A4A9D5CC156"><b>PreEmitNoops</b></a>(llvm::MachineInstr *)</li><li class="is-family-code">public virtual void  <a href="#34C8270D5FA8E836"><b>RecedeCycle</b></a>()</li><li class="is-family-code">public virtual void  <a href="#78C701F1B5BFFF05"><b>Reset</b></a>()</li><li class="is-family-code">public  <a href="#58C646638BD29497"><b>ScheduleHazardRecognizer</b></a>()</li><li class="is-family-code">public virtual bool  <a href="#DB00A928417F92C6"><b>ShouldPreferAnother</b></a>(llvm::SUnit *)</li><li class="is-family-code">public virtual bool  <a href="#F81399082CEEBED0"><b>atIssueLimit</b></a>() const</li><li class="is-family-code">public virtual llvm::ScheduleHazardRecognizer::HazardType  <a href="#0C3DBFBC221D83F7"><b>getHazardType</b></a>(llvm::SUnit * m, int Stalls = 0)</li><li class="is-family-code">public unsigned int  <a href="#91334DC34520C124"><b>getMaxLookAhead</b></a>() const</li><li class="is-family-code">public bool  <a href="#E97D2E21867BAABF"><b>isEnabled</b></a>() const</li><li class="is-family-code">public virtual  <a href="#51A1DED0700035C1"><b>~ScheduleHazardRecognizer</b></a>()</li></ul><h2>Methods</h2><h3 id="58400B3E849D9C97"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#58400B3E849D9C97">¶</a><code class="hdoc-function-code language-cpp">virtual void AdvanceCycle()</code></pre></h3><h4>Description</h4><p>AdvanceCycle - This callback is invoked whenever the next top-down instruction to be scheduled cannot issue in the current cycle, either because of latency or resource conflicts.  This should increment the internal state of the hazard recognizer so that previously &quot;Hazard&quot; instructions will now not be hazards.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L104">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:104</a></p><h3 id="A77D4188F25D672B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A77D4188F25D672B">¶</a><code class="hdoc-function-code language-cpp">virtual void EmitInstruction(<a href="r797825A51C914642.html">llvm::SUnit</a>*)</code></pre></h3><h4>Description</h4><p>EmitInstruction - This callback is invoked when an instruction is emitted, to advance the hazard state.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L71">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:71</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> </b></dt></dl><h3 id="F6B4D9BC4046596E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F6B4D9BC4046596E">¶</a><code class="hdoc-function-code language-cpp">virtual void EmitInstruction(<a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>*)</code></pre></h3><h4>Description</h4><p>This overload will be used when the hazard recognizer is being used by a non-scheduling pass, which does not use SUnits.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L75">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:75</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>*<b> </b></dt></dl><h3 id="87FAC6ED31F13C38"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#87FAC6ED31F13C38">¶</a><code class="hdoc-function-code language-cpp">virtual void EmitNoop()</code></pre></h3><h4>Description</h4><p>EmitNoop - This callback is invoked when a noop was added to the instruction stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L113">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:113</a></p><h3 id="D0B5EE69239E7DC5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D0B5EE69239E7DC5">¶</a><code class="hdoc-function-code language-cpp">virtual unsigned int PreEmitNoops(<a href="r797825A51C914642.html">llvm::SUnit</a>*)</code></pre></h3><h4>Description</h4><p>PreEmitNoops - This callback is invoked prior to emitting an instruction. It should return the number of noops to emit prior to the provided instruction. Note: This is only used during PostRA scheduling. EmitNoop is not called for these noops.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L82">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:82</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> </b></dt></dl><h3 id="9A704A4A9D5CC156"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9A704A4A9D5CC156">¶</a><code class="hdoc-function-code language-cpp">virtual unsigned int PreEmitNoops(
    <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>*)</code></pre></h3><h4>Description</h4><p>This overload will be used when the hazard recognizer is being used by a non-scheduling pass, which does not use SUnits.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L88">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:88</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>*<b> </b></dt></dl><h3 id="34C8270D5FA8E836"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#34C8270D5FA8E836">¶</a><code class="hdoc-function-code language-cpp">virtual void RecedeCycle()</code></pre></h3><h4>Description</h4><p>RecedeCycle - This callback is invoked whenever the next bottom-up instruction to be scheduled cannot issue in the current cycle, either because of latency or resource conflicts.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L109">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:109</a></p><h3 id="78C701F1B5BFFF05"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#78C701F1B5BFFF05">¶</a><code class="hdoc-function-code language-cpp">virtual void Reset()</code></pre></h3><h4>Description</h4><p>Reset - This callback is invoked when a new block of instructions is about to be schedule. The hazard state should be set to an initialized state.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L67">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:67</a></p><h3 id="58C646638BD29497"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#58C646638BD29497">¶</a><code class="hdoc-function-code language-cpp">ScheduleHazardRecognizer()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L34">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:34</a></p><h3 id="DB00A928417F92C6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DB00A928417F92C6">¶</a><code class="hdoc-function-code language-cpp">virtual bool ShouldPreferAnother(<a href="r797825A51C914642.html">llvm::SUnit</a>*)</code></pre></h3><h4>Description</h4><p>ShouldPreferAnother - This callback may be invoked if getHazardType returns NoHazard. If, even though there is no hazard, it would be better to schedule another available instruction, this callback should return true.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L95">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:95</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> </b></dt></dl><h3 id="F81399082CEEBED0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F81399082CEEBED0">¶</a><code class="hdoc-function-code language-cpp">virtual bool atIssueLimit() const</code></pre></h3><h4>Description</h4><p>atIssueLimit - Return true if no more instructions may be issued in this cycle. FIXME: remove this once MachineScheduler is the only client.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L51">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:51</a></p><h3 id="0C3DBFBC221D83F7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0C3DBFBC221D83F7">¶</a><code class="hdoc-function-code language-cpp">virtual llvm::ScheduleHazardRecognizer::HazardType
getHazardType(<a href="r797825A51C914642.html">llvm::SUnit</a>* m, int Stalls = 0)</code></pre></h3><h4>Description</h4><p>getHazardType - Return the hazard type of emitting this node.  There are three possible results.  Either: * NoHazard: it is legal to issue this instruction on this cycle. * Hazard: issuing this instruction would stall the machine.  If some other instruction is available, issue it first. * NoopHazard: issuing this instruction would break the program.  If some other instruction can be issued, do so, otherwise issue a noop.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L60">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:60</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r797825A51C914642.html">llvm::SUnit</a>*<b> m</b></dt><dt class="is-family-code">int<b> Stalls</b> = 0</dt></dl><h3 id="91334DC34520C124"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#91334DC34520C124">¶</a><code class="hdoc-function-code language-cpp">unsigned int getMaxLookAhead() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L43">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:43</a></p><h3 id="E97D2E21867BAABF"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E97D2E21867BAABF">¶</a><code class="hdoc-function-code language-cpp">bool isEnabled() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L45">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:45</a></p><h3 id="51A1DED0700035C1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#51A1DED0700035C1">¶</a><code class="hdoc-function-code language-cpp">virtual ~ScheduleHazardRecognizer()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h#L35">llvm/include/llvm/CodeGen/ScheduleHazardRecognizer.h:35</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>