<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct Header: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#BF3258AEA677DB5D"><span>namespace gsym</span></a></li><li class="is-active"><a aria-current="pageEA75A5A26EB5B316"><span>struct Header</span></a></li></ul></nav><main class="content"><h1>struct Header</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct Header { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>The GSYM header. The GSYM header is found at the start of a stand alone GSYM file, or as the first bytes in a section when GSYM is contained in a section of an executable file (ELF, mach-o, COFF). The structure is encoded exactly as it appears in the structure definition with no gaps between members. Alignment should not change from system to system as the members were laid out so that they shouldn&apos;t align differently on different architectures. When endianness of the system loading a GSYM file matches, the file can be mmap&apos;ed in and a pointer to the header can be cast to the first bytes of the file (stand alone GSYM file) or section data (GSYM in a section). When endianness is swapped, the Header::decode() function should be used to decode the header.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/Header.h#L45">llvm/include/llvm/DebugInfo/GSYM/Header.h:45</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Magic">public  uint32_t <b>Magic</b></dt><dd>The magic bytes should be set to GSYM_MAGIC. This helps detect if a file is a GSYM file by scanning the first 4 bytes of a file or section. This value might appear byte swapped</dd><dt class="is-family-code" id="var_Version">public  uint16_t <b>Version</b></dt><dd>The version can number determines how the header is decoded and how each InfoType in FunctionInfo is encoded/decoded. As version numbers increase, &quot;Magic&quot; and &quot;Version&quot; members should always appear at offset zero and 4 respectively to ensure clients figure out if they can parse the format.</dd><dt class="is-family-code" id="var_AddrOffSize">public  uint8_t <b>AddrOffSize</b></dt><dd>The size in bytes of each address offset in the address offsets table.</dd><dt class="is-family-code" id="var_UUIDSize">public  uint8_t <b>UUIDSize</b></dt><dd>The size in bytes of the UUID encoded in the &quot;UUID&quot; member.</dd><dt class="is-family-code" id="var_BaseAddress">public  uint64_t <b>BaseAddress</b></dt><dd>The 64 bit base address that all address offsets in the address offsets table are relative to. Storing a full 64 bit address allows our address offsets table to be smaller on disk.</dd><dt class="is-family-code" id="var_NumAddresses">public  uint32_t <b>NumAddresses</b></dt><dd>The number of addresses stored in the address offsets table.</dd><dt class="is-family-code" id="var_StrtabOffset">public  uint32_t <b>StrtabOffset</b></dt><dd>The file relative offset of the start of the string table for strings contained in the GSYM file. If the GSYM in contained in a stand alone file this will be the file offset of the start of the string table. If the GSYM is contained in a section within an executable file, this can be the offset of the first string used in the GSYM file and can possibly span one or more executable string tables. This allows the strings to share string tables in an ELF or mach-o file.</dd><dt class="is-family-code" id="var_StrtabSize">public  uint32_t <b>StrtabSize</b></dt><dd>The size in bytes of the string table. For a stand alone GSYM file, this will be the exact size in bytes of the string table. When the GSYM data is in a section within an executable file, this size can span one or more sections that contains strings. This allows any strings that are already stored in the executable file to be re-used, and any extra strings could be added to another string table and the string table offset and size can be set to span all needed string tables.</dd><dt class="is-family-code" id="var_UUID">public  uint8_t[20] <b>UUID</b></dt><dd>The UUID of the original executable file. This is stored to allow matching a GSYM file to an executable file when symbolication is required. Only the first &quot;UUIDSize&quot; bytes of the UUID are valid. Any bytes in the UUID value that appear after the first UUIDSize bytes should be set to zero.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public llvm::Error  <a href="#77F37C5304F89CC9"><b>checkForError</b></a>() const</li><li class="is-family-code">public static llvm::Expected&lt;Header&gt;  <a href="#880B5C4C014EF030"><b>decode</b></a>(llvm::DataExtractor &amp; Data)</li><li class="is-family-code">public llvm::Error  <a href="#47455BEDE1AC0C27"><b>encode</b></a>(llvm::gsym::FileWriter &amp; O) const</li></ul><h2>Methods</h2><h3 id="77F37C5304F89CC9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#77F37C5304F89CC9">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> checkForError() const</code></pre></h3><h4>Description</h4><p>Check if a header is valid and return an error if anything is wrong. This function can be used prior to encoding a header to ensure it is valid, or after decoding a header to ensure it is valid and supported. Check a correctly byte swapped header for errors: - check magic value - check that version number is supported - check that the address offset size is supported - check that the UUID size is valid</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/Header.h#L101">llvm/include/llvm/DebugInfo/GSYM/Header.h:101</a></p><h4>Returns</h4><p>An error if anything is wrong in the header, or Error::success() if there are no errors.</p><h3 id="880B5C4C014EF030"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#880B5C4C014EF030">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">llvm::Expected</a>&lt;Header&gt; decode(
    <a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp; Data)</code></pre></h3><h4>Description</h4><p>Decode an object from a binary data stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/Header.h#L111">llvm/include/llvm/DebugInfo/GSYM/Header.h:111</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp;<b> Data</b></dt><dd>The binary stream to read the data from. This object must have the data for the object starting at offset zero. The data can contain more data than needed.</dd></dl><h4>Returns</h4><p>A Header or an error describing the issue that was encountered during decoding.</p><h3 id="47455BEDE1AC0C27"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#47455BEDE1AC0C27">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> encode(
    <a href="r8C7403547ECE28F8.html">llvm::gsym::FileWriter</a>&amp; O) const</code></pre></h3><h4>Description</h4><p>Encode this object into FileWriter stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/Header.h#L120">llvm/include/llvm/DebugInfo/GSYM/Header.h:120</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r8C7403547ECE28F8.html">llvm::gsym::FileWriter</a>&amp;<b> O</b></dt><dd>The binary stream to write the data to at the current file position.</dd></dl><h4>Returns</h4><p>An error object that indicates success or failure of the encoding process.</p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>