<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class PriorityWorklist: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page2F0DAE222DD03565"><span>class PriorityWorklist</span></a></li></ul></nav><main class="content"><h1>class PriorityWorklist</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">template &lt;typename T,
          typename VectorT = std::vector&lt;T&gt;,
          typename MapT = DenseMap&lt;T, ptrdiff_t&gt;&gt;
class PriorityWorklist { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>A FILO worklist that prioritizes on re-insertion without duplication. This is very similar to a \c SetVector with the primary difference that while re-insertion does not create a duplicate, it does adjust the visitation order to respect the last insertion point. This can be useful when the visit order needs to be prioritized based on insertion point without actually having duplicate visits. Note that this doesn&apos;t prevent re-insertion of elements which have been visited -- if you need to break cycles, a set will still be necessary. The type \c T must be default constructable to a null value that will be ignored. It is an error to insert such a value, and popping elements will never produce such a value. It is expected to be used with common nullable types like pointers or optionals. Internally this uses a vector to store the worklist and a map to identify existing elements in the worklist. Both of these may be customized, but the map must support the basic DenseMap API for mapping from a T to an integer index into the vector. A partial specialization is provided to automatically select a SmallVector and a SmallDenseMap if custom data structures are not provided.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L56">llvm/include/llvm/ADT/PriorityWorklist.h:56</a></p><h2>Templates</h2><dl><dt class="is-family-code"><b> T</b></dt><dt class="is-family-code"><b> VectorT</b> = std::vector&lt;T&gt;</dt><dt class="is-family-code"><b> MapT</b> = DenseMap&lt;T, ptrdiff_t&gt;</dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#D1976C388FE18971"><b>PriorityWorklist&lt;T, VectorT, MapT&gt;</b></a>()</li><li class="is-family-code">public const T &amp;  <a href="#CB08CA3B86211187"><b>back</b></a>() const</li><li class="is-family-code">public void  <a href="#073576B9DC98CB02"><b>clear</b></a>()</li><li class="is-family-code">public llvm::PriorityWorklist::size_type  <a href="#E11EA1D58262ACB2"><b>count</b></a>(const llvm::PriorityWorklist::key_type &amp; key) const</li><li class="is-family-code">public bool  <a href="#BCDEFF27BAAB724D"><b>empty</b></a>() const</li><li class="is-family-code">public bool  <a href="#79AA99BE28E8CED8"><b>erase</b></a>(const T &amp; X)</li><li class="is-family-code">public template &lt;typename UnaryPredicate&gt;bool  <a href="#47E7AE0239389CDC"><b>erase_if</b></a>(UnaryPredicate P)</li><li class="is-family-code">public bool  <a href="#103708DB4FEA0AE3"><b>insert</b></a>(const T &amp; X)</li><li class="is-family-code">public template &lt;typename SequenceT&gt;typename std::enable_if&lt;!std::is_convertible&lt;SequenceT, T&gt;::value&gt;::type  <a href="#A33BFC9B7DA8103C"><b>insert</b></a>(SequenceT &amp;&amp; Input)</li><li class="is-family-code">public void  <a href="#464B3E9C64DA1AC9"><b>pop_back</b></a>()</li><li class="is-family-code">public T  <a href="#B60EDAE10EC25345"><b>pop_back_val</b></a>()</li><li class="is-family-code">public llvm::PriorityWorklist::size_type  <a href="#055CB68C3B5CB96C"><b>size</b></a>() const</li></ul><h2>Methods</h2><h3 id="D1976C388FE18971"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D1976C388FE18971">¶</a><code class="hdoc-function-code language-cpp">PriorityWorklist&lt;T, VectorT, MapT&gt;()</code></pre></h3><h4>Description</h4><p>Construct an empty PriorityWorklist</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L65">llvm/include/llvm/ADT/PriorityWorklist.h:65</a></p><h3 id="CB08CA3B86211187"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#CB08CA3B86211187">¶</a><code class="hdoc-function-code language-cpp">const T&amp; back() const</code></pre></h3><h4>Description</h4><p>Return the last element of the PriorityWorklist.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L84">llvm/include/llvm/ADT/PriorityWorklist.h:84</a></p><h3 id="073576B9DC98CB02"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#073576B9DC98CB02">¶</a><code class="hdoc-function-code language-cpp">void clear()</code></pre></h3><h4>Description</h4><p>Completely clear the PriorityWorklist</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L212">llvm/include/llvm/ADT/PriorityWorklist.h:212</a></p><h3 id="E11EA1D58262ACB2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E11EA1D58262ACB2">¶</a><code class="hdoc-function-code language-cpp">llvm::PriorityWorklist::size_type count(
    const llvm::PriorityWorklist::key_type&amp; key)
    const</code></pre></h3><h4>Description</h4><p>Count the number of elements of a given key in the PriorityWorklist.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L79">llvm/include/llvm/ADT/PriorityWorklist.h:79</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const llvm::PriorityWorklist::key_type&amp;<b> key</b></dt></dl><h4>Returns</h4><p>0 if the element is not in the PriorityWorklist, 1 if it is.</p><h3 id="BCDEFF27BAAB724D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BCDEFF27BAAB724D">¶</a><code class="hdoc-function-code language-cpp">bool empty() const</code></pre></h3><h4>Description</h4><p>Determine if the PriorityWorklist is empty or not.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L68">llvm/include/llvm/ADT/PriorityWorklist.h:68</a></p><h3 id="79AA99BE28E8CED8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#79AA99BE28E8CED8">¶</a><code class="hdoc-function-code language-cpp">bool erase(const T&amp; X)</code></pre></h3><h4>Description</h4><p>Erase an item from the worklist. Note that this is constant time due to the nature of the worklist implementation.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L163">llvm/include/llvm/ADT/PriorityWorklist.h:163</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const T&amp;<b> X</b></dt></dl><h3 id="47E7AE0239389CDC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#47E7AE0239389CDC">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename UnaryPredicate&gt;
bool erase_if(UnaryPredicate P)</code></pre></h3><h4>Description</h4><p>Erase items from the set vector based on a predicate function. This is intended to be equivalent to the following code, if we could write it: However, PriorityWorklist doesn&apos;t expose non-const iterators, making any algorithm like remove_if impossible to use.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L194">llvm/include/llvm/ADT/PriorityWorklist.h:194</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> UnaryPredicate</b></dt></dl><h4>Parameters</h4><dl><dt class="is-family-code">UnaryPredicate<b> P</b></dt></dl><h4>Returns</h4><p>true if any element is removed.</p><h3 id="103708DB4FEA0AE3"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#103708DB4FEA0AE3">¶</a><code class="hdoc-function-code language-cpp">bool insert(const T&amp; X)</code></pre></h3><h4>Description</h4><p>Insert a new element into the PriorityWorklist.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L91">llvm/include/llvm/ADT/PriorityWorklist.h:91</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const T&amp;<b> X</b></dt></dl><h4>Returns</h4><p>true if the element was inserted into the PriorityWorklist.</p><h3 id="A33BFC9B7DA8103C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A33BFC9B7DA8103C">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename SequenceT&gt;
typename std::enable_if&lt;
    !std::is_convertible&lt;SequenceT,
                         T&gt;::value&gt;::type
insert(SequenceT&amp;&amp; Input)</code></pre></h3><h4>Description</h4><p>Insert a sequence of new elements into the PriorityWorklist.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L114">llvm/include/llvm/ADT/PriorityWorklist.h:114</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> SequenceT</b></dt></dl><h4>Parameters</h4><dl><dt class="is-family-code">SequenceT&amp;&amp;<b> Input</b></dt></dl><h3 id="464B3E9C64DA1AC9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#464B3E9C64DA1AC9">¶</a><code class="hdoc-function-code language-cpp">void pop_back()</code></pre></h3><h4>Description</h4><p>Remove the last element of the PriorityWorklist.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L145">llvm/include/llvm/ADT/PriorityWorklist.h:145</a></p><h3 id="B60EDAE10EC25345"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B60EDAE10EC25345">¶</a><code class="hdoc-function-code language-cpp">T pop_back_val()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L154">llvm/include/llvm/ADT/PriorityWorklist.h:154</a></p><h3 id="055CB68C3B5CB96C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#055CB68C3B5CB96C">¶</a><code class="hdoc-function-code language-cpp">llvm::PriorityWorklist::size_type size() const</code></pre></h3><h4>Description</h4><p>Returns the number of elements in the worklist.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/PriorityWorklist.h#L73">llvm/include/llvm/ADT/PriorityWorklist.h:73</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>