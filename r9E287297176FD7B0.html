<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class InnerLoopUnroller: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page9E287297176FD7B0"><span>class InnerLoopUnroller</span></a></li></ul></nav><main class="content"><h1>class InnerLoopUnroller</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class InnerLoopUnroller : public InnerLoopVectorizer { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>InnerLoopVectorizer vectorizes loops which contain only one basic block to a specified vectorization factor (VF). This class performs the widening of scalars into vectors, or multiple scalars. This class also implements the following features: * It inserts an epilogue loop for handling loops that don&apos;t have iteration counts that are known to be a multiple of the vectorization factor. * It handles the code generation for reduction variables. * Scalarization (implementation using scalars) of un-vectorizable instructions. InnerLoopVectorizer does not perform any vectorization-legality checks, and relies on the caller to check for the different legality aspects. The InnerLoopVectorizer relies on the LoopVectorizationLegality class to provide information about the induction and reduction variables that were found to a given vectorization factor.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/LoopVectorize.cpp#L779">llvm/lib/Transforms/Vectorize/LoopVectorize.cpp:779</a></p><p>Inherits from: <a href="rA5D9404ADB6C8186.html">InnerLoopVectorizer</a></p><h2>Member Variables</h2><p>Inherited from <a href="rA5D9404ADB6C8186.html">InnerLoopVectorizer</a>:</p><dl><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_OrigLoop">protected <b>OrigLoop</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_PSE">protected <b>PSE</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LI">protected <b>LI</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_DT">protected <b>DT</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_AA">protected <b>AA</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_TLI">protected <b>TLI</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_TTI">protected <b>TTI</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_AC">protected <b>AC</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_ORE">protected <b>ORE</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LVer">protected <b>LVer</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_VF">protected <b>VF</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_UF">protected <b>UF</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_Builder">protected <b>Builder</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopVectorPreHeader">protected <b>LoopVectorPreHeader</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopScalarPreHeader">protected <b>LoopScalarPreHeader</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopMiddleBlock">protected <b>LoopMiddleBlock</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopExitBlock">protected <b>LoopExitBlock</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopVectorBody">protected <b>LoopVectorBody</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopScalarBody">protected <b>LoopScalarBody</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_LoopBypassBlocks">protected <b>LoopBypassBlocks</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_Induction">protected <b>Induction</b></a> = nullptr</dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_OldInduction">protected <b>OldInduction</b></a> = nullptr</dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_VectorLoopValueMap">protected <b>VectorLoopValueMap</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_PredicatedInstructions">protected <b>PredicatedInstructions</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_TripCount">protected <b>TripCount</b></a> = nullptr</dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_VectorTripCount">protected <b>VectorTripCount</b></a> = nullptr</dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_Legal">protected <b>Legal</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_Cost">protected <b>Cost</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_AddedSafetyChecks">protected <b>AddedSafetyChecks</b></a> = false</dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_IVEndValues">protected <b>IVEndValues</b></a></dt><dt class="is-family-code"><a href="rA5D9404ADB6C8186.html#var_OrigPHIsToFix">protected <b>OrigPHIsToFix</b></a></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#C41A5A70E5D1A381"><b>InnerLoopUnroller</b></a>(llvm::Loop * OrigLoop, llvm::PredicatedScalarEvolution &amp; PSE, llvm::LoopInfo * LI, llvm::DominatorTree * DT, const llvm::TargetLibraryInfo * TLI, const llvm::TargetTransformInfo * TTI, llvm::AssumptionCache * AC, llvm::OptimizationRemarkEmitter * ORE, unsigned int UnrollFactor, llvm::LoopVectorizationLegality * LVL, llvm::LoopVectorizationCostModel * CM)</li></ul><p>Inherited from <a href="rA5D9404ADB6C8186.html">InnerLoopVectorizer</a>:</p><ul><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#7C5DD98D1B809D75">protected <b>addMetadata</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#4082467DE1DF8DF5">protected <b>addMetadata</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#7C8939B4DD2C770B">protected <b>addNewMetadata</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#E3C9997B18088D72">public <b>areSafetyChecksAdded</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#DAAEBC7F29752EB4">protected <b>buildScalarSteps</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#631C54D46979353F">protected <b>clearReductionWrapFlags</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#C7D66FE08CA78423">protected <b>createBitOrPointerCast</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#96B4CCF23363B749">protected <b>createInductionVariable</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#35561EBD58207084">protected <b>createVectorIntOrFpInductionPHI</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#40B61E566B5DF872">public <b>createVectorizedLoopSkeleton</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#1BBDA1107D5B62CB">protected <b>emitMemRuntimeChecks</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#F13D9821A611565E">protected <b>emitMinimumIterationCountCheck</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#AD3D3C2371A7353C">protected <b>emitSCEVChecks</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#75C55964C75BD2A3">protected <b>emitTransformedIndex</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#95F7446BE07F29FC">protected <b>fixCrossIterationPHIs</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#26718C546B3DB602">protected <b>fixFirstOrderRecurrence</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#5DFBA44E6042C7EC">protected <b>fixLCSSAPHIs</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#7BABD36C01344F8C">public <b>fixNonInductionPHIs</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#E00A902F5CAEB896">protected <b>fixReduction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#96AA5C0553295D4D">public <b>fixVectorizedLoop</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#D853EA1630922974">protected <b>fixupIVUsers</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#54BAB49D3423C093">protected <b>getBroadcastInstrs</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#2CC8D151A0E6FD14">public <b>getOrCreateScalarValue</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#31CEAE776B6917C6">protected <b>getOrCreateTripCount</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#3794D41A2C64A34F">protected <b>getOrCreateVectorTripCount</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#EE55480020C6E736">public <b>getOrCreateVectorValue</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#A3CC810EBE7C9D0D">protected <b>getStepVector</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#05AFAA89292D5804">protected <b>needsScalarInduction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#F0E416D5ABA50556">public <b>packScalarIntoVectorValue</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#7BCF1B7F79E10226">protected <b>recordVectorLoopValueForInductionCast</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#120E95871BE01989">protected <b>reverseVector</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#2A1686508270BAD4">public <b>scalarizeInstruction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#FE709CC171570F2B">public <b>setDebugLocFromInst</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#B6BEC39BCC15F35E">protected <b>shouldScalarizeInstruction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#500FBC3A2995AE67">protected <b>sinkScalarOperands</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#685FA03A3E1A7898">protected <b>truncateToMinimalBitwidths</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#DD017F28F7D53C5D">public <b>vectorizeInterleaveGroup</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#BEE268F0266A93C9">public <b>vectorizeMemoryInstruction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#195B10269C6B3712">public <b>widenGEP</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#26DDDFA127A09AB4">public <b>widenInstruction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#00D8000152703282">public <b>widenIntOrFpInduction</b></a></li><li class="is-family-code"><a href="rA5D9404ADB6C8186.html#D2030BB5C3C7B0F6">public <b>widenPHIInstruction</b></a></li></ul><h2>Methods</h2><h3 id="C41A5A70E5D1A381"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C41A5A70E5D1A381">Â¶</a><code class="hdoc-function-code language-cpp">InnerLoopUnroller(
    <a href="r210AF08D1E341AC3.html">llvm::Loop</a>* OrigLoop,
    <a href="rB18B275B6D5D599D.html">llvm::PredicatedScalarEvolution</a>&amp; PSE,
    <a href="r289205FCE270195C.html">llvm::LoopInfo</a>* LI,
    <a href="r597D5CB55B73E338.html">llvm::DominatorTree</a>* DT,
    const <a href="r8801A6B76136C2E2.html">llvm::TargetLibraryInfo</a>* TLI,
    const <a href="r76DB21423DDE140B.html">llvm::TargetTransformInfo</a>* TTI,
    <a href="r53E6B995390ACBF6.html">llvm::AssumptionCache</a>* AC,
    <a href="r30BFE297D838EDE4.html">llvm::OptimizationRemarkEmitter</a>* ORE,
    unsigned int UnrollFactor,
    <a href="r34A790BE0D292910.html">llvm::LoopVectorizationLegality</a>* LVL,
    <a href="rD478F0D4DBC4BB42.html">llvm::LoopVectorizationCostModel</a>* CM)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Vectorize/LoopVectorize.cpp#L781">llvm/lib/Transforms/Vectorize/LoopVectorize.cpp:781</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r210AF08D1E341AC3.html">llvm::Loop</a>*<b> OrigLoop</b></dt><dt class="is-family-code"><a href="rB18B275B6D5D599D.html">llvm::PredicatedScalarEvolution</a>&amp;<b> PSE</b></dt><dt class="is-family-code"><a href="r289205FCE270195C.html">llvm::LoopInfo</a>*<b> LI</b></dt><dt class="is-family-code"><a href="r597D5CB55B73E338.html">llvm::DominatorTree</a>*<b> DT</b></dt><dt class="is-family-code">const <a href="r8801A6B76136C2E2.html">llvm::TargetLibraryInfo</a>*<b> TLI</b></dt><dt class="is-family-code">const <a href="r76DB21423DDE140B.html">llvm::TargetTransformInfo</a>*<b> TTI</b></dt><dt class="is-family-code"><a href="r53E6B995390ACBF6.html">llvm::AssumptionCache</a>*<b> AC</b></dt><dt class="is-family-code"><a href="r30BFE297D838EDE4.html">llvm::OptimizationRemarkEmitter</a>*<b> ORE</b></dt><dt class="is-family-code">unsigned int<b> UnrollFactor</b></dt><dt class="is-family-code"><a href="r34A790BE0D292910.html">llvm::LoopVectorizationLegality</a>*<b> LVL</b></dt><dt class="is-family-code"><a href="rD478F0D4DBC4BB42.html">llvm::LoopVectorizationCostModel</a>*<b> CM</b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>