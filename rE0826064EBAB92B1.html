<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct Config: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#AE3E6D317D639486"><span>namespace lto</span></a></li><li class="is-active"><a aria-current="pageE0826064EBAB92B1"><span>struct Config</span></a></li></ul></nav><main class="content"><h1>struct Config</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct Config { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>LTO configuration. A linker can configure LTO by setting fields in this data structure and passing it to the lto::LTO constructor.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/Config.h#L38">llvm/include/llvm/LTO/Config.h:38</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_CPU">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>CPU</b></dt><dt class="is-family-code" id="var_Options">public  llvm::TargetOptions <b>Options</b></dt><dt class="is-family-code" id="var_MAttrs">public  <a href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a>&lt;std::string&gt; <b>MAttrs</b></dt><dt class="is-family-code" id="var_RelocModel">public  <a href="r6607998C23E31109.html">Optional</a>&lt;Reloc::Model&gt; <b>RelocModel</b> = Reloc::PIC_</dt><dt class="is-family-code" id="var_CodeModel">public  <a href="r6607998C23E31109.html">Optional</a>&lt;CodeModel::Model&gt; <b>CodeModel</b> = None</dt><dt class="is-family-code" id="var_CGOptLevel">public  CodeGenOpt::Level <b>CGOptLevel</b> = CodeGenOpt::Default</dt><dt class="is-family-code" id="var_CGFileType">public  llvm::CodeGenFileType <b>CGFileType</b> = CGFT_ObjectFile</dt><dt class="is-family-code" id="var_OptLevel">public  unsigned int <b>OptLevel</b> = 2</dt><dt class="is-family-code" id="var_DisableVerify">public  bool <b>DisableVerify</b> = false</dt><dt class="is-family-code" id="var_UseNewPM">public  bool <b>UseNewPM</b> = false</dt><dd>Use the new pass manager</dd><dt class="is-family-code" id="var_Freestanding">public  bool <b>Freestanding</b> = false</dt><dd>Flag to indicate that the optimizer should not assume builtins are present on the target.</dd><dt class="is-family-code" id="var_CodeGenOnly">public  bool <b>CodeGenOnly</b> = false</dt><dd>Disable entirely the optimizer, including importing for ThinLTO</dd><dt class="is-family-code" id="var_RunCSIRInstr">public  bool <b>RunCSIRInstr</b> = false</dt><dd>Run PGO context sensitive IR instrumentation.</dd><dt class="is-family-code" id="var_OptPipeline">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>OptPipeline</b></dt><dd>If this field is set, the set of passes run in the middle-end optimizer will be the one specified by the string. Only works with the new pass manager as the old one doesn&apos;t have this ability.</dd><dt class="is-family-code" id="var_AAPipeline">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>AAPipeline</b></dt><dt class="is-family-code" id="var_OverrideTriple">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>OverrideTriple</b></dt><dd>Setting this field will replace target triples in input files with this triple.</dd><dt class="is-family-code" id="var_DefaultTriple">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>DefaultTriple</b></dt><dd>Setting this field will replace unspecified target triples in input files with this triple.</dd><dt class="is-family-code" id="var_CSIRProfile">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>CSIRProfile</b></dt><dd>Context Sensitive PGO profile path.</dd><dt class="is-family-code" id="var_SampleProfile">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>SampleProfile</b></dt><dd>Sample PGO profile path.</dd><dt class="is-family-code" id="var_ProfileRemapping">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>ProfileRemapping</b></dt><dd>Name remapping file for profile data.</dd><dt class="is-family-code" id="var_DwoDir">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>DwoDir</b></dt><dd>The directory to store .dwo files.</dd><dt class="is-family-code" id="var_SplitDwarfFile">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>SplitDwarfFile</b></dt><dd>The name for the split debug info file used for the DW_AT_[GNU_]dwo_name attribute in the skeleton CU. This should generally only be used when running an individual backend directly via thinBackend(), as otherwise all objects would use the same .dwo file. Not used as output path.</dd><dt class="is-family-code" id="var_SplitDwarfOutput">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>SplitDwarfOutput</b></dt><dd>The path to write a .dwo file to. This should generally only be used when running an individual backend directly via thinBackend(), as otherwise all .dwo files will be written to the same path. Not used in skeleton CU.</dd><dt class="is-family-code" id="var_RemarksFilename">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>RemarksFilename</b> = &quot;&quot;</dt><dd>Optimization remarks file path.</dd><dt class="is-family-code" id="var_RemarksPasses">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>RemarksPasses</b> = &quot;&quot;</dt><dd>Optimization remarks pass filter.</dd><dt class="is-family-code" id="var_RemarksWithHotness">public  bool <b>RemarksWithHotness</b> = false</dt><dd>Whether to emit optimization remarks with hotness informations.</dd><dt class="is-family-code" id="var_RemarksFormat">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>RemarksFormat</b> = &quot;&quot;</dt><dd>The format used for serializing remarks (default: YAML).</dd><dt class="is-family-code" id="var_DebugPassManager">public  bool <b>DebugPassManager</b> = false</dt><dd>Whether to emit the pass manager debuggging informations.</dd><dt class="is-family-code" id="var_StatsFile">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>StatsFile</b></dt><dd>Statistics output file path.</dd><dt class="is-family-code" id="var_ShouldDiscardValueNames">public  bool <b>ShouldDiscardValueNames</b> = true</dt><dt class="is-family-code" id="var_DiagHandler">public  llvm::DiagnosticHandlerFunction <b>DiagHandler</b></dt><dt class="is-family-code" id="var_ResolutionFile">public  <a href="https://en.cppreference.com/w/cpp/memory/unique_ptr">std::unique_ptr</a>&lt;raw_ostream&gt; <b>ResolutionFile</b></dt><dd>If this field is set, LTO will write input file paths and symbol resolutions here in llvm-lto2 command line flag format. This can be used for testing and for running the LTO pipeline outside of the linker with llvm-lto2.</dd><dt class="is-family-code" id="var_PTO">public  <a href="r2288009BD4D1E42D.html">llvm::PipelineTuningOptions</a> <b>PTO</b></dt><dd>Tunable parameters for passes in the default pipelines.</dd><dt class="is-family-code" id="var_PreOptModuleHook">public  llvm::lto::Config::ModuleHookFn <b>PreOptModuleHook</b></dt><dd>This module hook is called after linking (regular LTO) or loading (ThinLTO) the module, before modifying it.</dd><dt class="is-family-code" id="var_PostPromoteModuleHook">public  llvm::lto::Config::ModuleHookFn <b>PostPromoteModuleHook</b></dt><dd>This hook is called after promoting any internal functions (ThinLTO-specific).</dd><dt class="is-family-code" id="var_PostInternalizeModuleHook">public  llvm::lto::Config::ModuleHookFn <b>PostInternalizeModuleHook</b></dt><dd>This hook is called after internalizing the module.</dd><dt class="is-family-code" id="var_PostImportModuleHook">public  llvm::lto::Config::ModuleHookFn <b>PostImportModuleHook</b></dt><dd>This hook is called after importing from other modules (ThinLTO-specific).</dd><dt class="is-family-code" id="var_PostOptModuleHook">public  llvm::lto::Config::ModuleHookFn <b>PostOptModuleHook</b></dt><dd>This module hook is called after optimization is complete.</dd><dt class="is-family-code" id="var_PreCodeGenModuleHook">public  llvm::lto::Config::ModuleHookFn <b>PreCodeGenModuleHook</b></dt><dd>This module hook is called before code generation. It is similar to the PostOptModuleHook, but for parallel code generation it is called after splitting the module.</dd><dt class="is-family-code" id="var_CombinedIndexHook">public  llvm::lto::Config::CombinedIndexHookFn <b>CombinedIndexHook</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public llvm::Error  <a href="#F439F25B2A122ED9"><b>addSaveTemps</b></a>(std::string OutputFileName, bool UseInputModulePath = false)</li></ul><h2>Methods</h2><h3 id="F439F25B2A122ED9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F439F25B2A122ED9">Â¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> addSaveTemps(
    <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> OutputFileName,
    bool UseInputModulePath = false)</code></pre></h3><h4>Description</h4><p>This is a convenience function that configures this Config object to write temporary files named after the given OutputFileName for each of the LTO phases to disk. A client can use this function to implement -save-temps. FIXME: Temporary files derived from ThinLTO backends are currently named after the input file name, rather than the output file name, when UseInputModulePath is set to true. Specifically, it (1) sets each of the above module hooks and the combined index hook to a function that calls the hook function (if any) that was present in the appropriate field when the addSaveTemps function was called, and writes the module to a bitcode file with a name prefixed by the given output file name, and (2) creates a resolution file whose name is prefixed by the given output file name and sets ResolutionFile to its file handle.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/LTO/Config.h#L212">llvm/include/llvm/LTO/Config.h:212</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a><b> OutputFileName</b></dt><dt class="is-family-code">bool<b> UseInputModulePath</b> = false</dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>