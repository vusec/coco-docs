<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class OptimizationRemarkEmitter: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page30BFE297D838EDE4"><span>class OptimizationRemarkEmitter</span></a></li></ul></nav><main class="content"><h1>class OptimizationRemarkEmitter</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class OptimizationRemarkEmitter { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>The optimization diagnostic interface. It allows reporting when optimizations are performed and when they are not along with the reasons for it.  Hotness information of the corresponding code region can be included in the remark if DiagnosticsHotnessRequested is enabled in the LLVM context.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L37">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:37</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#19DEC07C6C8C48CA"><b>OptimizationRemarkEmitter</b></a>(const llvm::Function * F, llvm::BlockFrequencyInfo * BFI)</li><li class="is-family-code">public  <a href="#95498AACBCC85DDB"><b>OptimizationRemarkEmitter</b></a>(const llvm::Function * F)</li><li class="is-family-code">public  <a href="#E7577C4737D29700"><b>OptimizationRemarkEmitter</b></a>(llvm::OptimizationRemarkEmitter &amp;&amp; Arg)</li><li class="is-family-code">public bool  <a href="#FFFC669D4A62EB1A"><b>allowExtraAnalysis</b></a>(llvm::StringRef PassName) const</li><li class="is-family-code">public void  <a href="#E9523E3B47BA7DC9"><b>emit</b></a>(llvm::DiagnosticInfoOptimizationBase &amp; OptDiag)</li><li class="is-family-code">public template &lt;typename T&gt;void  <a href="#082F7CF32C660B19"><b>emit</b></a>(T RemarkBuilder, decltype(RemarkBuilder()) * = nullptr)</li><li class="is-family-code">public bool  <a href="#88C93F9232DE002E"><b>invalidate</b></a>(llvm::Function &amp; F, const llvm::PreservedAnalyses &amp; PA, FunctionAnalysisManager::Invalidator &amp; Inv)</li></ul><h2>Methods</h2><h3 id="19DEC07C6C8C48CA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#19DEC07C6C8C48CA">¶</a><code class="hdoc-function-code language-cpp">OptimizationRemarkEmitter(
    const <a href="rADBA2A8E0906EC47.html">llvm::Function</a>* F,
    <a href="r499F3CE9244F5224.html">llvm::BlockFrequencyInfo</a>* BFI)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L39">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:39</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rADBA2A8E0906EC47.html">llvm::Function</a>*<b> F</b></dt><dt class="is-family-code"><a href="r499F3CE9244F5224.html">llvm::BlockFrequencyInfo</a>*<b> BFI</b></dt></dl><h3 id="95498AACBCC85DDB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#95498AACBCC85DDB">¶</a><code class="hdoc-function-code language-cpp">OptimizationRemarkEmitter(const <a href="rADBA2A8E0906EC47.html">llvm::Function</a>* F)</code></pre></h3><h4>Description</h4><p>This variant can be used to generate ORE on demand (without the analysis pass). Note that this ctor has a very different cost depending on whether F-&gt;getContext().getDiagnosticsHotnessRequested() is on or not.  If it&apos;s off the operation is free. Whereas if DiagnosticsHotnessRequested is on, it is fairly expensive operation since BFI and all its required analyses are computed.  This is for example useful for CGSCC passes that can&apos;t use function analyses passes in the old PM.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L53">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:53</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rADBA2A8E0906EC47.html">llvm::Function</a>*<b> F</b></dt></dl><h3 id="E7577C4737D29700"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E7577C4737D29700">¶</a><code class="hdoc-function-code language-cpp">OptimizationRemarkEmitter(
    <a href="r30BFE297D838EDE4.html">llvm::OptimizationRemarkEmitter</a>&amp;&amp; Arg)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L55">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:55</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r30BFE297D838EDE4.html">llvm::OptimizationRemarkEmitter</a>&amp;&amp;<b> Arg</b></dt></dl><h3 id="FFFC669D4A62EB1A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FFFC669D4A62EB1A">¶</a><code class="hdoc-function-code language-cpp">bool allowExtraAnalysis(
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> PassName) const</code></pre></h3><h4>Description</h4><p>Whether we allow for extra compile-time budget to perform more analysis to produce fewer false positives. This is useful when reporting missed optimizations.  In this case we can use the extra analysis (1) to filter trivial false positives or (2) to provide more context so that non-trivial false positives can be quickly detected by the user.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L94">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:94</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> PassName</b></dt></dl><h3 id="E9523E3B47BA7DC9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E9523E3B47BA7DC9">¶</a><code class="hdoc-function-code language-cpp">void emit(
    <a href="r66E1D769D9CB2488.html">llvm::DiagnosticInfoOptimizationBase</a>&amp; OptDiag)</code></pre></h3><h4>Description</h4><p>Output the remark via the diagnostic handler and to the optimization record file.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L70">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:70</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r66E1D769D9CB2488.html">llvm::DiagnosticInfoOptimizationBase</a>&amp;<b> OptDiag</b></dt></dl><h3 id="082F7CF32C660B19"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#082F7CF32C660B19">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename T&gt;
void emit(T RemarkBuilder,
          decltype(RemarkBuilder())* = nullptr)</code></pre></h3><h4>Description</h4><p>Take a lambda that returns a remark which will be emitted.  Second argument is only used to restrict this to functions.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L75">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:75</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> T</b></dt></dl><h4>Parameters</h4><dl><dt class="is-family-code">T<b> RemarkBuilder</b></dt><dt class="is-family-code">decltype(RemarkBuilder())*<b> </b> = nullptr</dt></dl><h3 id="88C93F9232DE002E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#88C93F9232DE002E">¶</a><code class="hdoc-function-code language-cpp">bool invalidate(
    <a href="rADBA2A8E0906EC47.html">llvm::Function</a>&amp; F,
    const <a href="r9EDCE8A1E6A8CDD6.html">llvm::PreservedAnalyses</a>&amp; PA,
    FunctionAnalysisManager::Invalidator&amp; Inv)</code></pre></h3><h4>Description</h4><p>Handle invalidation events in the new pass manager.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h#L65">llvm/include/llvm/Analysis/OptimizationRemarkEmitter.h:65</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rADBA2A8E0906EC47.html">llvm::Function</a>&amp;<b> F</b></dt><dt class="is-family-code">const <a href="r9EDCE8A1E6A8CDD6.html">llvm::PreservedAnalyses</a>&amp;<b> PA</b></dt><dt class="is-family-code">FunctionAnalysisManager::Invalidator&amp;<b> Inv</b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>