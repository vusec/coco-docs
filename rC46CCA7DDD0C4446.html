<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class MCInstrAnalysis: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageC46CCA7DDD0C4446"><span>class MCInstrAnalysis</span></a></li></ul></nav><main class="content"><h1>class MCInstrAnalysis</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class MCInstrAnalysis { /* full declaration omitted */ };</code></pre><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L27">llvm/include/llvm/MC/MCInstrAnalysis.h:27</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Info">protected  const <a href="r65A96B8C52695A9B.html">llvm::MCInstrInfo</a>* <b>Info</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#05106F7593FCABBE"><b>MCInstrAnalysis</b></a>(const llvm::MCInstrInfo * Info)</li><li class="is-family-code">public virtual bool  <a href="#30E794E5D2C5BE2B"><b>clearsSuperRegisters</b></a>(const llvm::MCRegisterInfo &amp; MRI, const llvm::MCInst &amp; Inst, llvm::APInt &amp; Writes) const</li><li class="is-family-code">public virtual bool  <a href="#A3E4874317118254"><b>evaluateBranch</b></a>(const llvm::MCInst &amp; Inst, uint64_t Addr, uint64_t Size, uint64_t &amp; Target) const</li><li class="is-family-code">public virtual Optional&lt;uint64_t&gt;  <a href="#5E2DD3190C59E411"><b>evaluateMemoryOperandAddress</b></a>(const llvm::MCInst &amp; Inst, uint64_t Addr, uint64_t Size) const</li><li class="is-family-code">public virtual std::vector&lt;std::pair&lt;uint64_t, uint64_t&gt;&gt;  <a href="#EC897E4FCC74A2A2"><b>findPltEntries</b></a>(uint64_t PltSectionVA, ArrayRef&lt;uint8_t&gt; PltContents, uint64_t GotPltSectionVA, const llvm::Triple &amp; TargetTriple) const</li><li class="is-family-code">public virtual bool  <a href="#1122A9B4F0BECFA0"><b>isBranch</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#F64DFF942FD6D381"><b>isCall</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#3AAEC622E4A29C4B"><b>isConditionalBranch</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#6F6952306B804F3D"><b>isDependencyBreaking</b></a>(const llvm::MCInst &amp; MI, llvm::APInt &amp; Mask, unsigned int CPUID) const</li><li class="is-family-code">public virtual bool  <a href="#A468FE961540A43D"><b>isIndirectBranch</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#16AA431AE37D0D2B"><b>isOptimizableRegisterMove</b></a>(const llvm::MCInst &amp; MI, unsigned int CPUID) const</li><li class="is-family-code">public virtual bool  <a href="#AE9775DA900816F3"><b>isReturn</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#0B06FC6606D27868"><b>isTerminator</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#E425D7CF649CBB22"><b>isUnconditionalBranch</b></a>(const llvm::MCInst &amp; Inst) const</li><li class="is-family-code">public virtual bool  <a href="#CE35F22947E1DE90"><b>isZeroIdiom</b></a>(const llvm::MCInst &amp; MI, llvm::APInt &amp; Mask, unsigned int CPUID) const</li><li class="is-family-code">public virtual  <a href="#D5B30356FD187665"><b>~MCInstrAnalysis</b></a>()</li></ul><h2>Methods</h2><h3 id="05106F7593FCABBE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#05106F7593FCABBE">¶</a><code class="hdoc-function-code language-cpp">MCInstrAnalysis(const <a href="r65A96B8C52695A9B.html">llvm::MCInstrInfo</a>* Info)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L34">llvm/include/llvm/MC/MCInstrAnalysis.h:34</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r65A96B8C52695A9B.html">llvm::MCInstrInfo</a>*<b> Info</b></dt></dl><h3 id="30E794E5D2C5BE2B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#30E794E5D2C5BE2B">¶</a><code class="hdoc-function-code language-cpp">virtual bool clearsSuperRegisters(
    const <a href="r100776D1EFA6B026.html">llvm::MCRegisterInfo</a>&amp; MRI,
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst,
    <a href="r50D306F9F4C3FD25.html">llvm::APInt</a>&amp; Writes) const</code></pre></h3><h4>Description</h4><p>Returns true if at least one of the register writes performed by Example: on X86-64, a write to EAX implicitly clears the upper half of RAX. Also (still on x86) an XMM write perfomed by an AVX 128-bit instruction implicitly clears the upper portion of the correspondent YMM register. This method also updates an APInt which is used as mask of register writes. There is one bit for every explicit/implicit write performed by the instruction. If a write implicitly clears its super-registers, then the corresponding bit is set (vic. the corresponding bit is cleared). The first bits in the APint are related to explicit writes. The remaining bits are related to implicit writes. The sequence of writes follows the machine operand sequence. For implicit writes, the sequence is defined by the MCInstrDesc. The assumption is that the bit-width of the APInt is correctly set by the caller. The default implementation conservatively assumes that none of the writes clears the upper portion of a super-register.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L86">llvm/include/llvm/MC/MCInstrAnalysis.h:86</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r100776D1EFA6B026.html">llvm::MCRegisterInfo</a>&amp;<b> MRI</b></dt><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt><dd>implicitly clears the upper portion of all super-registers.</dd><dt class="is-family-code"><a href="r50D306F9F4C3FD25.html">llvm::APInt</a>&amp;<b> Writes</b></dt></dl><h3 id="A3E4874317118254"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A3E4874317118254">¶</a><code class="hdoc-function-code language-cpp">virtual bool evaluateBranch(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst,
    uint64_t Addr,
    uint64_t Size,
    uint64_t&amp; Target) const</code></pre></h3><h4>Description</h4><p>Given a branch instruction try to get the address the branch targets. Return true on success, and the address in Target.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L152">llvm/include/llvm/MC/MCInstrAnalysis.h:152</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt><dt class="is-family-code">uint64_t<b> Addr</b></dt><dt class="is-family-code">uint64_t<b> Size</b></dt><dt class="is-family-code">uint64_t&amp;<b> Target</b></dt></dl><h3 id="5E2DD3190C59E411"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5E2DD3190C59E411">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r6607998C23E31109.html">Optional</a>&lt;uint64_t&gt;
evaluateMemoryOperandAddress(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst,
    uint64_t Addr,
    uint64_t Size) const</code></pre></h3><h4>Description</h4><p>Given an instruction tries to get the address of a memory operand. Returns the address on success.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L157">llvm/include/llvm/MC/MCInstrAnalysis.h:157</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt><dt class="is-family-code">uint64_t<b> Addr</b></dt><dt class="is-family-code">uint64_t<b> Size</b></dt></dl><h3 id="EC897E4FCC74A2A2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EC897E4FCC74A2A2">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a>&lt;std::pair&lt;uint64_t, uint64_t&gt;&gt;
findPltEntries(
    uint64_t PltSectionVA,
    <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;uint8_t&gt; PltContents,
    uint64_t GotPltSectionVA,
    const <a href="rB496670BE7C6A5B6.html">llvm::Triple</a>&amp; TargetTriple) const</code></pre></h3><h4>Description</h4><p>Returns (PLT virtual address, GOT virtual address) pairs for PLT entries.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L163">llvm/include/llvm/MC/MCInstrAnalysis.h:163</a></p><h4>Parameters</h4><dl><dt class="is-family-code">uint64_t<b> PltSectionVA</b></dt><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;uint8_t&gt;<b> PltContents</b></dt><dt class="is-family-code">uint64_t<b> GotPltSectionVA</b></dt><dt class="is-family-code">const <a href="rB496670BE7C6A5B6.html">llvm::Triple</a>&amp;<b> TargetTriple</b></dt></dl><h3 id="1122A9B4F0BECFA0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1122A9B4F0BECFA0">¶</a><code class="hdoc-function-code language-cpp">virtual bool isBranch(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L37">llvm/include/llvm/MC/MCInstrAnalysis.h:37</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="F64DFF942FD6D381"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F64DFF942FD6D381">¶</a><code class="hdoc-function-code language-cpp">virtual bool isCall(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L53">llvm/include/llvm/MC/MCInstrAnalysis.h:53</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="3AAEC622E4A29C4B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3AAEC622E4A29C4B">¶</a><code class="hdoc-function-code language-cpp">virtual bool isConditionalBranch(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L41">llvm/include/llvm/MC/MCInstrAnalysis.h:41</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="6F6952306B804F3D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6F6952306B804F3D">¶</a><code class="hdoc-function-code language-cpp">virtual bool isDependencyBreaking(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; MI,
    <a href="r50D306F9F4C3FD25.html">llvm::APInt</a>&amp; Mask,
    unsigned int CPUID) const</code></pre></h3><h4>Description</h4><p>Returns true if MI is a dependency breaking instruction for the subtarget associated with CPUID . The value computed by a dependency breaking instruction is not dependent on the inputs. An example of dependency breaking instruction on X86 is `XOR %eax, %eax`. If MI is a dependency breaking instruction for subtarget CPUID, then Mask can be inspected to identify independent operands. Essentially, each bit of the mask corresponds to an input operand. Explicit operands are laid out first in the mask; implicit operands follow explicit operands. Bits are set for operands that are independent. Note that the number of bits in Mask may not be equivalent to the sum of explicit and implicit operands in MI. Operands that don&apos;t have a corresponding bit in Mask are assumed &quot;not independente&quot;. The only exception is for when Mask is all zeroes. That means: explicit input operands of MI are independent.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L133">llvm/include/llvm/MC/MCInstrAnalysis.h:133</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> MI</b></dt><dt class="is-family-code"><a href="r50D306F9F4C3FD25.html">llvm::APInt</a>&amp;<b> Mask</b></dt><dt class="is-family-code">unsigned int<b> CPUID</b></dt></dl><h3 id="A468FE961540A43D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A468FE961540A43D">¶</a><code class="hdoc-function-code language-cpp">virtual bool isIndirectBranch(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L49">llvm/include/llvm/MC/MCInstrAnalysis.h:49</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="16AA431AE37D0D2B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#16AA431AE37D0D2B">¶</a><code class="hdoc-function-code language-cpp">virtual bool isOptimizableRegisterMove(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; MI,
    unsigned int CPUID) const</code></pre></h3><h4>Description</h4><p>Returns true if MI is a candidate for move elimination. Different subtargets may apply different constraints to optimizable register moves. For example, on most X86 subtargets, a candidate for move elimination cannot specify the same register for both source and destination.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L144">llvm/include/llvm/MC/MCInstrAnalysis.h:144</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> MI</b></dt><dt class="is-family-code">unsigned int<b> CPUID</b></dt></dl><h3 id="AE9775DA900816F3"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AE9775DA900816F3">¶</a><code class="hdoc-function-code language-cpp">virtual bool isReturn(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L57">llvm/include/llvm/MC/MCInstrAnalysis.h:57</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="0B06FC6606D27868"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0B06FC6606D27868">¶</a><code class="hdoc-function-code language-cpp">virtual bool isTerminator(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L61">llvm/include/llvm/MC/MCInstrAnalysis.h:61</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="E425D7CF649CBB22"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E425D7CF649CBB22">¶</a><code class="hdoc-function-code language-cpp">virtual bool isUnconditionalBranch(
    const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; Inst) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L45">llvm/include/llvm/MC/MCInstrAnalysis.h:45</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> Inst</b></dt></dl><h3 id="CE35F22947E1DE90"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#CE35F22947E1DE90">¶</a><code class="hdoc-function-code language-cpp">virtual bool isZeroIdiom(const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp; MI,
                         <a href="r50D306F9F4C3FD25.html">llvm::APInt</a>&amp; Mask,
                         unsigned int CPUID) const</code></pre></h3><h4>Description</h4><p>Returns true if MI is a dependency breaking zero-idiom for the given subtarget. Mask is used to identify input operands that have their dependency broken. Each bit of the mask is associated with a specific input operand. Bits associated with explicit input operands are laid out first in the mask; implicit operands come after explicit operands. Dependencies are broken only for operands that have their corresponding bit set. Operands that have their bit cleared, or that don&apos;t have a corresponding bit in the mask don&apos;t have their dependency broken.  Note that Mask may not be big enough to describe all operands.  The assumption for operands that don&apos;t have a correspondent bit in the mask is that those are still data dependent. The only exception to the rule is for when Mask has all zeroes. A zero mask means: dependencies are broken for all explicit register operands.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L108">llvm/include/llvm/MC/MCInstrAnalysis.h:108</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r78690FB992665B6F.html">llvm::MCInst</a>&amp;<b> MI</b></dt><dt class="is-family-code"><a href="r50D306F9F4C3FD25.html">llvm::APInt</a>&amp;<b> Mask</b></dt><dt class="is-family-code">unsigned int<b> CPUID</b></dt></dl><h3 id="D5B30356FD187665"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D5B30356FD187665">¶</a><code class="hdoc-function-code language-cpp">virtual ~MCInstrAnalysis()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/MC/MCInstrAnalysis.h#L35">llvm/include/llvm/MC/MCInstrAnalysis.h:35</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>