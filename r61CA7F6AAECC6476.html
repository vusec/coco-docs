<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class MachineTraceMetrics::Trace: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="r5A03B66B02139719.html"><span>class MachineTraceMetrics</span></a></li><li class="is-active"><a aria-current="page61CA7F6AAECC6476"><span>class MachineTraceMetrics::Trace</span></a></li></ul></nav><main class="content"><h1>class MachineTraceMetrics::Trace</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class MachineTraceMetrics::Trace { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>A trace represents a plausible sequence of executed basic blocks that passes through the current basic block one. The Trace class serves as a handle to internal cached data structures.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L255">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:255</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#742B2C0A520F1301"><b>Trace</b></a>(llvm::MachineTraceMetrics::Ensemble &amp; te, llvm::MachineTraceMetrics::TraceBlockInfo &amp; tbi)</li><li class="is-family-code">public unsigned int  <a href="#4842DF17D2598B0A"><b>getCriticalPath</b></a>() const</li><li class="is-family-code">public unsigned int  <a href="#42298757AB483394"><b>getInstrCount</b></a>() const</li><li class="is-family-code">public llvm::MachineTraceMetrics::InstrCycles  <a href="#933B4AF60D45574F"><b>getInstrCycles</b></a>(const llvm::MachineInstr &amp; MI) const</li><li class="is-family-code">public unsigned int  <a href="#15B399325DF98F11"><b>getInstrSlack</b></a>(const llvm::MachineInstr &amp; MI) const</li><li class="is-family-code">public unsigned int  <a href="#12192DB3372CC325"><b>getPHIDepth</b></a>(const llvm::MachineInstr &amp; PHI) const</li><li class="is-family-code">public unsigned int  <a href="#090EF52B0E3AA755"><b>getResourceDepth</b></a>(bool Bottom) const</li><li class="is-family-code">public unsigned int  <a href="#FE783AECEF9028EA"><b>getResourceLength</b></a>(ArrayRef&lt;const llvm::MachineBasicBlock *&gt; Extrablocks = None, ArrayRef&lt;const llvm::MCSchedClassDesc *&gt; ExtraInstrs = None, ArrayRef&lt;const llvm::MCSchedClassDesc *&gt; RemoveInstrs = None) const</li><li class="is-family-code">public bool  <a href="#DB9D494FFCE5736F"><b>isDepInTrace</b></a>(const llvm::MachineInstr &amp; DefMI, const llvm::MachineInstr &amp; UseMI) const</li><li class="is-family-code">public void  <a href="#0F01A50893320571"><b>print</b></a>(llvm::raw_ostream &amp;) const</li></ul><h2>Methods</h2><h3 id="742B2C0A520F1301"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#742B2C0A520F1301">¶</a><code class="hdoc-function-code language-cpp">Trace(<a href="r617B17CCCAB0A97B.html">llvm::MachineTraceMetrics::Ensemble</a>&amp; te,
      <a href="r6960E80F0660DFE3.html">llvm::MachineTraceMetrics::TraceBlockInfo</a>&amp;
          tbi)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L262">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:262</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r617B17CCCAB0A97B.html">llvm::MachineTraceMetrics::Ensemble</a>&amp;<b> te</b></dt><dt class="is-family-code"><a href="r6960E80F0660DFE3.html">llvm::MachineTraceMetrics::TraceBlockInfo</a>&amp;<b> tbi</b></dt></dl><h3 id="4842DF17D2598B0A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4842DF17D2598B0A">¶</a><code class="hdoc-function-code language-cpp">unsigned int getCriticalPath() const</code></pre></h3><h4>Description</h4><p>Return the length of the (data dependency) critical path through the trace.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L293">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:293</a></p><h3 id="42298757AB483394"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#42298757AB483394">¶</a><code class="hdoc-function-code language-cpp">unsigned int getInstrCount() const</code></pre></h3><h4>Description</h4><p>Compute the total number of instructions in the trace.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L267">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:267</a></p><h3 id="933B4AF60D45574F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#933B4AF60D45574F">¶</a><code class="hdoc-function-code language-cpp"><a href="r4616EEFDDFE9566C.html">llvm::MachineTraceMetrics::InstrCycles</a>
getInstrCycles(const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI) const</code></pre></h3><h4>Description</h4><p>Return the depth and height of MI. The depth is only valid for instructions in or above the trace center block. The height is only valid for instructions in or below the trace center block.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L298">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:298</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="15B399325DF98F11"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#15B399325DF98F11">¶</a><code class="hdoc-function-code language-cpp">unsigned int getInstrSlack(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI) const</code></pre></h3><h4>Description</h4><p>Return the slack of MI. This is the number of cycles MI can be delayed before the critical path becomes longer. MI must be an instruction in the trace center block.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L305">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:305</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="12192DB3372CC325"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#12192DB3372CC325">¶</a><code class="hdoc-function-code language-cpp">unsigned int getPHIDepth(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; PHI) const</code></pre></h3><h4>Description</h4><p>Return the Depth of a PHI instruction in a trace center block successor. The PHI does not have to be part of the trace.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L309">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:309</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> PHI</b></dt></dl><h3 id="090EF52B0E3AA755"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#090EF52B0E3AA755">¶</a><code class="hdoc-function-code language-cpp">unsigned int getResourceDepth(bool Bottom) const</code></pre></h3><h4>Description</h4><p>Return the resource depth of the top/bottom of the trace center block. This is the number of cycles required to execute all instructions from the trace head to the trace center block. The resource depth only considers execution resources, it ignores data dependencies. When Bottom is set, instructions in the trace center block are included.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L276">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:276</a></p><h4>Parameters</h4><dl><dt class="is-family-code">bool<b> Bottom</b></dt></dl><h3 id="FE783AECEF9028EA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FE783AECEF9028EA">¶</a><code class="hdoc-function-code language-cpp">unsigned int getResourceLength(
    <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const llvm::MachineBasicBlock*&gt;
        Extrablocks = None,
    <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const llvm::MCSchedClassDesc*&gt;
        ExtraInstrs = None,
    <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const llvm::MCSchedClassDesc*&gt;
        RemoveInstrs = None) const</code></pre></h3><h4>Description</h4><p>Return the resource length of the trace. This is the number of cycles required to execute the instructions in the trace if they were all independent, exposing the maximum instruction-level parallelism. Any blocks in Extrablocks are included as if they were part of the trace. Likewise, extra resources required by the specified scheduling classes are included. For the caller to account for extra machine instructions, it must first resolve each instruction&apos;s scheduling class.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L286">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:286</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const llvm::MachineBasicBlock*&gt;<b> Extrablocks</b> = None</dt><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const llvm::MCSchedClassDesc*&gt;<b> ExtraInstrs</b> = None</dt><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;const llvm::MCSchedClassDesc*&gt;<b> RemoveInstrs</b> = None</dt></dl><h3 id="DB9D494FFCE5736F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DB9D494FFCE5736F">¶</a><code class="hdoc-function-code language-cpp">bool isDepInTrace(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; DefMI,
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; UseMI) const</code></pre></h3><h4>Description</h4><p>A dependence is useful if the basic block of the defining instruction is part of the trace of the user instruction. It is assumed that DefMI dominates UseMI (see also isUsefulDominator).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L314">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:314</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> DefMI</b></dt><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> UseMI</b></dt></dl><h3 id="0F01A50893320571"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0F01A50893320571">¶</a><code class="hdoc-function-code language-cpp">void print(<a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp;) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/MachineTraceMetrics.h#L264">llvm/include/llvm/CodeGen/MachineTraceMetrics.h:264</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp;<b> </b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>