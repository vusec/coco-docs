<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class EHStreamer: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page7EA60AF995013884"><span>class EHStreamer</span></a></li></ul></nav><main class="content"><h1>class EHStreamer</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class EHStreamer : public AsmPrinterHandler { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Emits exception handling directives.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L30">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:30</a></p><p>Inherits from: <a href="r7116C9FBF5EB68C8.html">AsmPrinterHandler</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Asm">protected  <a href="r3A8CB08ADAB598FC.html">llvm::AsmPrinter</a>* <b>Asm</b></dt><dd>Target of directive emission.</dd><dt class="is-family-code" id="var_MMI">protected  <a href="r8B4592E308162EE6.html">llvm::MachineModuleInfo</a>* <b>MMI</b></dt><dd>Collected machine module information.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#5DD651FE07D366E9"><b>EHStreamer</b></a>(llvm::AsmPrinter * A)</li><li class="is-family-code">public void  <a href="#2CDF385709ADFF73"><b>beginInstruction</b></a>(const llvm::MachineInstr * MI)</li><li class="is-family-code">public static bool  <a href="#7503CFE6A0639EAB"><b>callToNoUnwindFunction</b></a>(const llvm::MachineInstr * MI)</li><li class="is-family-code">protected void  <a href="#2B9F58ADEE1C4AA4"><b>computeActionsTable</b></a>(const SmallVectorImpl&lt;const llvm::LandingPadInfo *&gt; &amp; LandingPads, SmallVectorImpl&lt;llvm::EHStreamer::ActionEntry&gt; &amp; Actions, SmallVectorImpl&lt;unsigned int&gt; &amp; FirstActions)</li><li class="is-family-code">protected virtual void  <a href="#C5FA760928A7D34B"><b>computeCallSiteTable</b></a>(SmallVectorImpl&lt;llvm::EHStreamer::CallSiteEntry&gt; &amp; CallSites, const SmallVectorImpl&lt;const llvm::LandingPadInfo *&gt; &amp; LandingPads, const SmallVectorImpl&lt;unsigned int&gt; &amp; FirstActions)</li><li class="is-family-code">protected void  <a href="#4493F82B70DCC13E"><b>computePadMap</b></a>(const SmallVectorImpl&lt;const llvm::LandingPadInfo *&gt; &amp; LandingPads, llvm::EHStreamer::RangeMapType &amp; PadMap)</li><li class="is-family-code">protected llvm::MCSymbol *  <a href="#15696B1E8724D901"><b>emitExceptionTable</b></a>()</li><li class="is-family-code">protected virtual void  <a href="#84F1172C0C5B3572"><b>emitTypeInfos</b></a>(unsigned int TTypeEncoding, llvm::MCSymbol * TTBaseLabel)</li><li class="is-family-code">public void  <a href="#E6A297E253E4E129"><b>endInstruction</b></a>()</li><li class="is-family-code">protected static bool  <a href="#4CD11C134A9583C1"><b>isCatchEHSelector</b></a>(int Selector)</li><li class="is-family-code">protected static bool  <a href="#BD2553525817805A"><b>isCleanupEHSelector</b></a>(int Selector)</li><li class="is-family-code">protected static bool  <a href="#F0246F53F1E36395"><b>isFilterEHSelector</b></a>(int Selector)</li><li class="is-family-code">public void  <a href="#299698D9F922D939"><b>setSymbolSize</b></a>(const llvm::MCSymbol * Sym, uint64_t Size)</li><li class="is-family-code">protected static unsigned int  <a href="#8825D93379C9FCFD"><b>sharedTypeIDs</b></a>(const llvm::LandingPadInfo * L, const llvm::LandingPadInfo * R)</li><li class="is-family-code">public  <a href="#F1D3A5E9BA554C8A"><b>~EHStreamer</b></a>()</li></ul><p>Inherited from <a href="r7116C9FBF5EB68C8.html">AsmPrinterHandler</a>:</p><ul><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#658D5AD65F0C200B">public <b>beginFragment</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#D9EE8E1E948F4305">public <b>beginFunclet</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#0C98AFEB9427EAEB">public <b>beginFunction</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#F3B74C4C864ECA63">public <b>beginInstruction</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#1ADFC4C18553373E">public <b>endFragment</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#8E888B2F93A86008">public <b>endFunclet</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#6C3297E8CA60005F">public <b>endFunction</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#C10E380BF33F29DE">public <b>endInstruction</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#4E9DD355E88A9C56">public <b>endModule</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#3FDF518A2425D810">public <b>markFunctionEnd</b></a></li><li class="is-family-code"><a href="r7116C9FBF5EB68C8.html#36F00F03AC5A21F0">public <b>setSymbolSize</b></a></li></ul><h2>Methods</h2><h3 id="5DD651FE07D366E9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5DD651FE07D366E9">¶</a><code class="hdoc-function-code language-cpp">EHStreamer(<a href="r3A8CB08ADAB598FC.html">llvm::AsmPrinter</a>* A)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L125">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:125</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r3A8CB08ADAB598FC.html">llvm::AsmPrinter</a>*<b> A</b></dt></dl><h3 id="2CDF385709ADFF73"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2CDF385709ADFF73">¶</a><code class="hdoc-function-code language-cpp">void beginInstruction(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>* MI)</code></pre></h3><h4>Description</h4><p>Process beginning of an instruction.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L130">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:130</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>*<b> MI</b></dt></dl><h3 id="7503CFE6A0639EAB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7503CFE6A0639EAB">¶</a><code class="hdoc-function-code language-cpp">static bool callToNoUnwindFunction(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>* MI)</code></pre></h3><h4>Description</h4><p>Return `true&apos; if this is a call to a function marked `nounwind&apos;. Return `false&apos; otherwise.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L135">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:135</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>*<b> MI</b></dt></dl><h3 id="2B9F58ADEE1C4AA4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2B9F58ADEE1C4AA4">¶</a><code class="hdoc-function-code language-cpp">void computeActionsTable(
    const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
        const llvm::LandingPadInfo*&gt;&amp; LandingPads,
    <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
        llvm::EHStreamer::ActionEntry&gt;&amp; Actions,
    <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;unsigned int&gt;&amp; FirstActions)</code></pre></h3><h4>Description</h4><p>Compute the actions table and gather the first action index for each landing pad site.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L74">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:74</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
    const llvm::LandingPadInfo*&gt;&amp;<b> LandingPads</b></dt><dt class="is-family-code"><a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;llvm::EHStreamer::ActionEntry&gt;&amp;<b> Actions</b></dt><dt class="is-family-code"><a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;unsigned int&gt;&amp;<b> FirstActions</b></dt></dl><h3 id="C5FA760928A7D34B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C5FA760928A7D34B">¶</a><code class="hdoc-function-code language-cpp">virtual void computeCallSiteTable(
    <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
        llvm::EHStreamer::CallSiteEntry&gt;&amp;
        CallSites,
    const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
        const llvm::LandingPadInfo*&gt;&amp; LandingPads,
    const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;unsigned int&gt;&amp;
        FirstActions)</code></pre></h3><h4>Description</h4><p>Compute the call-site table.  The entry for an invoke has a try-range containing the call, a non-zero landing pad and an appropriate action. The entry for an ordinary call has a try-range containing the call and zero for the landing pad and the action.  Calls marked &apos;nounwind&apos; have no entry and must not be contained in the try-range of any entry - they form gaps in the table.  Entries must be ordered by try-range address.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L87">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:87</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;llvm::EHStreamer::CallSiteEntry&gt;&amp;<b> CallSites</b></dt><dt class="is-family-code">const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
    const llvm::LandingPadInfo*&gt;&amp;<b> LandingPads</b></dt><dt class="is-family-code">const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;unsigned int&gt;&amp;<b> FirstActions</b></dt></dl><h3 id="4493F82B70DCC13E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4493F82B70DCC13E">¶</a><code class="hdoc-function-code language-cpp">void computePadMap(
    const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
        const llvm::LandingPadInfo*&gt;&amp; LandingPads,
    <a href="rC2880C7E8E458B54.html">llvm::EHStreamer::RangeMapType</a>&amp; PadMap)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L78">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:78</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
    const llvm::LandingPadInfo*&gt;&amp;<b> LandingPads</b></dt><dt class="is-family-code"><a href="rC2880C7E8E458B54.html">llvm::EHStreamer::RangeMapType</a>&amp;<b> PadMap</b></dt></dl><h3 id="15696B1E8724D901"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#15696B1E8724D901">¶</a><code class="hdoc-function-code language-cpp"><a href="r6E4FB5D603B18594.html">llvm::MCSymbol</a>* emitExceptionTable()</code></pre></h3><h4>Description</h4><p>Emit landing pads and actions. The general organization of the table is complex, but the basic concepts are easy.  First there is a header which describes the location and organization of the three components that follow. 1. The landing pad site information describes the range of code covered by the try.  In our case it&apos;s an accumulation of the ranges covered by the invokes in the try.  There is also a reference to the landing pad that handles the exception once processed.  Finally an index into the actions table. 2. The action table, in our case, is composed of pairs of type ids and next action offset.  Starting with the action index from the landing pad site, each type Id is checked for a match to the current exception.  If it matches then the exception and type id are passed on to the landing pad.  Otherwise the next action is looked up.  This chain is terminated with a next action of zero.  If no type id is found the frame is unwound and handling continues. 3. Type id table contains references to all the C++ typeinfo for all catches in the function.  This tables is reversed indexed base 1. Returns the starting symbol of an exception table.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L113">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:113</a></p><h3 id="84F1172C0C5B3572"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#84F1172C0C5B3572">¶</a><code class="hdoc-function-code language-cpp">virtual void emitTypeInfos(
    unsigned int TTypeEncoding,
    <a href="r6E4FB5D603B18594.html">llvm::MCSymbol</a>* TTBaseLabel)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L115">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:115</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> TTypeEncoding</b></dt><dt class="is-family-code"><a href="r6E4FB5D603B18594.html">llvm::MCSymbol</a>*<b> TTBaseLabel</b></dt></dl><h3 id="E6A297E253E4E129"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E6A297E253E4E129">¶</a><code class="hdoc-function-code language-cpp">void endInstruction()</code></pre></h3><h4>Description</h4><p>Process end of an instruction.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L131">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:131</a></p><h3 id="4CD11C134A9583C1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4CD11C134A9583C1">¶</a><code class="hdoc-function-code language-cpp">static bool isCatchEHSelector(int Selector)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L122">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:122</a></p><h4>Parameters</h4><dl><dt class="is-family-code">int<b> Selector</b></dt></dl><h3 id="BD2553525817805A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BD2553525817805A">¶</a><code class="hdoc-function-code language-cpp">static bool isCleanupEHSelector(int Selector)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L121">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:121</a></p><h4>Parameters</h4><dl><dt class="is-family-code">int<b> Selector</b></dt></dl><h3 id="F0246F53F1E36395"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F0246F53F1E36395">¶</a><code class="hdoc-function-code language-cpp">static bool isFilterEHSelector(int Selector)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L120">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:120</a></p><h4>Parameters</h4><dl><dt class="is-family-code">int<b> Selector</b></dt></dl><h3 id="299698D9F922D939"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#299698D9F922D939">¶</a><code class="hdoc-function-code language-cpp">void setSymbolSize(const <a href="r6E4FB5D603B18594.html">llvm::MCSymbol</a>* Sym,
                   uint64_t Size)</code></pre></h3><h4>Description</h4><p>For symbols that have a size designated (e.g. common symbols), this tracks that size.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L129">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:129</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r6E4FB5D603B18594.html">llvm::MCSymbol</a>*<b> Sym</b></dt><dt class="is-family-code">uint64_t<b> Size</b></dt></dl><h3 id="8825D93379C9FCFD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8825D93379C9FCFD">¶</a><code class="hdoc-function-code language-cpp">static unsigned int sharedTypeIDs(
    const <a href="rDCC7D48BE2664A9F.html">llvm::LandingPadInfo</a>* L,
    const <a href="rDCC7D48BE2664A9F.html">llvm::LandingPadInfo</a>* R)</code></pre></h3><h4>Description</h4><p>How many leading type ids two landing pads have in common.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L39">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:39</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rDCC7D48BE2664A9F.html">llvm::LandingPadInfo</a>*<b> L</b></dt><dt class="is-family-code">const <a href="rDCC7D48BE2664A9F.html">llvm::LandingPadInfo</a>*<b> R</b></dt></dl><h3 id="F1D3A5E9BA554C8A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F1D3A5E9BA554C8A">¶</a><code class="hdoc-function-code language-cpp">~EHStreamer()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/CodeGen/AsmPrinter/EHStreamer.h#L126">llvm/lib/CodeGen/AsmPrinter/EHStreamer.h:126</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>