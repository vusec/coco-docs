<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class AllocaSlices: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#B70879D34B2F0103"><span>namespace sroa</span></a></li><li class="is-active"><a aria-current="page61ADD9DA10F2D611"><span>class AllocaSlices</span></a></li></ul></nav><main class="content"><h1>class AllocaSlices</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class AllocaSlices { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Representation of the alloca slices. This class represents the slices of an alloca which are formed by its various uses. If a pointer escapes, we can&apos;t fully build a representation for the slices used and we reflect that in this structure. The uses are stored, sorted by increasing beginning offset and with unsplittable slices starting at a particular offset before splittable slices.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L232">llvm/lib/Transforms/Scalar/SROA.cpp:232</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#7766D4D0C54E48FE"><b>AllocaSlices</b></a>(const llvm::DataLayout &amp; DL, llvm::AllocaInst &amp; AI)</li><li class="is-family-code">public llvm::sroa::AllocaSlices::iterator  <a href="#DA394A1F5E9E5282"><b>begin</b></a>()</li><li class="is-family-code">public llvm::sroa::AllocaSlices::const_iterator  <a href="#B0FCE5BA10BC568B"><b>begin</b></a>() const</li><li class="is-family-code">public void  <a href="#60FF493260E5623B"><b>dump</b></a>() const</li><li class="is-family-code">public void  <a href="#C629D9828684D808"><b>dump</b></a>(llvm::sroa::AllocaSlices::const_iterator I) const</li><li class="is-family-code">public llvm::sroa::AllocaSlices::iterator  <a href="#F4071E37BF93C547"><b>end</b></a>()</li><li class="is-family-code">public llvm::sroa::AllocaSlices::const_iterator  <a href="#A2B5D7873F9EDCDD"><b>end</b></a>() const</li><li class="is-family-code">public void  <a href="#DBADFF5B3F8F79C0"><b>erase</b></a>(llvm::sroa::AllocaSlices::iterator Start, llvm::sroa::AllocaSlices::iterator Stop)</li><li class="is-family-code">public ArrayRef&lt;llvm::Use *&gt;  <a href="#57CE79759D3D77BE"><b>getDeadOperands</b></a>() const</li><li class="is-family-code">public ArrayRef&lt;llvm::Instruction *&gt;  <a href="#8A06496991362D9D"><b>getDeadUsers</b></a>() const</li><li class="is-family-code">public void  <a href="#72146A1CBFEA058B"><b>insert</b></a>(ArrayRef&lt;(anonymous namespace)::Slice&gt; NewSlices)</li><li class="is-family-code">public bool  <a href="#ED373D31B753DD35"><b>isEscaped</b></a>() const</li><li class="is-family-code">public iterator_range&lt;llvm::sroa::AllocaSlices::partition_iterator&gt;  <a href="#B947FEB3F7B64E92"><b>partitions</b></a>()</li><li class="is-family-code">public void  <a href="#D246E40A94D78C51"><b>print</b></a>(llvm::raw_ostream &amp; OS) const</li><li class="is-family-code">public void  <a href="#AD515DA5E66BDF1E"><b>print</b></a>(llvm::raw_ostream &amp; OS, llvm::sroa::AllocaSlices::const_iterator I, llvm::StringRef Indent = &quot;  &quot;) const</li><li class="is-family-code">public void  <a href="#F0662F51F1D4909F"><b>printSlice</b></a>(llvm::raw_ostream &amp; OS, llvm::sroa::AllocaSlices::const_iterator I, llvm::StringRef Indent = &quot;  &quot;) const</li><li class="is-family-code">public void  <a href="#13C1E67758194653"><b>printUse</b></a>(llvm::raw_ostream &amp; OS, llvm::sroa::AllocaSlices::const_iterator I, llvm::StringRef Indent = &quot;  &quot;) const</li></ul><h2>Methods</h2><h3 id="7766D4D0C54E48FE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7766D4D0C54E48FE">¶</a><code class="hdoc-function-code language-cpp">AllocaSlices(const <a href="r36886900CAFBFB15.html">llvm::DataLayout</a>&amp; DL,
             <a href="rED2AB873C2DB35B1.html">llvm::AllocaInst</a>&amp; AI)</code></pre></h3><h4>Description</h4><p>Construct the slices of a particular alloca.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L235">llvm/lib/Transforms/Scalar/SROA.cpp:235</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r36886900CAFBFB15.html">llvm::DataLayout</a>&amp;<b> DL</b></dt><dt class="is-family-code"><a href="rED2AB873C2DB35B1.html">llvm::AllocaInst</a>&amp;<b> AI</b></dt></dl><h3 id="DA394A1F5E9E5282"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DA394A1F5E9E5282">¶</a><code class="hdoc-function-code language-cpp">llvm::sroa::AllocaSlices::iterator begin()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L248">llvm/lib/Transforms/Scalar/SROA.cpp:248</a></p><h3 id="B0FCE5BA10BC568B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B0FCE5BA10BC568B">¶</a><code class="hdoc-function-code language-cpp">llvm::sroa::AllocaSlices::const_iterator begin()
    const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L254">llvm/lib/Transforms/Scalar/SROA.cpp:254</a></p><h3 id="60FF493260E5623B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#60FF493260E5623B">¶</a><code class="hdoc-function-code language-cpp">void dump() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L298">llvm/lib/Transforms/Scalar/SROA.cpp:298</a></p><h3 id="C629D9828684D808"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C629D9828684D808">¶</a><code class="hdoc-function-code language-cpp">void dump(llvm::sroa::AllocaSlices::const_iterator
              I) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L297">llvm/lib/Transforms/Scalar/SROA.cpp:297</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::sroa::AllocaSlices::const_iterator<b> I</b></dt></dl><h3 id="F4071E37BF93C547"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F4071E37BF93C547">¶</a><code class="hdoc-function-code language-cpp">llvm::sroa::AllocaSlices::iterator end()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L249">llvm/lib/Transforms/Scalar/SROA.cpp:249</a></p><h3 id="A2B5D7873F9EDCDD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A2B5D7873F9EDCDD">¶</a><code class="hdoc-function-code language-cpp">llvm::sroa::AllocaSlices::const_iterator end()
    const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L255">llvm/lib/Transforms/Scalar/SROA.cpp:255</a></p><h3 id="DBADFF5B3F8F79C0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DBADFF5B3F8F79C0">¶</a><code class="hdoc-function-code language-cpp">void erase(
    llvm::sroa::AllocaSlices::iterator Start,
    llvm::sroa::AllocaSlices::iterator Stop)</code></pre></h3><h4>Description</h4><p>Erase a range of slices.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L259">llvm/lib/Transforms/Scalar/SROA.cpp:259</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::sroa::AllocaSlices::iterator<b> Start</b></dt><dt class="is-family-code">llvm::sroa::AllocaSlices::iterator<b> Stop</b></dt></dl><h3 id="57CE79759D3D77BE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#57CE79759D3D77BE">¶</a><code class="hdoc-function-code language-cpp"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::Use*&gt; getDeadOperands() const</code></pre></h3><h4>Description</h4><p>Access the dead operands referring to this alloca. These are operands which have cannot actually be used to refer to the alloca as they are outside its range and the user doesn&apos;t correct for that. These mostly consist of PHI node inputs and the like which we just need to replace with undef.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L288">llvm/lib/Transforms/Scalar/SROA.cpp:288</a></p><h3 id="8A06496991362D9D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8A06496991362D9D">¶</a><code class="hdoc-function-code language-cpp"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::Instruction*&gt; getDeadUsers() const</code></pre></h3><h4>Description</h4><p>Access the dead users for this alloca.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L280">llvm/lib/Transforms/Scalar/SROA.cpp:280</a></p><h3 id="72146A1CBFEA058B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#72146A1CBFEA058B">¶</a><code class="hdoc-function-code language-cpp">void insert(<a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;(anonymous namespace)::Slice&gt;
                NewSlices)</code></pre></h3><h4>Description</h4><p>Insert new slices for this alloca. This moves the slices into the alloca&apos;s slices collection, and re-sorts everything so that the usual ordering properties of the alloca&apos;s slices hold.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L266">llvm/lib/Transforms/Scalar/SROA.cpp:266</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;(anonymous namespace)::Slice&gt;<b> NewSlices</b></dt></dl><h3 id="ED373D31B753DD35"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ED373D31B753DD35">¶</a><code class="hdoc-function-code language-cpp">bool isEscaped() const</code></pre></h3><h4>Description</h4><p>Test whether a pointer to the allocation escapes our analysis. If this is true, the slices are never fully built and should be ignored.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L241">llvm/lib/Transforms/Scalar/SROA.cpp:241</a></p><h3 id="B947FEB3F7B64E92"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B947FEB3F7B64E92">¶</a><code class="hdoc-function-code language-cpp"><a href="rB51FEED19D352440.html">iterator_range</a>&lt;
    llvm::sroa::AllocaSlices::partition_iterator&gt;
partitions()</code></pre></h3><h4>Description</h4><p>A forward range over the partitions of the alloca&apos;s slices. This accesses an iterator range over the partitions of the alloca&apos;s slices. It computes these partitions on the fly based on the overlapping offsets of the slices and the ability to split them. It will visit &quot;empty&quot; partitions to cover regions of the alloca only accessed via split slices.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L277">llvm/lib/Transforms/Scalar/SROA.cpp:277</a></p><h3 id="D246E40A94D78C51"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D246E40A94D78C51">¶</a><code class="hdoc-function-code language-cpp">void print(<a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp; OS) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L296">llvm/lib/Transforms/Scalar/SROA.cpp:296</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp;<b> OS</b></dt></dl><h3 id="AD515DA5E66BDF1E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AD515DA5E66BDF1E">¶</a><code class="hdoc-function-code language-cpp">void print(
    <a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp; OS,
    llvm::sroa::AllocaSlices::const_iterator I,
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Indent = &quot;  &quot;) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L291">llvm/lib/Transforms/Scalar/SROA.cpp:291</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp;<b> OS</b></dt><dt class="is-family-code">llvm::sroa::AllocaSlices::const_iterator<b> I</b></dt><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Indent</b> = &quot;  &quot;</dt></dl><h3 id="F0662F51F1D4909F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F0662F51F1D4909F">¶</a><code class="hdoc-function-code language-cpp">void printSlice(
    <a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp; OS,
    llvm::sroa::AllocaSlices::const_iterator I,
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Indent = &quot;  &quot;) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L292">llvm/lib/Transforms/Scalar/SROA.cpp:292</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp;<b> OS</b></dt><dt class="is-family-code">llvm::sroa::AllocaSlices::const_iterator<b> I</b></dt><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Indent</b> = &quot;  &quot;</dt></dl><h3 id="13C1E67758194653"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#13C1E67758194653">¶</a><code class="hdoc-function-code language-cpp">void printUse(
    <a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp; OS,
    llvm::sroa::AllocaSlices::const_iterator I,
    <a href="rECFCAF624C04523A.html">llvm::StringRef</a> Indent = &quot;  &quot;) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/lib/Transforms/Scalar/SROA.cpp#L294">llvm/lib/Transforms/Scalar/SROA.cpp:294</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r6E5FB907260499A2.html">llvm::raw_ostream</a>&amp;<b> OS</b></dt><dt class="is-family-code">llvm::sroa::AllocaSlices::const_iterator<b> I</b></dt><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> Indent</b> = &quot;  &quot;</dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>