<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class RegisterBankInfo: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page6A3CE9DC197DD286"><span>class RegisterBankInfo</span></a></li></ul></nav><main class="content"><h1>class RegisterBankInfo</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class RegisterBankInfo { /* full declaration omitted */ };</code></pre><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L39">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:39</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_RegBanks">protected  llvm::RegisterBank** <b>RegBanks</b></dt><dd>Hold the set of supported register banks.</dd><dt class="is-family-code" id="var_NumRegBanks">protected  unsigned int <b>NumRegBanks</b></dt><dd>Total number of register banks.</dd><dt class="is-family-code" id="var_MapOfPartialMappings">protected  int <b>MapOfPartialMappings</b></dt><dt class="is-family-code" id="var_MapOfValueMappings">protected  int <b>MapOfValueMappings</b></dt><dt class="is-family-code" id="var_MapOfOperandsMappings">protected  int <b>MapOfOperandsMappings</b></dt><dt class="is-family-code" id="var_MapOfInstructionMappings">protected  int <b>MapOfInstructionMappings</b></dt><dt class="is-family-code" id="var_PhysRegMinimalRCs">protected  int <b>PhysRegMinimalRCs</b></dt><dt class="is-family-code" id="var_DefaultMappingID">public static  const unsigned int <b>DefaultMappingID</b></dt><dd>Identifier used when the related instruction mapping instance is generated by target independent code. Make sure not to use that identifier to avoid possible collision.</dd><dt class="is-family-code" id="var_InvalidMappingID">public static  const unsigned int <b>InvalidMappingID</b></dt><dd>Identifier used when the related instruction mapping instance is generated by the default constructor. Make sure not to use that identifier.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">protected  <a href="#23572EFEC16E1CDD"><b>RegisterBankInfo</b></a>()</li><li class="is-family-code">protected  <a href="#790AF4B7688DDB6B"><b>RegisterBankInfo</b></a>(llvm::RegisterBank ** RegBanks, unsigned int NumRegBanks)</li><li class="is-family-code">public static void  <a href="#BFB2CF3EC12E3E3E"><b>applyDefaultMapping</b></a>(const llvm::RegisterBankInfo::OperandsMapper &amp; OpdMapper)</li><li class="is-family-code">public void  <a href="#2743DE364CB097E7"><b>applyMapping</b></a>(const llvm::RegisterBankInfo::OperandsMapper &amp; OpdMapper) const</li><li class="is-family-code">public virtual void  <a href="#1D53FA28344B27E4"><b>applyMappingImpl</b></a>(const llvm::RegisterBankInfo::OperandsMapper &amp; OpdMapper) const</li><li class="is-family-code">public bool  <a href="#571B2E2E6DCD9D4B"><b>cannotCopy</b></a>(const llvm::RegisterBank &amp; Dst, const llvm::RegisterBank &amp; Src, unsigned int Size) const</li><li class="is-family-code">public static const llvm::TargetRegisterClass *  <a href="#B059AE2FB81BDABE"><b>constrainGenericRegister</b></a>(llvm::Register Reg, const llvm::TargetRegisterClass &amp; RC, llvm::MachineRegisterInfo &amp; MRI)</li><li class="is-family-code">public virtual unsigned int  <a href="#ED29D9C4029C88A7"><b>copyCost</b></a>(const llvm::RegisterBank &amp; A, const llvm::RegisterBank &amp; B, unsigned int Size) const</li><li class="is-family-code">public virtual unsigned int  <a href="#F947F6D1D732C165"><b>getBreakDownCost</b></a>(const llvm::RegisterBankInfo::ValueMapping &amp; ValMapping, const llvm::RegisterBank * CurBank = nullptr) const</li><li class="is-family-code">public virtual llvm::RegisterBankInfo::InstructionMappings  <a href="#5C1F48DCF3AC1030"><b>getInstrAlternativeMappings</b></a>(const llvm::MachineInstr &amp; MI) const</li><li class="is-family-code">public virtual const llvm::RegisterBankInfo::InstructionMapping &amp;  <a href="#17971287DA52C11D"><b>getInstrMapping</b></a>(const llvm::MachineInstr &amp; MI) const</li><li class="is-family-code">protected const llvm::RegisterBankInfo::InstructionMapping &amp;  <a href="#C7630A4692BA8FC1"><b>getInstrMappingImpl</b></a>(const llvm::MachineInstr &amp; MI) const</li><li class="is-family-code">public llvm::RegisterBankInfo::InstructionMappings  <a href="#4CC4444C26F713DF"><b>getInstrPossibleMappings</b></a>(const llvm::MachineInstr &amp; MI) const</li><li class="is-family-code">public const llvm::RegisterBankInfo::InstructionMapping &amp;  <a href="#3E70DFA22683734C"><b>getInstructionMapping</b></a>(unsigned int ID, unsigned int Cost, const llvm::RegisterBankInfo::ValueMapping * OperandsMapping, unsigned int NumOperands) const</li><li class="is-family-code">public const llvm::RegisterBankInfo::InstructionMapping &amp;  <a href="#F0C6DD85A50FFFB5"><b>getInvalidInstructionMapping</b></a>() const</li><li class="is-family-code">protected const llvm::TargetRegisterClass &amp;  <a href="#DB51A5275154D922"><b>getMinimalPhysRegClass</b></a>(llvm::Register Reg, const llvm::TargetRegisterInfo &amp; TRI) const</li><li class="is-family-code">public unsigned int  <a href="#85387D6AE1F93D05"><b>getNumRegBanks</b></a>() const</li><li class="is-family-code">protected template &lt;typename Iterator&gt;const llvm::RegisterBankInfo::ValueMapping *  <a href="#F3929111DE4F1D17"><b>getOperandsMapping</b></a>(Iterator Begin, Iterator End) const</li><li class="is-family-code">protected const llvm::RegisterBankInfo::ValueMapping *  <a href="#E711871374212854"><b>getOperandsMapping</b></a>(std::initializer_list&lt;const ValueMapping *&gt; OpdsMapping) const</li><li class="is-family-code">protected const llvm::RegisterBankInfo::ValueMapping *  <a href="#136DB9EC5C046867"><b>getOperandsMapping</b></a>(const SmallVectorImpl&lt;const llvm::RegisterBankInfo::ValueMapping *&gt; &amp; OpdsMapping) const</li><li class="is-family-code">protected const llvm::RegisterBankInfo::PartialMapping &amp;  <a href="#BCFE8CB70B9C8F05"><b>getPartialMapping</b></a>(unsigned int StartIdx, unsigned int Length, const llvm::RegisterBank &amp; RegBank) const</li><li class="is-family-code">public const llvm::RegisterBank *  <a href="#678389AD516BAE97"><b>getRegBank</b></a>(llvm::Register Reg, const llvm::MachineRegisterInfo &amp; MRI, const llvm::TargetRegisterInfo &amp; TRI) const</li><li class="is-family-code">public const llvm::RegisterBank &amp;  <a href="#AEC5CB75A9318901"><b>getRegBank</b></a>(unsigned int ID) const</li><li class="is-family-code">protected llvm::RegisterBank &amp;  <a href="#837814370453A999"><b>getRegBank</b></a>(unsigned int ID)</li><li class="is-family-code">public const llvm::RegisterBank *  <a href="#6E8A6E0C8A3EEC8A"><b>getRegBankFromConstraints</b></a>(const llvm::MachineInstr &amp; MI, unsigned int OpIdx, const llvm::TargetInstrInfo &amp; TII, const llvm::MachineRegisterInfo &amp; MRI) const</li><li class="is-family-code">public virtual const llvm::RegisterBank &amp;  <a href="#3D687206CB6957F8"><b>getRegBankFromRegClass</b></a>(const llvm::TargetRegisterClass &amp; RC, llvm::LLT Ty) const</li><li class="is-family-code">public unsigned int  <a href="#C3368E7A69DA0B4A"><b>getSizeInBits</b></a>(llvm::Register Reg, const llvm::MachineRegisterInfo &amp; MRI, const llvm::TargetRegisterInfo &amp; TRI) const</li><li class="is-family-code">protected const llvm::RegisterBankInfo::ValueMapping &amp;  <a href="#87AD491BE709D147"><b>getValueMapping</b></a>(const llvm::RegisterBankInfo::PartialMapping * BreakDown, unsigned int NumBreakDowns) const</li><li class="is-family-code">protected const llvm::RegisterBankInfo::ValueMapping &amp;  <a href="#ED6C009AAA8ED7BE"><b>getValueMapping</b></a>(unsigned int StartIdx, unsigned int Length, const llvm::RegisterBank &amp; RegBank) const</li><li class="is-family-code">public bool  <a href="#56B1CC37A5641E68"><b>verify</b></a>(const llvm::TargetRegisterInfo &amp; TRI) const</li><li class="is-family-code">public virtual  <a href="#BB02F724BEB9A787"><b>~RegisterBankInfo</b></a>()</li></ul><h2>Methods</h2><h3 id="23572EFEC16E1CDD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#23572EFEC16E1CDD">Â¶</a><code class="hdoc-function-code language-cpp">RegisterBankInfo()</code></pre></h3><h4>Description</h4><p>This constructor is meaningless. It just provides a default constructor that can be used at link time when GlobalISel is not built. That way, targets can still inherit from this class without doing crazy gymnastic to avoid link time failures.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L426">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:426</a></p><h3 id="790AF4B7688DDB6B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#790AF4B7688DDB6B">Â¶</a><code class="hdoc-function-code language-cpp">RegisterBankInfo(llvm::RegisterBank** RegBanks,
                 unsigned int NumRegBanks)</code></pre></h3><h4>Description</h4><p>Create a RegisterBankInfo that can accommodate up to \p NumRegBanks RegisterBank instances.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L418">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:418</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::RegisterBank**<b> RegBanks</b></dt><dt class="is-family-code">unsigned int<b> NumRegBanks</b></dt></dl><h3 id="BFB2CF3EC12E3E3E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BFB2CF3EC12E3E3E">Â¶</a><code class="hdoc-function-code language-cpp">static void applyDefaultMapping(
    const <a href="rF0EB1728254824D4.html">llvm::RegisterBankInfo::OperandsMapper</a>&amp;
        OpdMapper)</code></pre></h3><h4>Description</h4><p>Helper method to apply something that is like the default mapping. Basically, that means that \p OpdMapper.getMI() is left untouched aside from the reassignment of the register operand that have been remapped. The type of all the new registers that have been created by the mapper are properly remapped to the type of the original registers they replace. In other words, the semantic of the instruction does not change, only the register banks. If the mapping of one of the operand spans several registers, this method will abort as this is not like a default mapping anymore.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L564">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:564</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rF0EB1728254824D4.html">llvm::RegisterBankInfo::OperandsMapper</a>&amp;<b> OpdMapper</b></dt></dl><h3 id="2743DE364CB097E7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2743DE364CB097E7">Â¶</a><code class="hdoc-function-code language-cpp">void applyMapping(
    const <a href="rF0EB1728254824D4.html">llvm::RegisterBankInfo::OperandsMapper</a>&amp;
        OpdMapper) const</code></pre></h3><h4>Description</h4><p>Apply \p OpdMapper.getInstrMapping() to \p OpdMapper.getMI(). After this call \p OpdMapper.getMI() may not be valid anymore.\p OpdMapper.getInstrMapping().getID() carries the information of what has been chosen to map \p OpdMapper.getMI(). This ID is set by the various getInstrXXXMapping method. Therefore, getting the mapping and applying it should be kept in sync.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L714">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:714</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rF0EB1728254824D4.html">llvm::RegisterBankInfo::OperandsMapper</a>&amp;<b> OpdMapper</b></dt></dl><h3 id="1D53FA28344B27E4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1D53FA28344B27E4">Â¶</a><code class="hdoc-function-code language-cpp">virtual void applyMappingImpl(
    const <a href="rF0EB1728254824D4.html">llvm::RegisterBankInfo::OperandsMapper</a>&amp;
        OpdMapper) const</code></pre></h3><h4>Description</h4><p>See ::applyMapping.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L567">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:567</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rF0EB1728254824D4.html">llvm::RegisterBankInfo::OperandsMapper</a>&amp;<b> OpdMapper</b></dt></dl><h3 id="571B2E2E6DCD9D4B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#571B2E2E6DCD9D4B">Â¶</a><code class="hdoc-function-code language-cpp">bool cannotCopy(const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; Dst,
                const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; Src,
                unsigned int Size) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L623">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:623</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;<b> Dst</b></dt><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;<b> Src</b></dt><dt class="is-family-code">unsigned int<b> Size</b></dt></dl><h4>Returns</h4><p>true if emitting a copy from \p Src to \p Dst is impossible.</p><h3 id="B059AE2FB81BDABE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B059AE2FB81BDABE">Â¶</a><code class="hdoc-function-code language-cpp">static const <a href="r413242C5B6D720F3.html">llvm::TargetRegisterClass</a>*
constrainGenericRegister(
    <a href="rD04632A218C37229.html">llvm::Register</a> Reg,
    const <a href="r413242C5B6D720F3.html">llvm::TargetRegisterClass</a>&amp; RC,
    <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp; MRI)</code></pre></h3><h4>Description</h4><p>Constrain the (possibly generic) virtual register \p Reg to \p RC.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L645">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:645</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD04632A218C37229.html">llvm::Register</a><b> Reg</b></dt><dt class="is-family-code">const <a href="r413242C5B6D720F3.html">llvm::TargetRegisterClass</a>&amp;<b> RC</b></dt><dt class="is-family-code"><a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp;<b> MRI</b></dt></dl><h4>Returns</h4><p>The constrained register class, or nullptr if there is none.</p><h3 id="ED29D9C4029C88A7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ED29D9C4029C88A7">Â¶</a><code class="hdoc-function-code language-cpp">virtual unsigned int copyCost(
    const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; A,
    const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; B,
    unsigned int Size) const</code></pre></h3><h4>Description</h4><p>Get the cost of a copy from \p B to \p A, or put differently, get the cost of A = COPY B. Since register banks may cover different size, \p Size specifies what will be the size in bits that will be copied around.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L613">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:613</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;<b> A</b></dt><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;<b> B</b></dt><dt class="is-family-code">unsigned int<b> Size</b></dt></dl><h3 id="F947F6D1D732C165"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F947F6D1D732C165">Â¶</a><code class="hdoc-function-code language-cpp">virtual unsigned int getBreakDownCost(
    const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>&amp;
        ValMapping,
    const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>* CurBank =
        nullptr) const</code></pre></h3><h4>Description</h4><p>Get the cost of using \p ValMapping to decompose a register. This is similar to ::copyCost, except for cases where multiple copy-like operations need to be inserted. If the register is used as a source operand and already has a bank assigned, \p CurBank is non-null.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L632">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:632</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>&amp;<b> ValMapping</b></dt><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>*<b> CurBank</b> = nullptr</dt></dl><h3 id="5C1F48DCF3AC1030"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5C1F48DCF3AC1030">Â¶</a><code class="hdoc-function-code language-cpp">virtual llvm::RegisterBankInfo::
    InstructionMappings
    getInstrAlternativeMappings(
        const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI) const</code></pre></h3><h4>Description</h4><p>Get the alternative mappings for \p MI. Alternative in the sense different from getInstrMapping.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L686">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:686</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="17971287DA52C11D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#17971287DA52C11D">Â¶</a><code class="hdoc-function-code language-cpp">virtual const llvm::RegisterBankInfo::
    InstructionMapping&amp;
    getInstrMapping(
        const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI) const</code></pre></h3><h4>Description</h4><p>Get the mapping of the different operands of \p MI on the register bank. This mapping should be the direct translation of \p MI. In other words, when \p MI is mapped with the returned mapping, only the register banks of the operands of \p MI need to be updated. In particular, neither the opcode nor the type of \p MI needs to be updated for this direct mapping. The target independent implementation gives a mapping based on the register classes for the target specific opcode. It uses the ID RegisterBankInfo::DefaultMappingID for that mapping. Make sure you do not use that ID for the alternative mapping for MI. See getInstrAlternativeMappings for the alternative mappings. For instance, if \p MI is a vector add, the mapping should not be a scalarization of the add.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L681">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:681</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="C7630A4692BA8FC1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C7630A4692BA8FC1">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rE1216D1603AE3BE0.html">llvm::RegisterBankInfo::InstructionMapping</a>&amp;
getInstrMappingImpl(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI) const</code></pre></h3><h4>Description</h4><p>Try to get the mapping of \p MI. See getInstrMapping for more details on what a mapping represents. Unlike getInstrMapping the returned InstructionMapping may be invalid (isValid() == false). This means that the target independent code is not smart enough to get the mapping of \p MI and thus, the target has to provide the information for \p MI. This implementation is able to get the mapping of: - Target specific instructions by looking at the encoding constraints. - Any instruction if all the register operands have already been assigned a register, a register class, or a register bank. - Copies and phis if at least one of the operands has been assigned a register, a register class, or a register bank. In other words, this method will likely fail to find a mapping for any generic opcode that has not been lowered by target specific code.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L458">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:458</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="4CC4444C26F713DF"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4CC4444C26F713DF">Â¶</a><code class="hdoc-function-code language-cpp"><a href="r62CD0592E97953B6.html">llvm::RegisterBankInfo::InstructionMappings</a>
getInstrPossibleMappings(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI) const</code></pre></h3><h4>Description</h4><p>Get the possible mapping for \p MI. A mapping defines where the different operands may live and at what cost. For instance, let us consider: v0(16) = G_ADD  &lt; 2 x i8&gt; v1, v2 The possible mapping could be: {/*ID*/VectorAdd, /*Cost*/1, /*v0*/{(0xFFFF, VPR)}, /*v1*/{(0xFFFF, VPR)}, /*v2*/{(0xFFFF, VPR)}} {/*ID*/ScalarAddx2, /*Cost*/2, /*v0*/{(0x00FF, GPR),(0xFF00, GPR)}, /*v1*/{(0x00FF, GPR),(0xFF00, GPR)}, /*v2*/{(0x00FF, GPR),(0xFF00, GPR)}}</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L704">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:704</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt></dl><h3 id="3E70DFA22683734C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3E70DFA22683734C">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rE1216D1603AE3BE0.html">llvm::RegisterBankInfo::InstructionMapping</a>&amp;
getInstructionMapping(
    unsigned int ID,
    unsigned int Cost,
    const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>*
        OperandsMapping,
    unsigned int NumOperands) const</code></pre></h3><h4>Description</h4><p>Method to get a uniquely generated InstructionMapping.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L525">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:525</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> ID</b></dt><dt class="is-family-code">unsigned int<b> Cost</b></dt><dt class="is-family-code">const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>*<b> OperandsMapping</b></dt><dt class="is-family-code">unsigned int<b> NumOperands</b></dt></dl><h3 id="F0C6DD85A50FFFB5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F0C6DD85A50FFFB5">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rE1216D1603AE3BE0.html">llvm::RegisterBankInfo::InstructionMapping</a>&amp;
getInvalidInstructionMapping() const</code></pre></h3><h4>Description</h4><p>Method to get a uniquely generated invalid InstructionMapping.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L533">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:533</a></p><h3 id="DB51A5275154D922"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DB51A5275154D922">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="r413242C5B6D720F3.html">llvm::TargetRegisterClass</a>&amp;
getMinimalPhysRegClass(
    <a href="rD04632A218C37229.html">llvm::Register</a> Reg,
    const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp; TRI) const</code></pre></h3><h4>Description</h4><p>Get the MinimalPhysRegClass for Reg.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L439">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:439</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD04632A218C37229.html">llvm::Register</a><b> Reg</b></dt><dt class="is-family-code">const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp;<b> TRI</b></dt></dl><h3 id="85387D6AE1F93D05"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#85387D6AE1F93D05">Â¶</a><code class="hdoc-function-code language-cpp">unsigned int getNumRegBanks() const</code></pre></h3><h4>Description</h4><p>Get the total number of register banks.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L588">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:588</a></p><h3 id="F3929111DE4F1D17"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F3929111DE4F1D17">Â¶</a><code class="hdoc-function-code language-cpp">template &lt;typename Iterator&gt;
const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>*
getOperandsMapping(Iterator Begin,
                   Iterator End) const</code></pre></h3><h4>Description</h4><p>Get the uniquely generated array of ValueMapping for the elements of between \p Begin and \p End. Elements that are nullptr will be replaced by invalid ValueMapping (ValueMapping::isValid == false).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L492">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:492</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> Iterator</b></dt></dl><h4>Parameters</h4><dl><dt class="is-family-code">Iterator<b> Begin</b></dt><dt class="is-family-code">Iterator<b> End</b></dt></dl><h3 id="E711871374212854"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E711871374212854">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>*
getOperandsMapping(
    std::initializer_list&lt;const ValueMapping*&gt;
        OpdsMapping) const</code></pre></h3><h4>Description</h4><p>Get the uniquely generated array of ValueMapping for the given arguments. Arguments that are nullptr will be replaced by invalid ValueMapping (ValueMapping::isValid == false).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L507">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:507</a></p><h4>Parameters</h4><dl><dt class="is-family-code">std::initializer_list&lt;const ValueMapping*&gt;<b> OpdsMapping</b></dt></dl><h3 id="136DB9EC5C046867"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#136DB9EC5C046867">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>*
getOperandsMapping(
    const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
        const llvm::RegisterBankInfo::
            ValueMapping*&gt;&amp; OpdsMapping) const</code></pre></h3><h4>Description</h4><p>Get the uniquely generated array of ValueMapping for the elements of \p OpdsMapping. Elements of \p OpdsMapping that are nullptr will be replaced by invalid ValueMapping (ValueMapping::isValid == false).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L499">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:499</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r6CBD92E95A65634C.html">SmallVectorImpl</a>&lt;
    const llvm::RegisterBankInfo::ValueMapping*&gt;&amp;<b> OpdsMapping</b></dt></dl><h3 id="BCFE8CB70B9C8F05"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BCFE8CB70B9C8F05">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="r537E086A9D035DD5.html">llvm::RegisterBankInfo::PartialMapping</a>&amp;
getPartialMapping(
    unsigned int StartIdx,
    unsigned int Length,
    const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; RegBank) const</code></pre></h3><h4>Description</h4><p>Get the uniquely generated PartialMapping for the given arguments.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L462">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:462</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> StartIdx</b></dt><dt class="is-family-code">unsigned int<b> Length</b></dt><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;<b> RegBank</b></dt></dl><h3 id="678389AD516BAE97"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#678389AD516BAE97">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>* getRegBank(
    <a href="rD04632A218C37229.html">llvm::Register</a> Reg,
    const <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp; MRI,
    const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp; TRI) const</code></pre></h3><h4>Description</h4><p>Get the register bank of \p Reg. If Reg has not been assigned a register, a register class, or a register bank, then this returns nullptr.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L584">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:584</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD04632A218C37229.html">llvm::Register</a><b> Reg</b></dt><dt class="is-family-code">const <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp;<b> MRI</b></dt><dt class="is-family-code">const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp;<b> TRI</b></dt></dl><h3 id="AEC5CB75A9318901"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#AEC5CB75A9318901">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; getRegBank(
    unsigned int ID) const</code></pre></h3><h4>Description</h4><p>Get the register bank identified by \p ID.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L575">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:575</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> ID</b></dt></dl><h3 id="837814370453A999"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#837814370453A999">Â¶</a><code class="hdoc-function-code language-cpp"><a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; getRegBank(unsigned int ID)</code></pre></h3><h4>Description</h4><p>Get the register bank identified by \p ID.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L431">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:431</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> ID</b></dt></dl><h3 id="6E8A6E0C8A3EEC8A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#6E8A6E0C8A3EEC8A">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>*
getRegBankFromConstraints(
    const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp; MI,
    unsigned int OpIdx,
    const <a href="rFA5623F5DD11136D.html">llvm::TargetInstrInfo</a>&amp; TII,
    const <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp; MRI) const</code></pre></h3><h4>Description</h4><p>Get the register bank for the \p OpIdx-th operand of \p MI form the encoding constraints, if any.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L545">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:545</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD562DBB6D69859EC.html">llvm::MachineInstr</a>&amp;<b> MI</b></dt><dt class="is-family-code">unsigned int<b> OpIdx</b></dt><dt class="is-family-code">const <a href="rFA5623F5DD11136D.html">llvm::TargetInstrInfo</a>&amp;<b> TII</b></dt><dt class="is-family-code">const <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp;<b> MRI</b></dt></dl><h4>Returns</h4><p>A register bank that covers the register class of the related encoding constraints or nullptr if \p MI did not provide enough information to deduce it.</p><h3 id="3D687206CB6957F8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3D687206CB6957F8">Â¶</a><code class="hdoc-function-code language-cpp">virtual const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;
getRegBankFromRegClass(
    const <a href="r413242C5B6D720F3.html">llvm::TargetRegisterClass</a>&amp; RC,
    <a href="r39DC930C6225822E.html">llvm::LLT</a> Ty) const</code></pre></h3><h4>Description</h4><p>Get a register bank that covers \p RC.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L603">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:603</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r413242C5B6D720F3.html">llvm::TargetRegisterClass</a>&amp;<b> RC</b></dt><dt class="is-family-code"><a href="r39DC930C6225822E.html">llvm::LLT</a><b> Ty</b></dt></dl><h3 id="C3368E7A69DA0B4A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C3368E7A69DA0B4A">Â¶</a><code class="hdoc-function-code language-cpp">unsigned int getSizeInBits(
    <a href="rD04632A218C37229.html">llvm::Register</a> Reg,
    const <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp; MRI,
    const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp; TRI) const</code></pre></h3><h4>Description</h4><p>Get the size in bits of \p Reg. Utility method to get the size of any registers. Unlike MachineRegisterInfo::getSize, the register does not need to be a virtual register.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L730">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:730</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD04632A218C37229.html">llvm::Register</a><b> Reg</b></dt><dt class="is-family-code">const <a href="rFEED0093AAFD6DB4.html">llvm::MachineRegisterInfo</a>&amp;<b> MRI</b></dt><dt class="is-family-code">const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp;<b> TRI</b></dt></dl><h3 id="87AD491BE709D147"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#87AD491BE709D147">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>&amp;
getValueMapping(
    const <a href="r537E086A9D035DD5.html">llvm::RegisterBankInfo::PartialMapping</a>*
        BreakDown,
    unsigned int NumBreakDowns) const</code></pre></h3><h4>Description</h4><p>Get the ValueMapping for the given arguments.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L474">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:474</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r537E086A9D035DD5.html">llvm::RegisterBankInfo::PartialMapping</a>*<b> BreakDown</b></dt><dt class="is-family-code">unsigned int<b> NumBreakDowns</b></dt></dl><h3 id="ED6C009AAA8ED7BE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ED6C009AAA8ED7BE">Â¶</a><code class="hdoc-function-code language-cpp">const <a href="rBA15DFD8A7E9D57C.html">llvm::RegisterBankInfo::ValueMapping</a>&amp;
getValueMapping(
    unsigned int StartIdx,
    unsigned int Length,
    const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp; RegBank) const</code></pre></h3><h4>Description</h4><p>The most common ValueMapping consists of a single PartialMapping. Feature a method for that.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L470">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:470</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> StartIdx</b></dt><dt class="is-family-code">unsigned int<b> Length</b></dt><dt class="is-family-code">const <a href="r1B6DFCC42FF465D0.html">llvm::RegisterBank</a>&amp;<b> RegBank</b></dt></dl><h3 id="56B1CC37A5641E68"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#56B1CC37A5641E68">Â¶</a><code class="hdoc-function-code language-cpp">bool verify(
    const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp; TRI) const</code></pre></h3><h4>Description</h4><p>Check that information hold by this instance make sense for the given \p TRI.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L739">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:739</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r2F26D4796E7C36E2.html">llvm::TargetRegisterInfo</a>&amp;<b> TRI</b></dt></dl><h4>Returns</h4><p>True is the check was successful.</p><h3 id="BB02F724BEB9A787"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BB02F724BEB9A787">Â¶</a><code class="hdoc-function-code language-cpp">virtual ~RegisterBankInfo()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h#L572">llvm/include/llvm/CodeGen/GlobalISel/RegisterBankInfo.h:572</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>