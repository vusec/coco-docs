<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct CachePruningPolicy: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page1B869C24517F768A"><span>struct CachePruningPolicy</span></a></li></ul></nav><main class="content"><h1>struct CachePruningPolicy</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct CachePruningPolicy { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Policy for the pruneCache() function. A default constructed CachePruningPolicy provides a reasonable default policy.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/CachePruning.h#L26">llvm/include/llvm/Support/CachePruning.h:26</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Interval">public  <a href="r6607998C23E31109.html">llvm::Optional</a>&lt;std::chrono::seconds&gt; <b>Interval</b> = std::chrono::duration&lt;long, std::ratio&lt;1, 1&gt;&gt;(1200)</dt><dd>The pruning interval. This is intended to be used to avoid scanning the directory too often. It does not impact the decision of which file to prune. A value of 0 forces the scan to occur. A value of None disables pruning.</dd><dt class="is-family-code" id="var_Expiration">public  std::chrono::seconds <b>Expiration</b> = std::chrono::duration&lt;long, std::ratio&lt;3600, 1&gt;&gt;(7 * 24)</dt><dd>The expiration for a file. When a file hasn&apos;t been accessed for Expiration seconds, it is removed from the cache. A value of 0 disables the expiration-based pruning.</dd><dt class="is-family-code" id="var_MaxSizePercentageOfAvailableSpace">public  unsigned int <b>MaxSizePercentageOfAvailableSpace</b> = 75</dt><dd>The maximum size for the cache directory, in terms of percentage of the available space on the disk. Set to 100 to indicate no limit, 50 to indicate that the cache size will not be left over half the available disk space. A value over 100 will be reduced to 100. A value of 0 disables the percentage size-based pruning.</dd><dt class="is-family-code" id="var_MaxSizeBytes">public  uint64_t <b>MaxSizeBytes</b> = 0</dt><dd>The maximum size for the cache directory in bytes. A value over the amount of available space on the disk will be reduced to the amount of available space. A value of 0 disables the absolute size-based pruning.</dd><dt class="is-family-code" id="var_MaxSizeFiles">public  uint64_t <b>MaxSizeFiles</b> = 1000000</dt><dd>This defaults to 1000000 because with that many files there are diminishing returns on the effectiveness of the cache. Some systems have a limit on total number of files, and some also limit the number of files per directory, such as Linux ext4, with the default setting (block size is 4096 and large_dir disabled), there is a per-directory entry limit of 508*510*floor(4096/(40+8))~=20M for average filename length of 40.</dd></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>