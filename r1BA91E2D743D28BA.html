<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct Loop::LoopBounds: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="r210AF08D1E341AC3.html"><span>class Loop</span></a></li><li class="is-active"><a aria-current="page1BA91E2D743D28BA"><span>struct Loop::LoopBounds</span></a></li></ul></nav><main class="content"><h1>struct Loop::LoopBounds</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct Loop::LoopBounds { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Below are some utilities to get the loop guard, loop bounds and induction variable, and to check if a given phinode is an auxiliary induction variable, if the loop is guarded, and if the loop is canonical. Here is an example: - getBounds - getInitialIVValue      --&gt; lb - getStepInst            --&gt; i_2 = i_1 + step - getStepValue           --&gt; step - getFinalIVValue        --&gt; ub - getCanonicalPredicate  --&gt; &apos; &lt; &apos; - getDirection           --&gt; Increasing - getInductionVariable            --&gt; i_1 - isAuxiliaryInductionVariable(x) --&gt; true if x == i_1 - getLoopGuardBranch() --&gt; `if (guardcmp) goto preheader; else goto afterloop` - isGuarded()                     --&gt; true - isCanonical                     --&gt; false</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L614">llvm/include/llvm/Analysis/LoopInfo.h:614</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public static Optional&lt;Loop::LoopBounds&gt;  <a href="#7BD327B17A71F545"><b>getBounds</b></a>(const llvm::Loop &amp; L, llvm::PHINode &amp; IndVar, llvm::ScalarEvolution &amp; SE)</li><li class="is-family-code">public ICmpInst::Predicate  <a href="#4D291EB8893DA007"><b>getCanonicalPredicate</b></a>() const</li><li class="is-family-code">public llvm::Loop::LoopBounds::Direction  <a href="#579ECF030FA77A40"><b>getDirection</b></a>() const</li><li class="is-family-code">public llvm::Value &amp;  <a href="#9BB9FA3332484D8E"><b>getFinalIVValue</b></a>() const</li><li class="is-family-code">public llvm::Value &amp;  <a href="#4E6AEC24E8545192"><b>getInitialIVValue</b></a>() const</li><li class="is-family-code">public llvm::Instruction &amp;  <a href="#68F22DC5A072ACE7"><b>getStepInst</b></a>() const</li><li class="is-family-code">public llvm::Value *  <a href="#3A262EE5051382E9"><b>getStepValue</b></a>() const</li></ul><h2>Methods</h2><h3 id="7BD327B17A71F545"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7BD327B17A71F545">¶</a><code class="hdoc-function-code language-cpp">static <a href="r6607998C23E31109.html">Optional</a>&lt;Loop::LoopBounds&gt; getBounds(
    const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp; L,
    <a href="r33A490E798BA8C33.html">llvm::PHINode</a>&amp; IndVar,
    <a href="r0D901B7ED6429B0A.html">llvm::ScalarEvolution</a>&amp; SE)</code></pre></h3><h4>Description</h4><p>Return the LoopBounds object if - the given \p IndVar is an induction variable - the initial value of the induction variable can be found - the step instruction of the induction variable can be found - the final value of the induction variable can be found Else None.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L622">llvm/include/llvm/Analysis/LoopInfo.h:622</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r210AF08D1E341AC3.html">llvm::Loop</a>&amp;<b> L</b></dt><dt class="is-family-code"><a href="r33A490E798BA8C33.html">llvm::PHINode</a>&amp;<b> IndVar</b></dt><dt class="is-family-code"><a href="r0D901B7ED6429B0A.html">llvm::ScalarEvolution</a>&amp;<b> SE</b></dt></dl><h3 id="4D291EB8893DA007"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4D291EB8893DA007">¶</a><code class="hdoc-function-code language-cpp">ICmpInst::Predicate getCanonicalPredicate() const</code></pre></h3><h4>Description</h4><p>Return the canonical predicate for the latch compare instruction, if able to be calcuated. Else BAD_ICMP_PREDICATE. A predicate is considered as canonical if requirements below are all satisfied: 1. The first successor of the latch branch is the loop header If not, inverse the predicate. 2. One of the operands of the latch comparison is StepInst If not, and - if the current calcuated predicate is not ne or eq, flip the predicate. - else if the loop is increasing, return slt (notice that it is safe to change from ne or eq to sign compare) - else if the loop is decreasing, return sgt (notice that it is safe to change from ne or eq to sign compare) Here is an example when both (1) and (2) are not satisfied: - The second successor of the latch branch is the loop header instead of the first successor (slt -&gt; sge) - The first operand of the latch comparison (%cmp) is the IndVar (%iv) instead of the StepInst (%inc) (sge -&gt; sgt) The predicate would be sgt if both (1) and (2) are satisfied. getCanonicalPredicate() returns sgt for this example. Note: The IR is not changed.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L671">llvm/include/llvm/Analysis/LoopInfo.h:671</a></p><h3 id="579ECF030FA77A40"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#579ECF030FA77A40">¶</a><code class="hdoc-function-code language-cpp">llvm::Loop::LoopBounds::Direction getDirection()
    const</code></pre></h3><h4>Description</h4><p>Get the direction of the loop.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L680">llvm/include/llvm/Analysis/LoopInfo.h:680</a></p><h3 id="9BB9FA3332484D8E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9BB9FA3332484D8E">¶</a><code class="hdoc-function-code language-cpp"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>&amp; getFinalIVValue() const</code></pre></h3><h4>Description</h4><p>Get the final value of the loop induction variable.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L636">llvm/include/llvm/Analysis/LoopInfo.h:636</a></p><h3 id="4E6AEC24E8545192"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4E6AEC24E8545192">¶</a><code class="hdoc-function-code language-cpp"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>&amp; getInitialIVValue() const</code></pre></h3><h4>Description</h4><p>Get the initial value of the loop induction variable.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L626">llvm/include/llvm/Analysis/LoopInfo.h:626</a></p><h3 id="68F22DC5A072ACE7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#68F22DC5A072ACE7">¶</a><code class="hdoc-function-code language-cpp"><a href="rE266D8602316BABC.html">llvm::Instruction</a>&amp; getStepInst() const</code></pre></h3><h4>Description</h4><p>Get the instruction that updates the loop induction variable.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L629">llvm/include/llvm/Analysis/LoopInfo.h:629</a></p><h3 id="3A262EE5051382E9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3A262EE5051382E9">¶</a><code class="hdoc-function-code language-cpp"><a href="r4EC65655F3BC4E59.html">llvm::Value</a>* getStepValue() const</code></pre></h3><h4>Description</h4><p>Get the step that the loop induction variable gets updated by in each loop iteration. Return nullptr if not found.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Analysis/LoopInfo.h#L633">llvm/include/llvm/Analysis/LoopInfo.h:633</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>