<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class PassManagerBuilder: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page81247F87B7F825E5"><span>class PassManagerBuilder</span></a></li></ul></nav><main class="content"><h1>class PassManagerBuilder</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class PassManagerBuilder { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>PassManagerBuilder - This class is used to set up a standard optimization sequence for languages like C and C++, allowing some APIs to customize the pass sequence in various ways. A simple example of using it would be: PassManagerBuilder Builder; Builder.OptLevel = 2; Builder.populateFunctionPassManager(FPM); Builder.populateModulePassManager(MPM); In addition to setting up the basic passes, PassManagerBuilder allows frontends to vend a plugin API, where plugins are allowed to add extensions to the default pass manager.  They do this by specifying where in the pass pipeline they want to be added, along with a callback function that adds the pass(es).  For example, a plugin that wanted to add a loop optimization could do something like this: static void addMyLoopPass(const PMBuilder  &amp;Builder , PassManagerBase  &amp;PM ) { if (Builder.getOptLevel() &gt; 2  &amp; &amp; Builder.getOptSizeLevel() == 0) PM.add(createMyAwesomePass()); } ... Builder.addExtension(PassManagerBuilder::EP_LoopOptimizerEnd, addMyLoopPass); ...</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L58">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:58</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_OptLevel">public  unsigned int <b>OptLevel</b></dt><dd>The Optimization Level - Specify the basic optimization level. 0 = -O0, 1 = -O1, 2 = -O2, 3 = -O3</dd><dt class="is-family-code" id="var_SizeLevel">public  unsigned int <b>SizeLevel</b></dt><dd>SizeLevel - How much we&apos;re optimizing for size. 0 = none, 1 = -Os, 2 = -Oz</dd><dt class="is-family-code" id="var_LibraryInfo">public  <a href="r4B37EA5DB1124004.html">llvm::TargetLibraryInfoImpl</a>* <b>LibraryInfo</b></dt><dd>LibraryInfo - Specifies information about the runtime library for the optimizer.  If this is non-null, it is added to both the function and per-module pass pipeline.</dd><dt class="is-family-code" id="var_Inliner">public  <a href="r5C699BA905513C7D.html">llvm::Pass</a>* <b>Inliner</b></dt><dd>Inliner - Specifies the inliner to use.  If this is non-null, it is added to the per-module passes.</dd><dt class="is-family-code" id="var_ExportSummary">public  <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>* <b>ExportSummary</b> = nullptr</dt><dd>The module summary index to use for exporting information from the regular LTO phase, for example for the CFI and devirtualization type tests.</dd><dt class="is-family-code" id="var_ImportSummary">public  const <a href="r0D550CCF2A4A1051.html">llvm::ModuleSummaryIndex</a>* <b>ImportSummary</b> = nullptr</dt><dd>The module summary index to use for importing information to the thin LTO backends, for example for the CFI and devirtualization type tests.</dd><dt class="is-family-code" id="var_DisableTailCalls">public  bool <b>DisableTailCalls</b></dt><dt class="is-family-code" id="var_DisableUnrollLoops">public  bool <b>DisableUnrollLoops</b></dt><dt class="is-family-code" id="var_SLPVectorize">public  bool <b>SLPVectorize</b></dt><dt class="is-family-code" id="var_LoopVectorize">public  bool <b>LoopVectorize</b></dt><dt class="is-family-code" id="var_LoopsInterleaved">public  bool <b>LoopsInterleaved</b></dt><dt class="is-family-code" id="var_RerollLoops">public  bool <b>RerollLoops</b></dt><dt class="is-family-code" id="var_NewGVN">public  bool <b>NewGVN</b></dt><dt class="is-family-code" id="var_DisableGVNLoadPRE">public  bool <b>DisableGVNLoadPRE</b></dt><dt class="is-family-code" id="var_ForgetAllSCEVInLoopUnroll">public  bool <b>ForgetAllSCEVInLoopUnroll</b></dt><dt class="is-family-code" id="var_VerifyInput">public  bool <b>VerifyInput</b></dt><dt class="is-family-code" id="var_VerifyOutput">public  bool <b>VerifyOutput</b></dt><dt class="is-family-code" id="var_MergeFunctions">public  bool <b>MergeFunctions</b></dt><dt class="is-family-code" id="var_PrepareForLTO">public  bool <b>PrepareForLTO</b></dt><dt class="is-family-code" id="var_PrepareForThinLTO">public  bool <b>PrepareForThinLTO</b></dt><dt class="is-family-code" id="var_PerformThinLTO">public  bool <b>PerformThinLTO</b></dt><dt class="is-family-code" id="var_DivergentTarget">public  bool <b>DivergentTarget</b></dt><dt class="is-family-code" id="var_LicmMssaOptCap">public  unsigned int <b>LicmMssaOptCap</b></dt><dt class="is-family-code" id="var_LicmMssaNoAccForPromotionCap">public  unsigned int <b>LicmMssaNoAccForPromotionCap</b></dt><dt class="is-family-code" id="var_EnablePGOInstrGen">public  bool <b>EnablePGOInstrGen</b></dt><dd>Enable profile instrumentation pass.</dd><dt class="is-family-code" id="var_EnablePGOCSInstrGen">public  bool <b>EnablePGOCSInstrGen</b></dt><dd>Enable profile context sensitive instrumentation pass.</dd><dt class="is-family-code" id="var_EnablePGOCSInstrUse">public  bool <b>EnablePGOCSInstrUse</b></dt><dd>Enable profile context sensitive profile use pass.</dd><dt class="is-family-code" id="var_PGOInstrGen">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>PGOInstrGen</b></dt><dd>Profile data file name that the instrumentation will be written to.</dd><dt class="is-family-code" id="var_PGOInstrUse">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>PGOInstrUse</b></dt><dd>Path of the profile data file.</dd><dt class="is-family-code" id="var_PGOSampleUse">public  <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a> <b>PGOSampleUse</b></dt><dd>Path of the sample Profile data file.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#7359BEF6FF694C1D"><b>PassManagerBuilder</b></a>()</li><li class="is-family-code">public void  <a href="#8B35478315A703BE"><b>addExtension</b></a>(llvm::PassManagerBuilder::ExtensionPointTy Ty, llvm::PassManagerBuilder::ExtensionFn Fn)</li><li class="is-family-code">public static llvm::PassManagerBuilder::GlobalExtensionID  <a href="#8C90797916604287"><b>addGlobalExtension</b></a>(llvm::PassManagerBuilder::ExtensionPointTy Ty, llvm::PassManagerBuilder::ExtensionFn Fn)</li><li class="is-family-code">public void  <a href="#EE9FCBCDDFA35433"><b>populateFunctionPassManager</b></a>(legacy::FunctionPassManager &amp; FPM)</li><li class="is-family-code">public void  <a href="#0B8F123D6C9A1D71"><b>populateLTOPassManager</b></a>(legacy::PassManagerBase &amp; PM)</li><li class="is-family-code">public void  <a href="#447313275656FD67"><b>populateModulePassManager</b></a>(legacy::PassManagerBase &amp; MPM)</li><li class="is-family-code">public void  <a href="#FE0075C7F47931D5"><b>populateThinLTOPassManager</b></a>(legacy::PassManagerBase &amp; PM)</li><li class="is-family-code">public static void  <a href="#FC1D3FA88DD188BB"><b>removeGlobalExtension</b></a>(llvm::PassManagerBuilder::GlobalExtensionID ExtensionID)</li><li class="is-family-code">public  <a href="#96AB59B1B831ADA9"><b>~PassManagerBuilder</b></a>()</li></ul><h2>Methods</h2><h3 id="7359BEF6FF694C1D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7359BEF6FF694C1D">¶</a><code class="hdoc-function-code language-cpp">PassManagerBuilder()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L193">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:193</a></p><h3 id="8B35478315A703BE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8B35478315A703BE">¶</a><code class="hdoc-function-code language-cpp">void addExtension(
    llvm::PassManagerBuilder::ExtensionPointTy Ty,
    llvm::PassManagerBuilder::ExtensionFn Fn)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L209">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:209</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::PassManagerBuilder::ExtensionPointTy<b> Ty</b></dt><dt class="is-family-code">llvm::PassManagerBuilder::ExtensionFn<b> Fn</b></dt></dl><h3 id="8C90797916604287"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8C90797916604287">¶</a><code class="hdoc-function-code language-cpp">static llvm::PassManagerBuilder::GlobalExtensionID
addGlobalExtension(
    llvm::PassManagerBuilder::ExtensionPointTy Ty,
    llvm::PassManagerBuilder::ExtensionFn Fn)</code></pre></h3><h4>Description</h4><p>Adds an extension that will be used by all PassManagerBuilder instances. This is intended to be used by plugins, to register a set of optimisations to run automatically.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L201">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:201</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::PassManagerBuilder::ExtensionPointTy<b> Ty</b></dt><dt class="is-family-code">llvm::PassManagerBuilder::ExtensionFn<b> Fn</b></dt></dl><h4>Returns</h4><p>A global extension identifier that can be used to remove the extension.</p><h3 id="EE9FCBCDDFA35433"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EE9FCBCDDFA35433">¶</a><code class="hdoc-function-code language-cpp">void populateFunctionPassManager(
    <a href="r9E3D38EE09DE54E7.html">legacy::FunctionPassManager</a>&amp; FPM)</code></pre></h3><h4>Description</h4><p>populateFunctionPassManager - This fills in the function pass manager, which is expected to be run on each function immediately as it is generated.  The idea is to reduce the size of the IR in memory.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L225">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:225</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r9E3D38EE09DE54E7.html">legacy::FunctionPassManager</a>&amp;<b> FPM</b></dt></dl><h3 id="0B8F123D6C9A1D71"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0B8F123D6C9A1D71">¶</a><code class="hdoc-function-code language-cpp">void populateLTOPassManager(
    <a href="r90EC6332AD9D0531.html">legacy::PassManagerBase</a>&amp; PM)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L229">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:229</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r90EC6332AD9D0531.html">legacy::PassManagerBase</a>&amp;<b> PM</b></dt></dl><h3 id="447313275656FD67"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#447313275656FD67">¶</a><code class="hdoc-function-code language-cpp">void populateModulePassManager(
    <a href="r90EC6332AD9D0531.html">legacy::PassManagerBase</a>&amp; MPM)</code></pre></h3><h4>Description</h4><p>populateModulePassManager - This sets up the primary pass manager.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L228">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:228</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r90EC6332AD9D0531.html">legacy::PassManagerBase</a>&amp;<b> MPM</b></dt></dl><h3 id="FE0075C7F47931D5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FE0075C7F47931D5">¶</a><code class="hdoc-function-code language-cpp">void populateThinLTOPassManager(
    <a href="r90EC6332AD9D0531.html">legacy::PassManagerBase</a>&amp; PM)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L230">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:230</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r90EC6332AD9D0531.html">legacy::PassManagerBase</a>&amp;<b> PM</b></dt></dl><h3 id="FC1D3FA88DD188BB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FC1D3FA88DD188BB">¶</a><code class="hdoc-function-code language-cpp">static void removeGlobalExtension(
    llvm::PassManagerBuilder::GlobalExtensionID
        ExtensionID)</code></pre></h3><h4>Description</h4><p>Removes an extension that was previously added using addGlobalExtension. This is also intended to be used by plugins, to remove any extension that was previously registered before being unloaded.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L208">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:208</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::PassManagerBuilder::GlobalExtensionID<b> ExtensionID</b></dt><dd>Identifier of the extension to be removed.</dd></dl><h3 id="96AB59B1B831ADA9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#96AB59B1B831ADA9">¶</a><code class="hdoc-function-code language-cpp">~PassManagerBuilder()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h#L194">llvm/include/llvm/Transforms/IPO/PassManagerBuilder.h:194</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>