<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class SparseSet: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageB52FF86BBB1F5C06"><span>class SparseSet</span></a></li></ul></nav><main class="content"><h1>class SparseSet</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">template &lt;typename ValueT,
          typename KeyFunctorT = identity&lt;unsigned int&gt;,
          typename SparseT = uint8_t&gt;
class SparseSet { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>SparseSet - Fast set implmentation for objects that can be identified by small unsigned keys. SparseSet allocates memory proportional to the size of the key universe, so it is not recommended for building composite data structures.  It is useful for algorithms that require a single set with fast operations. Compared to DenseSet and DenseMap, SparseSet provides constant-time fast clear() and iteration as fast as a vector.  The find(), insert(), and erase() operations are all constant time, and typically faster than a hash table.  The iteration order doesn&apos;t depend on numerical key values, it only depends on the order of insert() and erase() operations.  When no elements have been erased, the iteration order is the insertion order. Compared to BitVector, SparseSet &lt;unsigned &gt; uses 8x-40x more memory, but offers constant-time clear() and size() operations as well as fast iteration independent on the size of the universe. SparseSet contains a dense vector holding all the objects and a sparse array holding indexes into the dense vector.  Most of the memory is used by the sparse array which is the size of the key universe.  The SparseT template parameter provides a space/speed tradeoff for sets holding many elements. When SparseT is uint32_t, find() only touches 2 cache lines, but the sparse array uses 4 x Universe bytes. When SparseT is uint8_t (the default), find() touches up to 2+[N/256] cache lines, but the sparse array is 4x smaller.  N is the number of elements in the set. For sets that may grow to thousands of elements, SparseT should be set to uint16_t or uint32_t.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L123">llvm/include/llvm/ADT/SparseSet.h:123</a></p><h2>Templates</h2><dl><dt class="is-family-code"><b> ValueT</b></dt><dd>The type of objects in the set.</dd><dt class="is-family-code"><b> KeyFunctorT</b> = identity&lt;unsigned int&gt;</dt><dd>A functor that computes an unsigned index from KeyT.</dd><dt class="is-family-code"><b> SparseT</b> = uint8_t</dt><dd>An unsigned integer type. See above.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#8EE0A8749A321AF0"><b>SparseSet&lt;ValueT, KeyFunctorT, SparseT&gt;</b></a>(const SparseSet&lt;ValueT, KeyFunctorT, SparseT&gt; &amp;)</li><li class="is-family-code">public  <a href="#A70118A42DBEC008"><b>SparseSet&lt;ValueT, KeyFunctorT, SparseT&gt;</b></a>()</li><li class="is-family-code">public llvm::SparseSet::const_iterator  <a href="#E5910FE1E400B8EA"><b>begin</b></a>() const</li><li class="is-family-code">public llvm::SparseSet::iterator  <a href="#145D993902F231FC"><b>begin</b></a>()</li><li class="is-family-code">public void  <a href="#10DAA35113662E01"><b>clear</b></a>()</li><li class="is-family-code">public llvm::SparseSet::size_type  <a href="#85CC0DB29C8577C7"><b>count</b></a>(const llvm::SparseSet::KeyT &amp; Key) const</li><li class="is-family-code">public bool  <a href="#E5DABA139856935D"><b>empty</b></a>() const</li><li class="is-family-code">public llvm::SparseSet::const_iterator  <a href="#084CA051AF9C48EB"><b>end</b></a>() const</li><li class="is-family-code">public llvm::SparseSet::iterator  <a href="#EA73F53B3531D170"><b>end</b></a>()</li><li class="is-family-code">public bool  <a href="#86E0EB32C47735CA"><b>erase</b></a>(const llvm::SparseSet::KeyT &amp; Key)</li><li class="is-family-code">public llvm::SparseSet::iterator  <a href="#008C93ADE24858E6"><b>erase</b></a>(llvm::SparseSet::iterator I)</li><li class="is-family-code">public llvm::SparseSet::iterator  <a href="#E05DCA6DD86C601C"><b>find</b></a>(const llvm::SparseSet::KeyT &amp; Key)</li><li class="is-family-code">public llvm::SparseSet::const_iterator  <a href="#63396F95B8862B50"><b>find</b></a>(const llvm::SparseSet::KeyT &amp; Key) const</li><li class="is-family-code">public llvm::SparseSet::iterator  <a href="#F495DFFF0178C38A"><b>findIndex</b></a>(unsigned int Idx)</li><li class="is-family-code">public std::pair&lt;iterator, bool&gt;  <a href="#B607211FCBBC210B"><b>insert</b></a>(const ValueT &amp; Val)</li><li class="is-family-code">public ValueT  <a href="#2A764DEA3F44B425"><b>pop_back_val</b></a>()</li><li class="is-family-code">public void  <a href="#118EC22234032AB6"><b>setUniverse</b></a>(unsigned int U)</li><li class="is-family-code">public llvm::SparseSet::size_type  <a href="#CFC71DA0EBDB982F"><b>size</b></a>() const</li><li class="is-family-code">public  <a href="#DFBB1790788B0411"><b>~SparseSet&lt;ValueT, KeyFunctorT, SparseT&gt;</b></a>()</li></ul><h2>Methods</h2><h3 id="8EE0A8749A321AF0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8EE0A8749A321AF0">¶</a><code class="hdoc-function-code language-cpp"><a href="rB52FF86BBB1F5C06.html">SparseSet</a>&lt;ValueT, KeyFunctorT, SparseT&gt;(
    const SparseSet&lt;ValueT,
                    KeyFunctorT,
                    SparseT&gt;&amp;)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L145">llvm/include/llvm/ADT/SparseSet.h:145</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rB52FF86BBB1F5C06.html">SparseSet</a>&lt;ValueT, KeyFunctorT, SparseT&gt;&amp;<b> </b></dt></dl><h3 id="A70118A42DBEC008"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A70118A42DBEC008">¶</a><code class="hdoc-function-code language-cpp">SparseSet&lt;ValueT, KeyFunctorT, SparseT&gt;()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L144">llvm/include/llvm/ADT/SparseSet.h:144</a></p><h3 id="E5910FE1E400B8EA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E5910FE1E400B8EA">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::const_iterator begin() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L174">llvm/include/llvm/ADT/SparseSet.h:174</a></p><h3 id="145D993902F231FC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#145D993902F231FC">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::iterator begin()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L176">llvm/include/llvm/ADT/SparseSet.h:176</a></p><h3 id="10DAA35113662E01"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#10DAA35113662E01">¶</a><code class="hdoc-function-code language-cpp">void clear()</code></pre></h3><h4>Description</h4><p>clear - Clears the set.  This is a very fast constant time operation.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L194">llvm/include/llvm/ADT/SparseSet.h:194</a></p><h3 id="85CC0DB29C8577C7"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#85CC0DB29C8577C7">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::size_type count(
    const llvm::SparseSet::KeyT&amp; Key) const</code></pre></h3><h4>Description</h4><p>count - Returns 1 if this set contains an element identified by Key, 0 otherwise.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L235">llvm/include/llvm/ADT/SparseSet.h:235</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const llvm::SparseSet::KeyT&amp;<b> Key</b></dt></dl><h3 id="E5DABA139856935D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E5DABA139856935D">¶</a><code class="hdoc-function-code language-cpp">bool empty() const</code></pre></h3><h4>Description</h4><p>empty - Returns true if the set is empty. This is not the same as BitVector::empty().</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L183">llvm/include/llvm/ADT/SparseSet.h:183</a></p><h3 id="084CA051AF9C48EB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#084CA051AF9C48EB">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::const_iterator end() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L175">llvm/include/llvm/ADT/SparseSet.h:175</a></p><h3 id="EA73F53B3531D170"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EA73F53B3531D170">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::iterator end()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L177">llvm/include/llvm/ADT/SparseSet.h:177</a></p><h3 id="86E0EB32C47735CA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#86E0EB32C47735CA">¶</a><code class="hdoc-function-code language-cpp">bool erase(const llvm::SparseSet::KeyT&amp; Key)</code></pre></h3><h4>Description</h4><p>erase - Erases an element identified by Key, if it exists.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L304">llvm/include/llvm/ADT/SparseSet.h:304</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const llvm::SparseSet::KeyT&amp;<b> Key</b></dt><dd>The key identifying the element to erase.</dd></dl><h4>Returns</h4><p>True when an element was erased, false if no element was found.</p><h3 id="008C93ADE24858E6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#008C93ADE24858E6">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::iterator erase(
    llvm::SparseSet::iterator I)</code></pre></h3><h4>Description</h4><p>erase - Erases an existing element identified by a valid iterator. This invalidates all iterators, but erase() returns an iterator pointing to the next element.  This makes it possible to erase selected elements while iterating over the set: for (SparseSet::iterator I = Set.begin(); I != Set.end();) if (test(*I)) I = Set.erase(I); else ++I; Note that end() changes when elements are erased, unlike std::list.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L285">llvm/include/llvm/ADT/SparseSet.h:285</a></p><h4>Parameters</h4><dl><dt class="is-family-code">llvm::SparseSet::iterator<b> I</b></dt></dl><h3 id="E05DCA6DD86C601C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E05DCA6DD86C601C">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::iterator find(
    const llvm::SparseSet::KeyT&amp; Key)</code></pre></h3><h4>Description</h4><p>find - Find an element by its key.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L224">llvm/include/llvm/ADT/SparseSet.h:224</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const llvm::SparseSet::KeyT&amp;<b> Key</b></dt><dd>A valid key to find.</dd></dl><h4>Returns</h4><p>An iterator to the element identified by key, or end().</p><h3 id="63396F95B8862B50"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#63396F95B8862B50">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::const_iterator find(
    const llvm::SparseSet::KeyT&amp; Key) const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L228">llvm/include/llvm/ADT/SparseSet.h:228</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const llvm::SparseSet::KeyT&amp;<b> Key</b></dt></dl><h3 id="F495DFFF0178C38A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F495DFFF0178C38A">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::iterator findIndex(
    unsigned int Idx)</code></pre></h3><h4>Description</h4><p>findIndex - Find an element by its index.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L204">llvm/include/llvm/ADT/SparseSet.h:204</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> Idx</b></dt><dd>A valid index to find.</dd></dl><h4>Returns</h4><p>An iterator to the element identified by key, or end().</p><h3 id="B607211FCBBC210B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B607211FCBBC210B">¶</a><code class="hdoc-function-code language-cpp"><a href="https://en.cppreference.com/w/cpp/utility/pair">std::pair</a>&lt;iterator, bool&gt; insert(
    const ValueT&amp; Val)</code></pre></h3><h4>Description</h4><p>insert - Attempts to insert a new element. If Val is successfully inserted, return (I, true), where I is an iterator pointing to the newly inserted element. If the set already contains an element with the same key as Val, return (I, false), where I is an iterator pointing to the existing element. Insertion invalidates all iterators.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L249">llvm/include/llvm/ADT/SparseSet.h:249</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const ValueT&amp;<b> Val</b></dt></dl><h3 id="2A764DEA3F44B425"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2A764DEA3F44B425">¶</a><code class="hdoc-function-code language-cpp">ValueT pop_back_val()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L266">llvm/include/llvm/ADT/SparseSet.h:266</a></p><h3 id="118EC22234032AB6"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#118EC22234032AB6">¶</a><code class="hdoc-function-code language-cpp">void setUniverse(unsigned int U)</code></pre></h3><h4>Description</h4><p>setUniverse - Set the universe size which determines the largest key the set can hold.  The universe must be sized before any elements can be added.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L155">llvm/include/llvm/ADT/SparseSet.h:155</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> U</b></dt><dd>Universe size. All object keys must be less than U.</dd></dl><h3 id="CFC71DA0EBDB982F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#CFC71DA0EBDB982F">¶</a><code class="hdoc-function-code language-cpp">llvm::SparseSet::size_type size() const</code></pre></h3><h4>Description</h4><p>size - Returns the number of elements in the set. This is not the same as BitVector::size() which returns the size of the universe.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L190">llvm/include/llvm/ADT/SparseSet.h:190</a></p><h3 id="DFBB1790788B0411"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DFBB1790788B0411">¶</a><code class="hdoc-function-code language-cpp">~SparseSet&lt;ValueT, KeyFunctorT, SparseT&gt;()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SparseSet.h#L147">llvm/include/llvm/ADT/SparseSet.h:147</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>