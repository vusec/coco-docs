<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class SmallPtrSetImplBase: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="pageBDC61DB1A6D33CB6"><span>class SmallPtrSetImplBase</span></a></li></ul></nav><main class="content"><h1>class SmallPtrSetImplBase</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class SmallPtrSetImplBase : public DebugEpochBase { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>SmallPtrSetImplBase - This is the common code shared among all the SmallPtrSet &lt; &gt;&apos;s, which is almost everything.  SmallPtrSet has two modes, one for small and one for large sets. Small sets use an array of pointers allocated in the SmallPtrSet object, which is treated as a simple array of pointers.  When a pointer is added to the set, the array is scanned to see if the element already exists, if not the element is &apos;pushed back&apos; onto the array.  If we run out of space in the array, we grow into the &apos;large set&apos; case.  SmallSet should be used when the sets are often small.  In this case, no memory allocation is used, and only light-weight and cache-efficient scanning is used. Large sets use a classic exponentially-probed hash table.  Empty buckets are represented with an illegal pointer value (-1) to allow null pointers to be inserted.  Tombstones are represented with another illegal pointer value (-2), to allow deletion.  The hash table is resized when the table is 3/4 or more.  When this happens, the table is doubled in size.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L49">llvm/include/llvm/ADT/SmallPtrSet.h:49</a></p><p>Inherits from: <a href="r144AC8AFBE9B97A0.html">DebugEpochBase</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_SmallArray">protected  const void** <b>SmallArray</b></dt><dd>SmallArray - Points to a fixed size set of buckets, used in &apos;small mode&apos;.</dd><dt class="is-family-code" id="var_CurArray">protected  const void** <b>CurArray</b></dt><dd>CurArray - This is the current set of buckets.  If equal to SmallArray, then the set is in &apos;small mode&apos;.</dd><dt class="is-family-code" id="var_CurArraySize">protected  unsigned int <b>CurArraySize</b></dt><dd>CurArraySize - The allocated size of CurArray, always a power of two.</dd><dt class="is-family-code" id="var_NumNonEmpty">protected  unsigned int <b>NumNonEmpty</b></dt><dd>Number of elements in CurArray that contain a value or are a tombstone. If small, all these elements are at the beginning of CurArray and the rest is uninitialized.</dd><dt class="is-family-code" id="var_NumTombstones">protected  unsigned int <b>NumTombstones</b></dt><dd>Number of tombstones in CurArray.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">protected void  <a href="#EABA043730959459"><b>CopyFrom</b></a>(const llvm::SmallPtrSetImplBase &amp; RHS)</li><li class="is-family-code">protected const void **  <a href="#BE8ED9298D3CD3F5"><b>EndPointer</b></a>() const</li><li class="is-family-code">protected void  <a href="#A6543BA94E3695D1"><b>MoveFrom</b></a>(unsigned int SmallSize, llvm::SmallPtrSetImplBase &amp;&amp; RHS)</li><li class="is-family-code">protected  <a href="#F78BC2C1EC2F74F8"><b>SmallPtrSetImplBase</b></a>(const void ** SmallStorage, const llvm::SmallPtrSetImplBase &amp; that)</li><li class="is-family-code">protected  <a href="#9963FB36716EDEB0"><b>SmallPtrSetImplBase</b></a>(const void ** SmallStorage, unsigned int SmallSize, llvm::SmallPtrSetImplBase &amp;&amp; that)</li><li class="is-family-code">protected  <a href="#D94BC2D8554D9DCD"><b>SmallPtrSetImplBase</b></a>(const void ** SmallStorage, unsigned int SmallSize)</li><li class="is-family-code">public void  <a href="#E3594BB85B5BFCC9"><b>clear</b></a>()</li><li class="is-family-code">public bool  <a href="#E5C096D1B5F0B8C1"><b>empty</b></a>() const</li><li class="is-family-code">protected bool  <a href="#47B3CA6EB59C691D"><b>erase_imp</b></a>(const void * Ptr)</li><li class="is-family-code">protected const void *const *  <a href="#D1AF32E3BB1A2CED"><b>find_imp</b></a>(const void * Ptr) const</li><li class="is-family-code">protected static void *  <a href="#2E11E65E4CD4DE2B"><b>getEmptyMarker</b></a>()</li><li class="is-family-code">protected static void *  <a href="#52F39550C89EDBFA"><b>getTombstoneMarker</b></a>()</li><li class="is-family-code">protected std::pair&lt;const void *const *, bool&gt;  <a href="#1243DF926977F47E"><b>insert_imp</b></a>(const void * Ptr)</li><li class="is-family-code">public llvm::SmallPtrSetImplBase::size_type  <a href="#122A06B6C1B12AEB"><b>size</b></a>() const</li><li class="is-family-code">protected void  <a href="#573966D2EE3C9D4E"><b>swap</b></a>(llvm::SmallPtrSetImplBase &amp; RHS)</li><li class="is-family-code">protected  <a href="#5EFBA93F4EF0B530"><b>~SmallPtrSetImplBase</b></a>()</li></ul><p>Inherited from <a href="r144AC8AFBE9B97A0.html">DebugEpochBase</a>:</p><ul><li class="is-family-code"><a href="r144AC8AFBE9B97A0.html#48653ECCB86324FF">public <b>incrementEpoch</b></a></li></ul><h2>Methods</h2><h3 id="EABA043730959459"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EABA043730959459">¶</a><code class="hdoc-function-code language-cpp">void CopyFrom(
    const <a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp; RHS)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L209">llvm/include/llvm/ADT/SmallPtrSet.h:209</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;<b> RHS</b></dt></dl><h3 id="BE8ED9298D3CD3F5"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#BE8ED9298D3CD3F5">¶</a><code class="hdoc-function-code language-cpp">const void** EndPointer() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L118">llvm/include/llvm/ADT/SmallPtrSet.h:118</a></p><h3 id="A6543BA94E3695D1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#A6543BA94E3695D1">¶</a><code class="hdoc-function-code language-cpp">void MoveFrom(unsigned int SmallSize,
              <a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;&amp; RHS)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L210">llvm/include/llvm/ADT/SmallPtrSet.h:210</a></p><h4>Parameters</h4><dl><dt class="is-family-code">unsigned int<b> SmallSize</b></dt><dt class="is-family-code"><a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;&amp;<b> RHS</b></dt></dl><h3 id="F78BC2C1EC2F74F8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F78BC2C1EC2F74F8">¶</a><code class="hdoc-function-code language-cpp">SmallPtrSetImplBase(
    const void** SmallStorage,
    const <a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp; that)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L69">llvm/include/llvm/ADT/SmallPtrSet.h:69</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void**<b> SmallStorage</b></dt><dt class="is-family-code">const <a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;<b> that</b></dt></dl><h3 id="9963FB36716EDEB0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9963FB36716EDEB0">¶</a><code class="hdoc-function-code language-cpp">SmallPtrSetImplBase(
    const void** SmallStorage,
    unsigned int SmallSize,
    <a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;&amp; that)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L71">llvm/include/llvm/ADT/SmallPtrSet.h:71</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void**<b> SmallStorage</b></dt><dt class="is-family-code">unsigned int<b> SmallSize</b></dt><dt class="is-family-code"><a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;&amp;<b> that</b></dt></dl><h3 id="D94BC2D8554D9DCD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D94BC2D8554D9DCD">¶</a><code class="hdoc-function-code language-cpp">SmallPtrSetImplBase(const void** SmallStorage,
                    unsigned int SmallSize)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L74">llvm/include/llvm/ADT/SmallPtrSet.h:74</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void**<b> SmallStorage</b></dt><dt class="is-family-code">unsigned int<b> SmallSize</b></dt></dl><h3 id="E3594BB85B5BFCC9"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E3594BB85B5BFCC9">¶</a><code class="hdoc-function-code language-cpp">void clear()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L94">llvm/include/llvm/ADT/SmallPtrSet.h:94</a></p><h3 id="E5C096D1B5F0B8C1"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E5C096D1B5F0B8C1">¶</a><code class="hdoc-function-code language-cpp">bool empty() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L91">llvm/include/llvm/ADT/SmallPtrSet.h:91</a></p><h3 id="47B3CA6EB59C691D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#47B3CA6EB59C691D">¶</a><code class="hdoc-function-code language-cpp">bool erase_imp(const void* Ptr)</code></pre></h3><h4>Description</h4><p>erase_imp - If the set contains the specified pointer, remove it and return true, otherwise return false.  This is hidden from the client so that the derived class can check that the right type of pointer is passed in.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L161">llvm/include/llvm/ADT/SmallPtrSet.h:161</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt></dl><h3 id="D1AF32E3BB1A2CED"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D1AF32E3BB1A2CED">¶</a><code class="hdoc-function-code language-cpp">const void* const* find_imp(const void* Ptr) const</code></pre></h3><h4>Description</h4><p>Returns the raw pointer needed to construct an iterator.  If element not found, this will be EndPointer.  Otherwise, it will be a pointer to the slot which stores Ptr;</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L176">llvm/include/llvm/ADT/SmallPtrSet.h:176</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt></dl><h3 id="2E11E65E4CD4DE2B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2E11E65E4CD4DE2B">¶</a><code class="hdoc-function-code language-cpp">static void* getEmptyMarker()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L112">llvm/include/llvm/ADT/SmallPtrSet.h:112</a></p><h3 id="52F39550C89EDBFA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#52F39550C89EDBFA">¶</a><code class="hdoc-function-code language-cpp">static void* getTombstoneMarker()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L110">llvm/include/llvm/ADT/SmallPtrSet.h:110</a></p><h3 id="1243DF926977F47E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1243DF926977F47E">¶</a><code class="hdoc-function-code language-cpp"><a href="https://en.cppreference.com/w/cpp/utility/pair">std::pair</a>&lt;const void* const*, bool&gt; insert_imp(
    const void* Ptr)</code></pre></h3><h4>Description</h4><p>insert_imp - This returns true if the pointer was new to the set, false if it was already in the set.  This is hidden from the client so that the derived class can check that the right type of pointer is passed in.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L125">llvm/include/llvm/ADT/SmallPtrSet.h:125</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt></dl><h3 id="122A06B6C1B12AEB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#122A06B6C1B12AEB">¶</a><code class="hdoc-function-code language-cpp">llvm::SmallPtrSetImplBase::size_type size() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L92">llvm/include/llvm/ADT/SmallPtrSet.h:92</a></p><h3 id="573966D2EE3C9D4E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#573966D2EE3C9D4E">¶</a><code class="hdoc-function-code language-cpp">void swap(<a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp; RHS)</code></pre></h3><h4>Description</h4><p>swap - Swaps the elements of two sets. Note: This method assumes that both sets have the same small size.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L207">llvm/include/llvm/ADT/SmallPtrSet.h:207</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rBDC61DB1A6D33CB6.html">llvm::SmallPtrSetImplBase</a>&amp;<b> RHS</b></dt></dl><h3 id="5EFBA93F4EF0B530"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5EFBA93F4EF0B530">¶</a><code class="hdoc-function-code language-cpp">~SmallPtrSetImplBase()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/ADT/SmallPtrSet.h#L81">llvm/include/llvm/ADT/SmallPtrSet.h:81</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>