<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct InlineInfo: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#BF3258AEA677DB5D"><span>namespace gsym</span></a></li><li class="is-active"><a aria-current="page931889C96CE20406"><span>struct InlineInfo</span></a></li></ul></nav><main class="content"><h1>struct InlineInfo</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct InlineInfo { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Inline information stores the name of the inline function along with an array of address ranges. It also stores the call file and call line that called this inline function. This allows us to unwind inline call stacks back to the inline or concrete function that called this function. Inlined functions contained in this function are stored in the &quot;Children&quot; variable. All address ranges must be sorted and all address ranges of all children must be contained in the ranges of this function. Any clients that encode information will need to ensure the ranges are all contined correctly or lookups could fail. Add ranges in these objects must be contained in the top level FunctionInfo address ranges as well. ENCODING When saved to disk, the inline info encodes all ranges to be relative to a parent address range. This will be the FunctionInfo&apos;s start address if the InlineInfo is directly contained in a FunctionInfo, or a the start address of the containing parent InlineInfo&apos;s first &quot;Ranges&quot; member. This allows address ranges to be efficiently encoded using ULEB128 encodings as we encode the offset and size of each range instead of full addresses. This also makes any encoded addresses easy to relocate as we just need to relocate the FunctionInfo&apos;s start address. - The AddressRanges member &quot;Ranges&quot; is encoded using an approriate base address as described above. - UINT8 boolean value that specifies if the InlineInfo object has children. - UINT32 string table offset that points to the name of the inline function. - ULEB128 integer that specifies the file of the call site that called this function. - ULEB128 integer that specifies the source line of the call site that called this function. - if this object has children, enocode each child InlineInfo using the the first address range&apos;s start address as the base address.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L61">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:61</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Name">public  uint32_t <b>Name</b></dt><dd>String table offset in the string table.</dd><dt class="is-family-code" id="var_CallFile">public  uint32_t <b>CallFile</b></dt><dd>1 based file index in the file table.</dd><dt class="is-family-code" id="var_CallLine">public  uint32_t <b>CallLine</b></dt><dd>Source line number.</dd><dt class="is-family-code" id="var_Ranges">public  <a href="rCA28EC40AD473FF2.html">llvm::gsym::AddressRanges</a> <b>Ranges</b></dt><dt class="is-family-code" id="var_Children">public  <a href="https://en.cppreference.com/w/cpp/container/vector">std::vector</a>&lt;InlineInfo&gt; <b>Children</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#840EBBE72B7EA3EE"><b>InlineInfo</b></a>()</li><li class="is-family-code">public void  <a href="#489017E6F32CCC0E"><b>clear</b></a>()</li><li class="is-family-code">public static llvm::Expected&lt;InlineInfo&gt;  <a href="#52422E4F401801ED"><b>decode</b></a>(llvm::DataExtractor &amp; Data, uint64_t BaseAddr)</li><li class="is-family-code">public llvm::Error  <a href="#8E9E2EE6B4DCBCF2"><b>encode</b></a>(llvm::gsym::FileWriter &amp; O, uint64_t BaseAddr) const</li><li class="is-family-code">public llvm::Optional&lt;InlineArray&gt;  <a href="#ADFF45E94A271CFB"><b>getInlineStack</b></a>(uint64_t Addr) const</li><li class="is-family-code">public bool  <a href="#07C0603D19481BDA"><b>isValid</b></a>() const</li><li class="is-family-code">public static llvm::Error  <a href="#70A0376D4E5B135D"><b>lookup</b></a>(const llvm::gsym::GsymReader &amp; GR, llvm::DataExtractor &amp; Data, uint64_t BaseAddr, uint64_t Addr, llvm::gsym::SourceLocations &amp; SrcLocs)</li></ul><h2>Methods</h2><h3 id="840EBBE72B7EA3EE"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#840EBBE72B7EA3EE">¶</a><code class="hdoc-function-code language-cpp">InlineInfo()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L68">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:68</a></p><h3 id="489017E6F32CCC0E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#489017E6F32CCC0E">¶</a><code class="hdoc-function-code language-cpp">void clear()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L69">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:69</a></p><h3 id="52422E4F401801ED"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#52422E4F401801ED">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">llvm::Expected</a>&lt;InlineInfo&gt; decode(
    <a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp; Data,
    uint64_t BaseAddr)</code></pre></h3><h4>Description</h4><p>Decode an InlineInfo object from a binary data stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L152">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:152</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp;<b> Data</b></dt><dd>The binary stream to read the data from. This object must have the data for the InlineInfo object starting at offset zero. The data can contain more data than needed.</dd><dt class="is-family-code">uint64_t<b> BaseAddr</b></dt><dd>The base address to use when decoding all address ranges. This will be the FunctionInfo&apos;s start address if this object is directly contained in a FunctionInfo object, or the start address of the first address range in an InlineInfo object of this object is a child of another InlineInfo object.</dd></dl><h4>Returns</h4><p>An InlineInfo or an error describing the issue that was encountered during decoding.</p><h3 id="8E9E2EE6B4DCBCF2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#8E9E2EE6B4DCBCF2">¶</a><code class="hdoc-function-code language-cpp"><a href="r40593E26768E0096.html">llvm::Error</a> encode(<a href="r8C7403547ECE28F8.html">llvm::gsym::FileWriter</a>&amp; O,
                   uint64_t BaseAddr) const</code></pre></h3><h4>Description</h4><p>Encode this InlineInfo object into FileWriter stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L168">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:168</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r8C7403547ECE28F8.html">llvm::gsym::FileWriter</a>&amp;<b> O</b></dt><dd>The binary stream to write the data to at the current file position.</dd><dt class="is-family-code">uint64_t<b> BaseAddr</b></dt><dd>The base address to use when encoding all address ranges. This will be the FunctionInfo&apos;s start address if this object is directly contained in a FunctionInfo object, or the start address of the first address range in an InlineInfo object of this object is a child of another InlineInfo object.</dd></dl><h4>Returns</h4><p>An error object that indicates success or failure or the encoding process.</p><h3 id="ADFF45E94A271CFB"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ADFF45E94A271CFB">¶</a><code class="hdoc-function-code language-cpp"><a href="r6607998C23E31109.html">llvm::Optional</a>&lt;InlineArray&gt; getInlineStack(
    uint64_t Addr) const</code></pre></h3><h4>Description</h4><p>Lookup an address in the InlineInfo object This function is used to symbolicate an inline call stack and can turn one address in the program into one or more inline call stacks and have the stack trace show the original call site from non-inlined code.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L137">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:137</a></p><h4>Parameters</h4><dl><dt class="is-family-code">uint64_t<b> Addr</b></dt><dd>the address to lookup</dd></dl><h4>Returns</h4><p>optional vector of InlineInfo objects that describe the inline call stack for a given address, false otherwise.</p><h3 id="07C0603D19481BDA"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#07C0603D19481BDA">¶</a><code class="hdoc-function-code language-cpp">bool isValid() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L76">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:76</a></p><h3 id="70A0376D4E5B135D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#70A0376D4E5B135D">¶</a><code class="hdoc-function-code language-cpp">static <a href="r40593E26768E0096.html">llvm::Error</a> lookup(
    const <a href="r880625DA1CCDAD83.html">llvm::gsym::GsymReader</a>&amp; GR,
    <a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp; Data,
    uint64_t BaseAddr,
    uint64_t Addr,
    llvm::gsym::SourceLocations&amp; SrcLocs)</code></pre></h3><h4>Description</h4><p>Lookup a single address within the inline info data. Clients have the option to decode an entire InlineInfo object (using InlineInfo::decode() ) or just find the matching inline info using this function. The benefit of using this function is that only the information needed for the lookup will be extracted, other info can be skipped and parsing can stop as soon as the deepest match is found. This allows symbolication tools to be fast and efficient and avoid allocation costs when doing lookups. This function will augment the SourceLocations array \a SrcLocs with any inline information that pertains to \a Addr. If no inline information exists for \a Addr, then \a SrcLocs will be left untouched. If there is inline information for \a Addr, then \a SrcLocs will be modifiied to contain the deepest most inline function&apos;s SourceLocation at index zero in the array and proceed up the the concrete function source file and line at the end of the array.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h#L122">llvm/include/llvm/DebugInfo/GSYM/InlineInfo.h:122</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r880625DA1CCDAD83.html">llvm::gsym::GsymReader</a>&amp;<b> GR</b></dt><dd>The GSYM reader that contains the string and file table that will be used to fill in the source locations.</dd><dt class="is-family-code"><a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp;<b> Data</b></dt><dd>The binary stream to read the data from. This object must have the data for the LineTable object starting at offset zero. The data can contain more data than needed.</dd><dt class="is-family-code">uint64_t<b> BaseAddr</b></dt><dd>The base address to use when decoding the line table. This will be the FunctionInfo&apos;s start address and will be used to decode the correct addresses for the inline information.</dd><dt class="is-family-code">uint64_t<b> Addr</b></dt><dd>The address to lookup.</dd><dt class="is-family-code">llvm::gsym::SourceLocations&amp;<b> SrcLocs</b></dt><dd>The inline source locations that matches \a Addr. This array must be initialized with the matching line entry from the line table upon entry. The name of the concrete function must be supplied since it will get pushed to the last SourceLocation entry and the inline information will fill in the source file and line from the inline information.</dd></dl><h4>Returns</h4><p>An error if the inline information is corrupt, or Error::success() for all other cases, even when no information is added to \a SrcLocs.</p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>