<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class DynamicLibrary: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#8E8216C1F96B89CB"><span>namespace sys</span></a></li><li class="is-active"><a aria-current="page69F698093A538390"><span>class DynamicLibrary</span></a></li></ul></nav><main class="content"><h1>class DynamicLibrary</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class DynamicLibrary { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>This class provides a portable interface to dynamic libraries which also might be known as shared libraries, shared objects, dynamic shared objects, or dynamic link libraries. Regardless of the terminology or the operating system interface, this class provides a portable interface that allows dynamic libraries to be loaded and searched for externally defined symbols. This is typically used to provide &quot;plug-in&quot; support. It also allows for symbols to be defined which don&apos;t live in any library, but rather the main program itself, useful on Windows where the main executable cannot be searched. Note: there is currently no interface for temporarily loading a library, or for unloading libraries when the LLVM library is unloaded.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L36">llvm/include/llvm/Support/DynamicLibrary.h:36</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_SearchOrder">public static  llvm::sys::DynamicLibrary::SearchOrdering <b>SearchOrder</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public static void  <a href="#7DB443FEE5FBD76F"><b>AddSymbol</b></a>(llvm::StringRef symbolName, void * symbolValue)</li><li class="is-family-code">public  <a href="#E90800916CF7174C"><b>DynamicLibrary</b></a>(void * data = &amp;Invalid)</li><li class="is-family-code">public static bool  <a href="#4D5FFD860A67AF04"><b>LoadLibraryPermanently</b></a>(const char * Filename, std::string * ErrMsg = nullptr)</li><li class="is-family-code">public static void *  <a href="#96A3F39F8995CE09"><b>SearchForAddressOfSymbol</b></a>(const char * symbolName)</li><li class="is-family-code">public static void *  <a href="#2423970FEDFAFC45"><b>SearchForAddressOfSymbol</b></a>(const std::string &amp; symbolName)</li><li class="is-family-code">public static llvm::sys::DynamicLibrary  <a href="#2F9B0993A9A49BA4"><b>addPermanentLibrary</b></a>(void * handle, std::string * errMsg = nullptr)</li><li class="is-family-code">public void *  <a href="#FB8AC144089E2123"><b>getAddressOfSymbol</b></a>(const char * symbolName)</li><li class="is-family-code">public static llvm::sys::DynamicLibrary  <a href="#D88E5C587D49DD39"><b>getPermanentLibrary</b></a>(const char * filename, std::string * errMsg = nullptr)</li><li class="is-family-code">public bool  <a href="#F3A1245C6DF423FC"><b>isValid</b></a>() const</li></ul><h2>Methods</h2><h3 id="7DB443FEE5FBD76F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#7DB443FEE5FBD76F">¶</a><code class="hdoc-function-code language-cpp">static void AddSymbol(<a href="rECFCAF624C04523A.html">llvm::StringRef</a> symbolName,
                      void* symbolValue)</code></pre></h3><h4>Description</h4><p>This functions permanently adds the symbol \p symbolName with the value \p symbolValue. These symbols are searched before any libraries. Add searchable symbol/value pair.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L124">llvm/include/llvm/Support/DynamicLibrary.h:124</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rECFCAF624C04523A.html">llvm::StringRef</a><b> symbolName</b></dt><dt class="is-family-code">void*<b> symbolValue</b></dt></dl><h3 id="E90800916CF7174C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E90800916CF7174C">¶</a><code class="hdoc-function-code language-cpp">DynamicLibrary(void* data = &amp;Invalid)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L46">llvm/include/llvm/Support/DynamicLibrary.h:46</a></p><h4>Parameters</h4><dl><dt class="is-family-code">void*<b> data</b> = &amp;Invalid</dt></dl><h3 id="4D5FFD860A67AF04"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4D5FFD860A67AF04">¶</a><code class="hdoc-function-code language-cpp">static bool LoadLibraryPermanently(
    const char* Filename,
    <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>* ErrMsg = nullptr)</code></pre></h3><h4>Description</h4><p>This function permanently loads the dynamic library at the given path. Use this instead of getPermanentLibrary() when you won&apos;t need to get symbols from the library itself. It is safe to call this function multiple times for the same library.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L85">llvm/include/llvm/Support/DynamicLibrary.h:85</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const char*<b> Filename</b></dt><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>*<b> ErrMsg</b> = nullptr</dt></dl><h3 id="96A3F39F8995CE09"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#96A3F39F8995CE09">¶</a><code class="hdoc-function-code language-cpp">static void* SearchForAddressOfSymbol(
    const char* symbolName)</code></pre></h3><h4>Description</h4><p>This function will search through all previously loaded dynamic libraries for the symbol \p symbolName. If it is found, the address of that symbol is returned. If not, null is returned. Note that this will search permanently loaded libraries (getPermanentLibrary()) as well as explicitly registered symbols (AddSymbol()).</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L113">llvm/include/llvm/Support/DynamicLibrary.h:113</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const char*<b> symbolName</b></dt></dl><h3 id="2423970FEDFAFC45"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2423970FEDFAFC45">¶</a><code class="hdoc-function-code language-cpp">static void* SearchForAddressOfSymbol(
    const <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>&amp; symbolName)</code></pre></h3><h4>Description</h4><p>Convenience function for C++ophiles.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L116">llvm/include/llvm/Support/DynamicLibrary.h:116</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>&amp;<b> symbolName</b></dt></dl><h3 id="2F9B0993A9A49BA4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2F9B0993A9A49BA4">¶</a><code class="hdoc-function-code language-cpp">static <a href="r69F698093A538390.html">llvm::sys::DynamicLibrary</a>
addPermanentLibrary(void* handle,
                    <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>* errMsg = nullptr)</code></pre></h3><h4>Description</h4><p>Registers an externally loaded library. The library will be unloaded when the program terminates. It is safe to call this function multiple times for the same library, though ownership is only taken if there was no error.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L77">llvm/include/llvm/Support/DynamicLibrary.h:77</a></p><h4>Parameters</h4><dl><dt class="is-family-code">void*<b> handle</b></dt><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>*<b> errMsg</b> = nullptr</dt></dl><h4>Returns</h4><p>An empty \p DynamicLibrary if the library was already loaded.</p><h3 id="FB8AC144089E2123"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FB8AC144089E2123">¶</a><code class="hdoc-function-code language-cpp">void* getAddressOfSymbol(const char* symbolName)</code></pre></h3><h4>Description</h4><p>Searches through the library for the symbol \p symbolName. If it is found, the address of that symbol is returned. If not, NULL is returned. Note that NULL will also be returned if the library failed to load. Use isValid() to distinguish these cases if it is important. Note that this will \e not search symbols explicitly registered by AddSymbol().</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L57">llvm/include/llvm/Support/DynamicLibrary.h:57</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const char*<b> symbolName</b></dt></dl><h3 id="D88E5C587D49DD39"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D88E5C587D49DD39">¶</a><code class="hdoc-function-code language-cpp">static <a href="r69F698093A538390.html">llvm::sys::DynamicLibrary</a>
getPermanentLibrary(const char* filename,
                    <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>* errMsg = nullptr)</code></pre></h3><h4>Description</h4><p>This function permanently loads the dynamic library at the given path. The library will only be unloaded when llvm_shutdown() is called. This returns a valid DynamicLibrary instance on success and an invalid instance on failure (see isValid()). \p *errMsg will only be modified if the library fails to load. It is safe to call this function multiple times for the same library. Open a dynamic library permanently.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L67">llvm/include/llvm/Support/DynamicLibrary.h:67</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const char*<b> filename</b></dt><dt class="is-family-code"><a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>*<b> errMsg</b> = nullptr</dt></dl><h3 id="F3A1245C6DF423FC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#F3A1245C6DF423FC">¶</a><code class="hdoc-function-code language-cpp">bool isValid() const</code></pre></h3><h4>Description</h4><p>Returns true if the object refers to a valid library.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/DynamicLibrary.h#L49">llvm/include/llvm/Support/DynamicLibrary.h:49</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>