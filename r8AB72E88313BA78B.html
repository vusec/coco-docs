<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class GCStrategy: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page8AB72E88313BA78B"><span>class GCStrategy</span></a></li></ul></nav><main class="content"><h1>class GCStrategy</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class GCStrategy { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>GCStrategy describes a garbage collector algorithm&apos;s code generation requirements, and provides overridable hooks for those needs which cannot be abstractly described.  GCStrategy objects must be looked up through the Function.  The objects themselves are owned by the Context and must be immutable.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L66">llvm/include/llvm/CodeGen/GCStrategy.h:66</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_UseStatepoints">protected  bool <b>UseStatepoints</b> = false</dt><dt class="is-family-code" id="var_NeededSafePoints">protected  bool <b>NeededSafePoints</b> = false</dt><dd>if set, calls are inferred to be safepoints</dd><dt class="is-family-code" id="var_UsesMetadata">protected  bool <b>UsesMetadata</b> = false</dt><dd>If set, backend must emit metadata tables.</dd></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#9E2A847FBCBD0701"><b>GCStrategy</b></a>()</li><li class="is-family-code">public const std::string &amp;  <a href="#2E8AA1F87811100F"><b>getName</b></a>() const</li><li class="is-family-code">public virtual Optional&lt;bool&gt;  <a href="#ABBED82A8B8EBD5A"><b>isGCManagedPointer</b></a>(const llvm::Type * Ty) const</li><li class="is-family-code">public bool  <a href="#E3F932686BAE51E0"><b>needsSafePoints</b></a>() const</li><li class="is-family-code">public bool  <a href="#06E477EB79E60B9D"><b>useStatepoints</b></a>() const</li><li class="is-family-code">public bool  <a href="#250CC2DD61A3A334"><b>usesMetadata</b></a>() const</li><li class="is-family-code">public virtual  <a href="#B6FC1AB6ABCF0DF8"><b>~GCStrategy</b></a>()</li></ul><h2>Methods</h2><h3 id="9E2A847FBCBD0701"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9E2A847FBCBD0701">¶</a><code class="hdoc-function-code language-cpp">GCStrategy()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L81">llvm/include/llvm/CodeGen/GCStrategy.h:81</a></p><h3 id="2E8AA1F87811100F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2E8AA1F87811100F">¶</a><code class="hdoc-function-code language-cpp">const <a href="https://en.cppreference.com/w/cpp/string/basic_string">std::string</a>&amp; getName() const</code></pre></h3><h4>Description</h4><p>Return the name of the GC strategy.  This is the value of the collector name string specified on functions which use this strategy.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L86">llvm/include/llvm/CodeGen/GCStrategy.h:86</a></p><h3 id="ABBED82A8B8EBD5A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#ABBED82A8B8EBD5A">¶</a><code class="hdoc-function-code language-cpp">virtual <a href="r6607998C23E31109.html">Optional</a>&lt;bool&gt; isGCManagedPointer(
    const <a href="r4C0FBD0A3419362A.html">llvm::Type</a>* Ty) const</code></pre></h3><h4>Description</h4><p>If the type specified can be reliably distinguished, returns true for pointers to GC managed locations and false for pointers to non-GC managed locations.  Note a GCStrategy can always return &apos;None&apos; (i.e. an empty optional indicating it can&apos;t reliably distinguish.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L99">llvm/include/llvm/CodeGen/GCStrategy.h:99</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r4C0FBD0A3419362A.html">llvm::Type</a>*<b> Ty</b></dt></dl><h3 id="E3F932686BAE51E0"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E3F932686BAE51E0">¶</a><code class="hdoc-function-code language-cpp">bool needsSafePoints() const</code></pre></h3><h4>Description</h4><p>True if safe points need to be inferred on call sites</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L111">llvm/include/llvm/CodeGen/GCStrategy.h:111</a></p><h3 id="06E477EB79E60B9D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#06E477EB79E60B9D">¶</a><code class="hdoc-function-code language-cpp">bool useStatepoints() const</code></pre></h3><h4>Description</h4><p>Returns true if this strategy is expecting the use of gc.statepoints, and false otherwise.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L90">llvm/include/llvm/CodeGen/GCStrategy.h:90</a></p><h3 id="250CC2DD61A3A334"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#250CC2DD61A3A334">¶</a><code class="hdoc-function-code language-cpp">bool usesMetadata() const</code></pre></h3><h4>Description</h4><p>If set, appropriate metadata tables must be emitted by the back-end (assembler, JIT, or otherwise). For statepoint, this method is currently unsupported.  The stackmap information can be found in the StackMap section as described in the documentation.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L117">llvm/include/llvm/CodeGen/GCStrategy.h:117</a></p><h3 id="B6FC1AB6ABCF0DF8"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#B6FC1AB6ABCF0DF8">¶</a><code class="hdoc-function-code language-cpp">virtual ~GCStrategy()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/GCStrategy.h#L82">llvm/include/llvm/CodeGen/GCStrategy.h:82</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>