<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class BumpPtrAllocatorImpl: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page7A6342B286765F76"><span>class BumpPtrAllocatorImpl</span></a></li></ul></nav><main class="content"><h1>class BumpPtrAllocatorImpl</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">template &lt;typename AllocatorT = llvm::MallocAllocator,
          size_t SlabSize = 4096,
          size_t SizeThreshold = SlabSize&gt;
class BumpPtrAllocatorImpl { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Allocate memory in an ever growing pool, as if by bump-pointer. This isn&apos;t strictly a bump-pointer allocator as it uses backing slabs of memory rather than relying on a boundless contiguous heap. However, it has bump-pointer semantics in that it is a monotonically growing pool of memory where every allocation is found by merely allocating the next N bytes in the slab, or the next N bytes in the next slab. Note that this also has a threshold for forcing allocations above a certain size into their own slab. The BumpPtrAllocatorImpl template defaults to using a MallocAllocator object, which wraps malloc, to allocate memory, but it can be changed to use a custom allocator.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L141">llvm/include/llvm/Support/Allocator.h:141</a></p><h2>Templates</h2><dl><dt class="is-family-code"><b> AllocatorT</b> = llvm::MallocAllocator</dt><dt class="is-family-code">size_t<b> SlabSize</b> = 4096</dt><dt class="is-family-code">size_t<b> SizeThreshold</b> = SlabSize</dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public void *  <a href="#9DC2E23A162781DC"><b>Allocate</b></a>(size_t Size, llvm::Align Alignment)</li><li class="is-family-code">public inline void *  <a href="#E30E635D520D4952"><b>Allocate</b></a>(size_t Size, size_t Alignment)</li><li class="is-family-code">public  <a href="#36B8EA1958765FE3"><b>BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold&gt;</b></a>()</li><li class="is-family-code">public  <a href="#1EBAE4EC14AFACDF"><b>BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold&gt;</b></a>(BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold&gt; &amp;&amp; Old)</li><li class="is-family-code">public template &lt;typename T&gt; <a href="#E36367DF290F5E8D"><b>BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold&gt;</b></a>(T &amp;&amp; Allocator)</li><li class="is-family-code">public void  <a href="#64A83D065D87E277"><b>Deallocate</b></a>(const void * Ptr, size_t Size)</li><li class="is-family-code">public size_t  <a href="#89DA82F30B4C53FD"><b>GetNumSlabs</b></a>() const</li><li class="is-family-code">public void  <a href="#04475A70C9E41B8F"><b>PrintStats</b></a>() const</li><li class="is-family-code">public void  <a href="#5BCA32E9EB2E23DD"><b>Reset</b></a>()</li><li class="is-family-code">public size_t  <a href="#371271ED42204620"><b>getBytesAllocated</b></a>() const</li><li class="is-family-code">public size_t  <a href="#EDA44E2FEF05F719"><b>getTotalMemory</b></a>() const</li><li class="is-family-code">public template &lt;typename T&gt;int64_t  <a href="#39A9D0833BF5D332"><b>identifyKnownAlignedObject</b></a>(const void * Ptr)</li><li class="is-family-code">public int64_t  <a href="#9453326A2F3A10AD"><b>identifyKnownObject</b></a>(const void * Ptr)</li><li class="is-family-code">public llvm::Optional&lt;int64_t&gt;  <a href="#D71BA1165843BC28"><b>identifyObject</b></a>(const void * Ptr)</li><li class="is-family-code">public void  <a href="#45CE987962D72A08"><b>setRedZoneSize</b></a>(size_t NewSize)</li><li class="is-family-code">public  <a href="#1AF18FA7A5F72963"><b>~BumpPtrAllocatorImpl&lt;AllocatorT, SlabSize, SizeThreshold&gt;</b></a>()</li></ul><h2>Methods</h2><h3 id="9DC2E23A162781DC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9DC2E23A162781DC">¶</a><code class="hdoc-function-code language-cpp">void* Allocate(size_t Size, <a href="rC036793DBF3FCD9B.html">llvm::Align</a> Alignment)</code></pre></h3><h4>Description</h4><p>Allocate space at the specified alignment.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L215">llvm/include/llvm/Support/Allocator.h:215</a></p><h4>Parameters</h4><dl><dt class="is-family-code">size_t<b> Size</b></dt><dt class="is-family-code"><a href="rC036793DBF3FCD9B.html">llvm::Align</a><b> Alignment</b></dt></dl><h3 id="E30E635D520D4952"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E30E635D520D4952">¶</a><code class="hdoc-function-code language-cpp">inline void* Allocate(size_t Size,
                      size_t Alignment)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L271">llvm/include/llvm/Support/Allocator.h:271</a></p><h4>Parameters</h4><dl><dt class="is-family-code">size_t<b> Size</b></dt><dt class="is-family-code">size_t<b> Alignment</b></dt></dl><h3 id="36B8EA1958765FE3"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#36B8EA1958765FE3">¶</a><code class="hdoc-function-code language-cpp">BumpPtrAllocatorImpl&lt;AllocatorT,
                     SlabSize,
                     SizeThreshold&gt;()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L150">llvm/include/llvm/Support/Allocator.h:150</a></p><h3 id="1EBAE4EC14AFACDF"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1EBAE4EC14AFACDF">¶</a><code class="hdoc-function-code language-cpp"><a href="r7A6342B286765F76.html">BumpPtrAllocatorImpl</a>&lt;AllocatorT,
                     SlabSize,
                     SizeThreshold&gt;(
    BumpPtrAllocatorImpl&lt;AllocatorT,
                         SlabSize,
                         SizeThreshold&gt;&amp;&amp; Old)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L158">llvm/include/llvm/Support/Allocator.h:158</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r7A6342B286765F76.html">BumpPtrAllocatorImpl</a>&lt;AllocatorT,
                     SlabSize,
                     SizeThreshold&gt;&amp;&amp;<b> Old</b></dt></dl><h3 id="E36367DF290F5E8D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E36367DF290F5E8D">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename T&gt;
BumpPtrAllocatorImpl&lt;AllocatorT,
                     SlabSize,
                     SizeThreshold&gt;(T&amp;&amp; Allocator)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L153">llvm/include/llvm/Support/Allocator.h:153</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> T</b></dt></dl><h4>Parameters</h4><dl><dt class="is-family-code">T&amp;&amp;<b> Allocator</b></dt></dl><h3 id="64A83D065D87E277"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#64A83D065D87E277">¶</a><code class="hdoc-function-code language-cpp">void Deallocate(const void* Ptr, size_t Size)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L282">llvm/include/llvm/Support/Allocator.h:282</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt><dt class="is-family-code">size_t<b> Size</b></dt></dl><h3 id="89DA82F30B4C53FD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#89DA82F30B4C53FD">¶</a><code class="hdoc-function-code language-cpp">size_t GetNumSlabs() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L289">llvm/include/llvm/Support/Allocator.h:289</a></p><h3 id="04475A70C9E41B8F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#04475A70C9E41B8F">¶</a><code class="hdoc-function-code language-cpp">void PrintStats() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L360">llvm/include/llvm/Support/Allocator.h:360</a></p><h3 id="5BCA32E9EB2E23DD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5BCA32E9EB2E23DD">¶</a><code class="hdoc-function-code language-cpp">void Reset()</code></pre></h3><h4>Description</h4><p>Deallocate all but the current slab and reset the current pointer to the beginning of it, freeing all memory allocated so far.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L195">llvm/include/llvm/Support/Allocator.h:195</a></p><h3 id="371271ED42204620"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#371271ED42204620">¶</a><code class="hdoc-function-code language-cpp">size_t getBytesAllocated() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L354">llvm/include/llvm/Support/Allocator.h:354</a></p><h3 id="EDA44E2FEF05F719"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EDA44E2FEF05F719">¶</a><code class="hdoc-function-code language-cpp">size_t getTotalMemory() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L345">llvm/include/llvm/Support/Allocator.h:345</a></p><h3 id="39A9D0833BF5D332"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#39A9D0833BF5D332">¶</a><code class="hdoc-function-code language-cpp">template &lt;typename T&gt;
int64_t identifyKnownAlignedObject(
    const void* Ptr)</code></pre></h3><h4>Description</h4><p>A wrapper around identifyKnownObject. Accepts type information about the object and produces a smaller identifier by relying on the alignment information. Note that sub-classes may have different alignment, so the most base class should be passed as template parameter in order to obtain correct results. For that reason automatic template parameter deduction is disabled.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L339">llvm/include/llvm/Support/Allocator.h:339</a></p><h4>Templates</h4><dl><dt class="is-family-code"><b> T</b></dt></dl><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt></dl><h4>Returns</h4><p>An index uniquely and reproducibly identifying an input pointer \p Ptr in the given allocator. This identifier is different from the ones produced by identifyObject and identifyAlignedObject.</p><h3 id="9453326A2F3A10AD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9453326A2F3A10AD">¶</a><code class="hdoc-function-code language-cpp">int64_t identifyKnownObject(const void* Ptr)</code></pre></h3><h4>Description</h4><p>A wrapper around identifyObject that additionally asserts that the object is indeed within the allocator.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L322">llvm/include/llvm/Support/Allocator.h:322</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt></dl><h4>Returns</h4><p>An index uniquely and reproducibly identifying an input pointer \p Ptr in the given allocator.</p><h3 id="D71BA1165843BC28"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D71BA1165843BC28">¶</a><code class="hdoc-function-code language-cpp"><a href="r6607998C23E31109.html">llvm::Optional</a>&lt;int64_t&gt; identifyObject(
    const void* Ptr)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L296">llvm/include/llvm/Support/Allocator.h:296</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const void*<b> Ptr</b></dt></dl><h4>Returns</h4><p>An index uniquely and reproducibly identifying an input pointer \p Ptr in the given allocator. The returned value is negative iff the object is inside a custom-size slab. Returns an empty optional if the pointer is not found in the allocator.</p><h3 id="45CE987962D72A08"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#45CE987962D72A08">¶</a><code class="hdoc-function-code language-cpp">void setRedZoneSize(size_t NewSize)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L356">llvm/include/llvm/Support/Allocator.h:356</a></p><h4>Parameters</h4><dl><dt class="is-family-code">size_t<b> NewSize</b></dt></dl><h3 id="1AF18FA7A5F72963"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1AF18FA7A5F72963">¶</a><code class="hdoc-function-code language-cpp">~BumpPtrAllocatorImpl&lt;AllocatorT,
                      SlabSize,
                      SizeThreshold&gt;()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/Support/Allocator.h#L169">llvm/include/llvm/Support/Allocator.h:169</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>