<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>class LiveRangeCalc: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li class="is-active"><a aria-current="page646524B343203A97"><span>class LiveRangeCalc</span></a></li></ul></nav><main class="content"><h1>class LiveRangeCalc</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">class LiveRangeCalc { /* full declaration omitted */ };</code></pre><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L44">llvm/include/llvm/CodeGen/LiveRangeCalc.h:44</a></p><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#0E5B1429DD3D906D"><b>LiveRangeCalc</b></a>()</li><li class="is-family-code">public void  <a href="#C4D3D59BD5708375"><b>addLiveInBlock</b></a>(llvm::LiveRange &amp; LR, llvm::MachineDomTreeNode * DomNode, llvm::SlotIndex Kill = llvm::SlotIndex())</li><li class="is-family-code">public void  <a href="#D550B11F04833F50"><b>calculate</b></a>(llvm::LiveInterval &amp; LI, bool TrackSubRegs)</li><li class="is-family-code">public void  <a href="#5668AE677F95F620"><b>calculateValues</b></a>()</li><li class="is-family-code">public void  <a href="#422690ED1A38C1E4"><b>constructMainRangeFromSubranges</b></a>(llvm::LiveInterval &amp; LI)</li><li class="is-family-code">public void  <a href="#DD30F121F78ACE2C"><b>createDeadDefs</b></a>(llvm::LiveRange &amp; LR, unsigned int Reg)</li><li class="is-family-code">public void  <a href="#D953931456962E23"><b>extend</b></a>(llvm::LiveRange &amp; LR, llvm::SlotIndex Use, unsigned int PhysReg, ArrayRef&lt;llvm::SlotIndex&gt; Undefs)</li><li class="is-family-code">public void  <a href="#474D44ED962BAAA2"><b>extendToUses</b></a>(llvm::LiveRange &amp; LR, unsigned int PhysReg)</li><li class="is-family-code">public static bool  <a href="#0BE042868BD0A72A"><b>isJointlyDominated</b></a>(const llvm::MachineBasicBlock * MBB, ArrayRef&lt;llvm::SlotIndex&gt; Defs, const llvm::SlotIndexes &amp; Indexes)</li><li class="is-family-code">public void  <a href="#FFC9DC0713E71871"><b>reset</b></a>(const llvm::MachineFunction * mf, llvm::SlotIndexes * SI, llvm::MachineDominatorTree * MDT, VNInfo::Allocator * VNIA)</li><li class="is-family-code">public void  <a href="#3AC44111D3EB92EC"><b>setLiveOutValue</b></a>(llvm::MachineBasicBlock * MBB, llvm::VNInfo * VNI)</li></ul><h2>Methods</h2><h3 id="0E5B1429DD3D906D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0E5B1429DD3D906D">¶</a><code class="hdoc-function-code language-cpp">LiveRangeCalc()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L179">llvm/include/llvm/CodeGen/LiveRangeCalc.h:179</a></p><h3 id="C4D3D59BD5708375"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#C4D3D59BD5708375">¶</a><code class="hdoc-function-code language-cpp">void addLiveInBlock(
    <a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp; LR,
    <a href="rB36B13860F326730.html">llvm::MachineDomTreeNode</a>* DomNode,
    <a href="r2F6BF14532790569.html">llvm::SlotIndex</a> Kill = llvm::SlotIndex())</code></pre></h3><h4>Description</h4><p>addLiveInBlock - Add a block with an unknown live-in value.  This function can only be called once per basic block.  Once the live-in value has been determined, calculateValues() will add liveness to LI.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L269">llvm/include/llvm/CodeGen/LiveRangeCalc.h:269</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp;<b> LR</b></dt><dd>The live range that is live-in to the block.</dd><dt class="is-family-code"><a href="rB36B13860F326730.html">llvm::MachineDomTreeNode</a>*<b> DomNode</b></dt><dd>The domtree node for the block.</dd><dt class="is-family-code"><a href="r2F6BF14532790569.html">llvm::SlotIndex</a><b> Kill</b> = llvm::SlotIndex()</dt><dd>Index in block where LI is killed.  If the value is live-through, set Kill = SLotIndex() and also call setLiveOutValue(MBB, 0).</dd></dl><h3 id="D550B11F04833F50"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D550B11F04833F50">¶</a><code class="hdoc-function-code language-cpp">void calculate(<a href="r27ABF72D14947910.html">llvm::LiveInterval</a>&amp; LI,
               bool TrackSubRegs)</code></pre></h3><h4>Description</h4><p>Calculates liveness for the register specified in live interval @p LI. Creates subregister live ranges as needed if subreg liveness tracking is enabled.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L229">llvm/include/llvm/CodeGen/LiveRangeCalc.h:229</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r27ABF72D14947910.html">llvm::LiveInterval</a>&amp;<b> LI</b></dt><dt class="is-family-code">bool<b> TrackSubRegs</b></dt></dl><h3 id="5668AE677F95F620"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#5668AE677F95F620">¶</a><code class="hdoc-function-code language-cpp">void calculateValues()</code></pre></h3><h4>Description</h4><p>calculateValues - Calculate the value that will be live-in to each block added with addLiveInBlock.  Add PHI-def values as needed to preserve SSA form.  Add liveness to all live-in blocks up to the Kill point, or the whole block for live-through blocks. Every predecessor of a live-in block must have been given a value with setLiveOutValue, the value may be null for live-trough blocks.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L281">llvm/include/llvm/CodeGen/LiveRangeCalc.h:281</a></p><h3 id="422690ED1A38C1E4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#422690ED1A38C1E4">¶</a><code class="hdoc-function-code language-cpp">void constructMainRangeFromSubranges(
    <a href="r27ABF72D14947910.html">llvm::LiveInterval</a>&amp; LI)</code></pre></h3><h4>Description</h4><p>For live interval \p LI with correct SubRanges construct matching information for the main live range. Expects the main live range to not have any segments or value numbers.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L234">llvm/include/llvm/CodeGen/LiveRangeCalc.h:234</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r27ABF72D14947910.html">llvm::LiveInterval</a>&amp;<b> LI</b></dt></dl><h3 id="DD30F121F78ACE2C"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#DD30F121F78ACE2C">¶</a><code class="hdoc-function-code language-cpp">void createDeadDefs(<a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp; LR,
                    unsigned int Reg)</code></pre></h3><h4>Description</h4><p>createDeadDefs - Create a dead def in LI for every def operand of Reg. Each instruction defining Reg gets a new VNInfo with a corresponding minimal live range.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L216">llvm/include/llvm/CodeGen/LiveRangeCalc.h:216</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp;<b> LR</b></dt><dt class="is-family-code">unsigned int<b> Reg</b></dt></dl><h3 id="D953931456962E23"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#D953931456962E23">¶</a><code class="hdoc-function-code language-cpp">void extend(<a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp; LR,
            <a href="r2F6BF14532790569.html">llvm::SlotIndex</a> Use,
            unsigned int PhysReg,
            <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::SlotIndex&gt; Undefs)</code></pre></h3><h4>Description</h4><p>Extend the live range of @p LR to reach @p Use. The existing values in @p LR must be live so they jointly dominate @p Use. If @p Use is not dominated by a single existing value, PHI-defs are inserted as required to preserve SSA form. PhysReg, when set, is used to verify live-in lists on basic blocks.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L210">llvm/include/llvm/CodeGen/LiveRangeCalc.h:210</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp;<b> LR</b></dt><dt class="is-family-code"><a href="r2F6BF14532790569.html">llvm::SlotIndex</a><b> Use</b></dt><dt class="is-family-code">unsigned int<b> PhysReg</b></dt><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::SlotIndex&gt;<b> Undefs</b></dt></dl><h3 id="474D44ED962BAAA2"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#474D44ED962BAAA2">¶</a><code class="hdoc-function-code language-cpp">void extendToUses(<a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp; LR,
                  unsigned int PhysReg)</code></pre></h3><h4>Description</h4><p>Extend the live range of @p LR to reach all uses of Reg. All uses must be jointly dominated by existing liveness.  PHI-defs are inserted as needed to preserve SSA form.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L222">llvm/include/llvm/CodeGen/LiveRangeCalc.h:222</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rDDDD5550CBC4FA70.html">llvm::LiveRange</a>&amp;<b> LR</b></dt><dt class="is-family-code">unsigned int<b> PhysReg</b></dt></dl><h3 id="0BE042868BD0A72A"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0BE042868BD0A72A">¶</a><code class="hdoc-function-code language-cpp">static bool isJointlyDominated(
    const <a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>* MBB,
    <a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::SlotIndex&gt; Defs,
    const <a href="rE668498B8DB6606C.html">llvm::SlotIndexes</a>&amp; Indexes)</code></pre></h3><h4>Description</h4><p>A diagnostic function to check if the end of the block @p MBB is jointly dominated by the blocks corresponding to the slot indices in @p Defs. This function is mainly for use in self-verification checks.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L288">llvm/include/llvm/CodeGen/LiveRangeCalc.h:288</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>*<b> MBB</b></dt><dt class="is-family-code"><a href="r88137505AF2B6C74.html">ArrayRef</a>&lt;llvm::SlotIndex&gt;<b> Defs</b></dt><dt class="is-family-code">const <a href="rE668498B8DB6606C.html">llvm::SlotIndexes</a>&amp;<b> Indexes</b></dt></dl><h3 id="FFC9DC0713E71871"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FFC9DC0713E71871">¶</a><code class="hdoc-function-code language-cpp">void reset(const <a href="r0899A788A19F8C40.html">llvm::MachineFunction</a>* mf,
           <a href="rE668498B8DB6606C.html">llvm::SlotIndexes</a>* SI,
           <a href="r0B154C800CB6B6BA.html">llvm::MachineDominatorTree</a>* MDT,
           <a href="r7A6342B286765F76.html">VNInfo::Allocator</a>* VNIA)</code></pre></h3><h4>Description</h4><p>reset - Prepare caches for a new set of non-overlapping live ranges.  The caches must be reset before attempting calculations with a live range that may overlap a previously computed live range, and before the first live range in a function.  If live ranges are not known to be non-overlapping, call reset before each.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L193">llvm/include/llvm/CodeGen/LiveRangeCalc.h:193</a></p><h4>Parameters</h4><dl><dt class="is-family-code">const <a href="r0899A788A19F8C40.html">llvm::MachineFunction</a>*<b> mf</b></dt><dt class="is-family-code"><a href="rE668498B8DB6606C.html">llvm::SlotIndexes</a>*<b> SI</b></dt><dt class="is-family-code"><a href="r0B154C800CB6B6BA.html">llvm::MachineDominatorTree</a>*<b> MDT</b></dt><dt class="is-family-code"><a href="r7A6342B286765F76.html">VNInfo::Allocator</a>*<b> VNIA</b></dt></dl><h3 id="3AC44111D3EB92EC"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3AC44111D3EB92EC">¶</a><code class="hdoc-function-code language-cpp">void setLiveOutValue(<a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>* MBB,
                     <a href="r87AF532468F21358.html">llvm::VNInfo</a>* VNI)</code></pre></h3><h4>Description</h4><p>setLiveOutValue - Indicate that VNI is live out from MBB.  The calculateValues() function will not add liveness for MBB, the caller should take care of that. VNI may be null only if MBB is a live-through block also passed to addLiveInBlock().</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/CodeGen/LiveRangeCalc.h#L255">llvm/include/llvm/CodeGen/LiveRangeCalc.h:255</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="rD94B5FBC5E7E6A08.html">llvm::MachineBasicBlock</a>*<b> MBB</b></dt><dt class="is-family-code"><a href="r87AF532468F21358.html">llvm::VNInfo</a>*<b> VNI</b></dt></dl></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>