<!DOCTYPE html><html><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><title>struct FunctionInfo: LLVM 10.0.0 documentation</title><link href="styles.css" rel="stylesheet"></link><script src="highlight.min.js"></script><script>hljs.highlightAll();</script><link href="katex.min.css" rel="stylesheet"></link><script src="katex.min.js"></script><script src="auto-render.min.js"></script><script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(document.body, {
        delimiters: [
          {left: '$$', right: '$$', display: true},
          {left: '$', right: '$', display: false},
        ],
      });
    });
  </script><link href="apple-touch-icon.png" sizes="180x180" rel="apple-touch-icon"></link><link href="favicon-32x32.png" sizes="32x32" type="image/png" rel="icon"></link><link href="favicon-16x16.png" sizes="16x16" type="image/png" rel="icon"></link></head><body><div id="wrapper"><section class="section"><div class="container"><div class="columns"><aside class="column is-one-fifth"><ul class="menu-list"><p class="is-size-4">LLVM 10.0.0</p><p class="menu-label">Navigation</p><li><a href="index.html">Home</a></li><li><a href="search.html">Search</a></li><li><a href="https://github.com/llvm/llvm-project/">Repository</a></li><li><a href="https://hdoc.io">Made with hdoc</a></li><p class="menu-label">API Documentation</p><li><a href="functions.html">Functions</a></li><li><a href="records.html">Records</a></li><li><a href="enums.html">Enums</a></li><li><a href="namespaces.html">Namespaces</a></li></ul></aside><div class="column" style="overflow-x: auto"><nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs"><ul><li><a href="namespaces.html#00A4DA910CC17C2D"><span>namespace llvm</span></a></li><li><a href="namespaces.html#BF3258AEA677DB5D"><span>namespace gsym</span></a></li><li class="is-active"><a aria-current="page90D903A8E089D92B"><span>struct FunctionInfo</span></a></li></ul></nav><main class="content"><h1>struct FunctionInfo</h1><h2>Declaration</h2><pre class="p-0"><code class="hdoc-record-code language-cpp">struct FunctionInfo { /* full declaration omitted */ };</code></pre><h2>Description</h2><p>Function information in GSYM files encodes information for one contiguous address range. If a function has discontiguous address ranges, they will need to be encoded using multiple FunctionInfo objects. ENCODING The function information gets the function start address as an argument to the FunctionInfo::decode(...) function. This information is calculated from the GSYM header and an address offset from the GSYM address offsets table. The encoded FunctionInfo information must be aligned to a 4 byte boundary. The encoded data for a FunctionInfo starts with fixed data that all function info objects have: ENCODING  NAME        DESCRIPTION ========= =========== ==================================================== uint32_t  Size        The size in bytes of this function. uint32_t  Name        The string table offset of the function name. The optional data in a FunctionInfo object follows this fixed information and consists of a stream of tuples that consist of: ENCODING  NAME        DESCRIPTION ========= =========== ==================================================== uint32_t  InfoType    An &quot;InfoType&quot; enumeration that describes the type of optional data that is encoded. uint32_t  InfoLength  The size in bytes of the encoded data that immediately follows this length if this value is greater than zero. uint8_t[] InfoData    Encoded bytes that represent the data for the &quot;InfoType&quot;. These bytes are only present if &quot;InfoLength&quot; is greater than zero. The &quot;InfoType&quot; is an enumeration: enum InfoType { EndOfList = 0u, LineTableInfo = 1u, InlineInfo = 2u }; This stream of tuples is terminated by a &quot;InfoType&quot; whose value is InfoType::EndOfList and a zero for &quot;InfoLength&quot;. This signifies the end of the optional information list. This format allows us to add new optional information data to a FunctionInfo object over time and allows older clients to still parse the format and skip over any data that they don&apos;t understand or want to parse. So the function information encoding essientially looks like: struct { uint32_t Size; uint32_t Name; struct { uint32_t InfoType; uint32_t InfoLength; uint8_t InfoData[InfoLength]; }[N]; } Where &quot;N&quot; is the number of tuples.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L88">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:88</a></p><h2>Member Variables</h2><dl><dt class="is-family-code" id="var_Range">public  <a href="r741A3EB2127D90D2.html">llvm::gsym::AddressRange</a> <b>Range</b></dt><dt class="is-family-code" id="var_Name">public  uint32_t <b>Name</b></dt><dd>String table offset in the string table.</dd><dt class="is-family-code" id="var_OptLineTable">public  <a href="r6607998C23E31109.html">llvm::Optional</a>&lt;LineTable&gt; <b>OptLineTable</b></dt><dt class="is-family-code" id="var_Inline">public  <a href="r6607998C23E31109.html">llvm::Optional</a>&lt;InlineInfo&gt; <b>Inline</b></dt></dl><h2>Method Overview</h2><ul><li class="is-family-code">public  <a href="#090151568D64B798"><b>FunctionInfo</b></a>(uint64_t Addr = 0, uint64_t Size = 0, uint32_t N = 0)</li><li class="is-family-code">public void  <a href="#3B5E2FBE5A8CF493"><b>clear</b></a>()</li><li class="is-family-code">public static llvm::Expected&lt;FunctionInfo&gt;  <a href="#0B113AFB708F63B3"><b>decode</b></a>(llvm::DataExtractor &amp; Data, uint64_t BaseAddr)</li><li class="is-family-code">public llvm::Expected&lt;uint64_t&gt;  <a href="#2AA73B93FD58482B"><b>encode</b></a>(llvm::gsym::FileWriter &amp; O) const</li><li class="is-family-code">public uint64_t  <a href="#9D0C5F1A3E318630"><b>endAddress</b></a>() const</li><li class="is-family-code">public bool  <a href="#1E817DF026D3547F"><b>hasRichInfo</b></a>() const</li><li class="is-family-code">public bool  <a href="#FFC7212885541311"><b>isValid</b></a>() const</li><li class="is-family-code">public static llvm::Expected&lt;LookupResult&gt;  <a href="#E4B57976FBC0D4B4"><b>lookup</b></a>(llvm::DataExtractor &amp; Data, const llvm::gsym::GsymReader &amp; GR, uint64_t FuncAddr, uint64_t Addr)</li><li class="is-family-code">public void  <a href="#EBF73198C20A6CCD"><b>setEndAddress</b></a>(uint64_t Addr)</li><li class="is-family-code">public void  <a href="#4FA79394F38D942E"><b>setSize</b></a>(uint64_t Size)</li><li class="is-family-code">public void  <a href="#0BEA28755695C330"><b>setStartAddress</b></a>(uint64_t Addr)</li><li class="is-family-code">public uint64_t  <a href="#77CC2725569E7A8D"><b>size</b></a>() const</li><li class="is-family-code">public uint64_t  <a href="#9D2C6713BD44FC37"><b>startAddress</b></a>() const</li></ul><h2>Methods</h2><h3 id="090151568D64B798"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#090151568D64B798">¶</a><code class="hdoc-function-code language-cpp">FunctionInfo(uint64_t Addr = 0,
             uint64_t Size = 0,
             uint32_t N = 0)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L94">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:94</a></p><h4>Parameters</h4><dl><dt class="is-family-code">uint64_t<b> Addr</b> = 0</dt><dt class="is-family-code">uint64_t<b> Size</b> = 0</dt><dt class="is-family-code">uint32_t<b> N</b> = 0</dt></dl><h3 id="3B5E2FBE5A8CF493"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#3B5E2FBE5A8CF493">¶</a><code class="hdoc-function-code language-cpp">void clear()</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L179">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:179</a></p><h3 id="0B113AFB708F63B3"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0B113AFB708F63B3">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">llvm::Expected</a>&lt;FunctionInfo&gt; decode(
    <a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp; Data,
    uint64_t BaseAddr)</code></pre></h3><h4>Description</h4><p>Decode an object from a binary data stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L133">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:133</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp;<b> Data</b></dt><dd>The binary stream to read the data from. This object must have the data for the object starting at offset zero. The data can contain more data than needed.</dd><dt class="is-family-code">uint64_t<b> BaseAddr</b></dt><dd>The FunctionInfo&apos;s start address and will be used as the base address when decoding any contained information like the line table and the inline info.</dd></dl><h4>Returns</h4><p>An FunctionInfo or an error describing the issue that was encountered during decoding.</p><h3 id="2AA73B93FD58482B"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#2AA73B93FD58482B">¶</a><code class="hdoc-function-code language-cpp"><a href="r004187BCD48C0729.html">llvm::Expected</a>&lt;uint64_t&gt; encode(
    <a href="r8C7403547ECE28F8.html">llvm::gsym::FileWriter</a>&amp; O) const</code></pre></h3><h4>Description</h4><p>Encode this object into FileWriter stream.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L143">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:143</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r8C7403547ECE28F8.html">llvm::gsym::FileWriter</a>&amp;<b> O</b></dt><dd>The binary stream to write the data to at the current file position.</dd></dl><h4>Returns</h4><p>An error object that indicates failure or the offset of the function info that was successfully written into the stream.</p><h3 id="9D0C5F1A3E318630"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9D0C5F1A3E318630">¶</a><code class="hdoc-function-code language-cpp">uint64_t endAddress() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L173">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:173</a></p><h3 id="1E817DF026D3547F"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#1E817DF026D3547F">¶</a><code class="hdoc-function-code language-cpp">bool hasRichInfo() const</code></pre></h3><h4>Description</h4><p>Query if a FunctionInfo has rich debug info.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L104">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:104</a></p><h4>Returns</h4><p>A bool that indicates if this object has something else than range and name. When converting information from a symbol table and from debug info, we might end up with multiple FunctionInfo objects for the same range and we need to be able to tell which one is the better object to use.</p><h3 id="FFC7212885541311"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#FFC7212885541311">¶</a><code class="hdoc-function-code language-cpp">bool isValid() const</code></pre></h3><h4>Description</h4><p>Query if a FunctionInfo object is valid. Address and size can be zero and there can be no line entries for a symbol so the only indication this entry is valid is if the name is not zero. This can happen when extracting information from symbol tables that do not encode symbol sizes. In that case only the address and name will be filled in.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L117">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:117</a></p><h4>Returns</h4><p>A boolean indicating if this FunctionInfo is valid.</p><h3 id="E4B57976FBC0D4B4"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#E4B57976FBC0D4B4">¶</a><code class="hdoc-function-code language-cpp">static <a href="r004187BCD48C0729.html">llvm::Expected</a>&lt;LookupResult&gt; lookup(
    <a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp; Data,
    const <a href="r880625DA1CCDAD83.html">llvm::gsym::GsymReader</a>&amp; GR,
    uint64_t FuncAddr,
    uint64_t Addr)</code></pre></h3><h4>Description</h4><p>Lookup an address within a FunctionInfo object&apos;s data stream. Instead of decoding an entire FunctionInfo object when doing lookups, we can decode only the information we need from the FunctionInfo&apos;s data for the specific address. The lookup result information is returned as a LookupResult.</p><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L167">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:167</a></p><h4>Parameters</h4><dl><dt class="is-family-code"><a href="r5792405E0ED5001C.html">llvm::DataExtractor</a>&amp;<b> Data</b></dt><dd>The binary stream to read the data from. This object must have the data for the object starting at offset zero. The data can contain more data than needed.</dd><dt class="is-family-code">const <a href="r880625DA1CCDAD83.html">llvm::gsym::GsymReader</a>&amp;<b> GR</b></dt><dd>The GSYM reader that contains the string and file table that will be used to fill in information in the returned result.</dd><dt class="is-family-code">uint64_t<b> FuncAddr</b></dt><dd>The function start address decoded from the GsymReader.</dd><dt class="is-family-code">uint64_t<b> Addr</b></dt><dd>The address to lookup.</dd></dl><h4>Returns</h4><p>An LookupResult or an error describing the issue that was encountered during decoding. An error should only be returned if the address is not contained in the FunctionInfo or if the data is corrupted.</p><h3 id="EBF73198C20A6CCD"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#EBF73198C20A6CCD">¶</a><code class="hdoc-function-code language-cpp">void setEndAddress(uint64_t Addr)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L176">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:176</a></p><h4>Parameters</h4><dl><dt class="is-family-code">uint64_t<b> Addr</b></dt></dl><h3 id="4FA79394F38D942E"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#4FA79394F38D942E">¶</a><code class="hdoc-function-code language-cpp">void setSize(uint64_t Size)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L177">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:177</a></p><h4>Parameters</h4><dl><dt class="is-family-code">uint64_t<b> Size</b></dt></dl><h3 id="0BEA28755695C330"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#0BEA28755695C330">¶</a><code class="hdoc-function-code language-cpp">void setStartAddress(uint64_t Addr)</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L175">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:175</a></p><h4>Parameters</h4><dl><dt class="is-family-code">uint64_t<b> Addr</b></dt></dl><h3 id="77CC2725569E7A8D"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#77CC2725569E7A8D">¶</a><code class="hdoc-function-code language-cpp">uint64_t size() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L174">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:174</a></p><h3 id="9D2C6713BD44FC37"><pre class="p-0 hdoc-pre-parent"><a class="hdoc-permalink-icon" href="#9D2C6713BD44FC37">¶</a><code class="hdoc-function-code language-cpp">uint64_t startAddress() const</code></pre></h3><p>Declared at: <a class="is-family-code" href="https://github.com/llvm/llvm-project/blob/release/10.x/llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h#L172">llvm/include/llvm/DebugInfo/GSYM/FunctionInfo.h:172</a></p></main></div></div></div></section></div><footer class="footer"><p>Documentation for LLVM 10.0.0.</p><p>Generated by <a href="https://hdoc.io/">hdoc</a> version 1.4.0-hdocInternal on 2022-12-14T09:44:14 UTC.</p><p class="has-text-grey-light">19AD43E11B2996</p></footer></body></html>